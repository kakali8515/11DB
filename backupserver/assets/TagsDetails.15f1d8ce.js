import{R as T,af as Qe,_ as fe,ag as Xe,o as _,c,w as U,a as s,t as d,n as f,F,s as G,m as Ae,b as y,y as Pe,z as Fe,P as Ue,aG as ce,T as Y,V as wt,U as kt,aB as Ct,r as K,p as N,q as M,l as Oe,k as ue,v as re,a3 as Ge,B as $,ab as $e,ac as et,i as It,ay as Ye,aC as xe,N as Lt,O as Mt,E as b,K as Dt,G as Tt,aF as Ve,d as pe}from"./index.d6ed331f.js";import{_ as tt}from"./close.0afef835.js";import{a as St,V as Et,I as Nt,b as qt,c as it}from"./modal-img-cross.dc10eb7b.js";import{A as Re}from"./AddNewMovieService.a6b28c14.js";import{M as ze}from"./Modal.983ede5b.js";import{_ as st}from"./checkbox-checked.c6ca7d68.js";class at{async getSeasonList(e,a,t){return await T.post("/title/edit/season-request-list",{title_id:e,draft_request_id:t,site_language:a}).then(l=>l).catch(l=>l)}async getEditTVPrimaryDetails(e,a,t,l){return await T.get("/title/edit/get-tv-primary-details",{params:{title_id:e,request_id:a,site_language:t,tmdb_id:l}}).then(o=>o).catch(o=>o)}async editTVPrimaryDetails(e){return await T.post("/title/edit/tv-primary-details",{...e}).then(a=>a).catch(a=>a)}async getEditTVSeasonDetails(e,a,t,l,o){return await T.get("/title/edit/get-tv-request-season-details",{params:{title_id:e,season_id:a,draft_request_id:t,draft_season_id:l,language:o}}).then(v=>v).catch(v=>v)}async editSeasonDeatils(e){return await T.post("/title/edit/season-details",e).then(a=>a).catch(a=>a)}async getEditSeasonList(e,a,t){return await T.post("/title/edit/season-list",{title_id:e,draft_request_id:a,site_language:t}).then(l=>l).catch(l=>l)}async searchEditEpisodes(e){return await T.post("/title/edit/episode-request-list",{...e}).then(a=>a).catch(a=>a)}async editEpisodeDetails(e){return await T.post("/title/edit/edit-episode-details",e).then(a=>a).catch(a=>a)}async saveEditEpisode(e){return await T.post("/title/edit/save-episode-details",{...e}).then(a=>a).catch(a=>a)}async getEditEpisodeDetails(e,a,t,l,o,v,w,C){return await T.get("/title/edit/get-tv-request-episode-details/",{params:{language:e,request_id:a,episode_id:t,episode_number:l,title_id:o,season_id:v,draft_season_id:w,draft_episode_id:C}}).then(I=>I).catch(I=>I)}}const Vt={name:"WatchStream",props:{ottList:Array,selectText:String,belowList:Array,watchstream:Array,errorValue:String,isEdit:Boolean},data(){return{toggle:!1}},computed:{addedList(){return this.watchstream}},directives:{clickOutside:Qe.directive},emits:["watchInput"],methods:{addItem(i){this.belowList.find(a=>a.ott_service_provider_id==i.ott_service_provider_id||a.provider_id==i.ott_service_provider_id)||(this.belowList.push(i),this.$route.params.type=="internal"?this.addedList.push({ott_provider_id:i.ott_service_provider_id,ott_provider_provided_id:"",id:""}):this.addedList.push({ott_provider_id:i.ott_service_provider_id,ott_provider_provided_id:""}),this.$emit("watchInput",this.addedList))},removeItem(i){if(this.belowList.find(a=>a.ott_service_provider_id==i.ott_service_provider_id||a.provider_id==i.ott_service_provider_id)){this.belowList.splice(this.belowList.indexOf(i),1);for(let a=0;a<this.addedList.length;a++)(this.addedList[a].ott_provider_id==i.ott_service_provider_id||this.addedList[a].ott_provider_id==i.provider_id)&&this.addedList.splice(a,1);this.ottList.map(a=>{a.movie_id=""}),this.$emit("watchInput",this.addedList)}},addInputItem(i,e){let a=this.addedList.find(l=>l.ott_provider_id==e.ott_service_provider_id||l.ott_provider_id==e.provider_id);a&&(a.ott_provider_provided_id=i.target.value,this.$emit("watchInput",this.addedList));let t=this.belowList.find(l=>l==e);t&&(t.movie_id=i.target.value)}}},At={class:"dropdown_wrap"},jt=s("span",{class:"arows"},[s("svg",{width:"8",height:"6",viewBox:"0 0 8 6",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.234315 0.834412C0.546734 0.521993 1.05327 0.521993 1.36569 0.834412L4 3.46873L6.63432 0.834412C6.94673 0.521993 7.45327 0.521993 7.76569 0.834412C8.0781 1.14683 8.0781 1.65336 7.76569 1.96578L4.56569 5.16578C4.25327 5.4782 3.74673 5.4782 3.43431 5.16578L0.234315 1.96578C-0.0781049 1.65336 -0.0781049 1.14683 0.234315 0.834412Z",fill:"white"})])],-1),Bt={class:"watch-list-area"},Ot=["onClick","disabled"],Pt={class:"selectTags-area"},Ft={class:"icon-txt"},Ut=["src"],Rt=["value","placeholder","onChange","disabled"],zt=["onClick"];function Jt(i,e,a,t,l,o){const v=Xe("click-outside");return _(),c(F,null,[U((_(),c("div",At,[s("div",{class:f(["togglesdrop",a.errorValue?"error-border":""]),onClick:e[0]||(e[0]=w=>l.toggle=!l.toggle)},[s("p",null,d(a.selectText),1),jt],2),U(s("div",Bt,[s("ul",null,[(_(!0),c(F,null,G(a.ottList,(w,C)=>(_(),c("li",{key:C},[s("span",null,d(w.ott_service_provider_name),1),s("a",{onClick:I=>a.isEdit?"":o.addItem(w),disabled:a.isEdit,class:f(a.isEdit?"isDisabled":"")},d(i.$t("addNewPeople.mediadetails.add+")),11,Ot)]))),128))])],512),[[Ae,l.toggle]])])),[[v,()=>l.toggle=!1]]),s("div",Pt,[(_(!0),c(F,null,G(a.belowList,(w,C)=>(_(),c("div",{class:"watchTags",key:C},[s("div",Ft,[s("img",{src:w.ott_logo_path},null,8,Ut),y(" <span></span> "),s("input",{value:w.movie_id,type:"text",placeholder:i.$t("addNewMoviesForm.EntermovieID"),onChange:I=>o.addInputItem(I,w),disabled:a.isEdit},null,40,Rt)]),s("div",{class:f(["corss",a.isEdit?"isDisabled":""]),onClick:I=>o.removeItem(w)},[s("img",{src:tt,class:f(a.isEdit?"pointer-events-none":"")},null,2)],10,zt)]))),128))])],64)}const td=fe(Vt,[["render",Jt],["__file","D:/11-db-frontend/11_db/src/components/AddNewmovie/WatchStream.vue"]]);class Je{async getEditMoviePrimaryDetails(e,a,t,l,o){return await T.get("/title/edit/get-movie-primary-details",{params:{title_id:e,request_id:a,site_language:t,tmdb_id:l,kobis_id:o}}).then(v=>v).catch(v=>v)}async editMoviePrimaryDetails(e){return await T.post("/title/edit/movie-primary-details",{...e}).then(a=>a).catch(a=>a)}async getTagDetails(e,a,t){return await T.post("/title/edit/tag-request-list",{title_id:t,draft_request_id:e,site_language:a}).then(l=>l).catch(l=>l)}async saveTag(e){return await T.post("/title/edit/save-tag-details",{...e}).then(a=>a).catch(a=>a)}async uploadMediaImages(e){return await T.post("/title/edit/upload-image",e,{headers:{"Content-Type":"multipart/form-data"}}).then(a=>a).catch(a=>a)}async uploadBackgroundImages(e){return await T.post("/title/edit/upload-background-image",e).then(a=>a).catch(a=>a)}async uploadPosterImages(e){return await T.post("/title/edit/upload-poster-image",e).then(a=>a).catch(a=>a)}async creditRequestList(e,a,t,l,o,v,w){return await T.post("/title/edit/cast-crew-request-list",{title_id:e,draft_request_id:a,title_type:t,site_language:l,credit_type:o,season_id:v,draft_season_id:w}).then(C=>C).catch(C=>C)}async editCreditDetails(e){return await T.post("/title/edit/credit-details",{...e}).then(a=>a).catch(a=>a)}async createNewCredit(e){return await T.post("/title/edit/create-new-credit",e).then(a=>a).catch(a=>a)}async editMediaRequestList(e,a,t,l,o,v,w){return await T.post("/title/edit/media-request-list",{title_id:e,draft_request_id:a,site_language:t,title_type:l,media_type:o,season_id:v,draft_season_id:w}).then(C=>C).catch(C=>C)}async editMediaDetails(e){return await T.post("/title/edit/media-details",{...e}).then(a=>a).catch(a=>a)}async submitData(e,a,t){return await T.post("/title/edit/submit-all-save-title",{draft_relation_id:e,title_id:a,title_type:t}).then(l=>l).catch(l=>l)}}const Ht="/assets/img-tags.6db0371d.svg",Zt={name:"PosterThumb",components:{},props:{poster:Object},data(){return{shows:!1,toggle:!1}},directives:{clickOutside:Qe.directive},methods:{removeItem(){this.$emit("removeItem",this.poster),this.toggle=!1,this.shows=!1},setMainPoster(){this.$emit("setPoster",this.poster),this.toggle=!1,this.shows=!1}}},Wt={class:"thumbs"},Kt=["src"],Gt={key:0,class:"defaults"},Yt=s("img",{src:Ht},null,-1),xt=[Yt],Qt={key:0,class:"overlay"},Xt={key:1,class:"optionmenu"},$t=s("img",{src:St,alt:"play"},null,-1),ei=[$t],ti={class:"dropstxt"};function ii(i,e,a,t,l,o){const v=Xe("click-outside");return U((_(),c("div",Wt,[s("div",{class:"imgs-area",onClick:e[0]||(e[0]=w=>l.shows=!l.shows)},[s("img",{src:a.poster.poster_path,alt:"img"},null,8,Kt),a.poster.is_main_poster=="y"?(_(),c("span",Gt,xt)):y("v-if",!0)]),l.shows?(_(),c("div",Qt)):y("v-if",!0),l.shows?(_(),c("div",Xt,[s("span",{onClick:e[1]||(e[1]=w=>l.toggle=!l.toggle)},ei),U(s("div",ti,[s("p",{onClick:e[2]||(e[2]=(...w)=>o.setMainPoster&&o.setMainPoster(...w))},d(i.$t("videoThumb.setMainPoster")),1),s("p",{onClick:e[3]||(e[3]=(...w)=>o.removeItem&&o.removeItem(...w))},d(i.$t("button.delete")),1)],512),[[Ae,l.toggle]])])):y("v-if",!0)])),[[v,()=>(l.shows=!1,l.toggle=!1)]])}const si=fe(Zt,[["render",ii],["__file","D:/11-db-frontend/11_db/src/components/PosterThumb.vue"]]);class lt{async getSeasonDetails(e,a){return await T.post("/title/season-request-list",{draft_request_id:e,site_language:a}).then(t=>t).catch(t=>t)}async addPrimaryDetails(e){return await T.post("/title/add-tv-primary-details",{...e}).then(a=>a).catch(a=>a)}async getPrimaryDetails(e,a,t){return await T.get("/title/get-tv-primary-details",{params:{site_language:a,request_id:e,tmdb_id:t}}).then(l=>l).catch(l=>l)}async getSeasonList(e,a){return await T.post("/title/episode/season-list",{draft_request_id:e,site_language:a}).then(t=>t).catch(t=>t)}async seasonDetails(e,a,t,l,o){return await T.get(`/title/get-tv-request-season-details/${a}?language=${e}&season_id=${t}&tmdb_id=${l}&season_no=${o}`).then(v=>v).catch(v=>v)}async getSeasonOTTList(e,a){return await T.get(`/title/ott-service-provider-list?site_language=${e}&type=${a}`).then(t=>t).catch(t=>t)}async getChannelList(){return await T.get("/title/tv-network-list").then(e=>e).catch(e=>e)}async addSeasonDeatils(e){return await T.post("/title/add-season-details",e).then(a=>a).catch(a=>a)}async searchConnections(e){return await T.get("/title/title-search-for-connections",{params:{...e}}).then(a=>a).catch(a=>a)}async searchEpisodes(e){return await T.post("/title/episode-request-list",{...e}).then(a=>a).catch(a=>a)}async saveEpisode(e){return await T.post("/title/save-episode-details",{...e}).then(a=>a).catch(a=>a)}async getEpisodeDetails(e,a,t,l,o,v){return await T.get(`/title/get-tv-request-episode-details/${a}?language=${e}&episode_id=${t}&episode_number=${l}&tmdb_id=${o}&season_no=${v}`).then(w=>w).catch(w=>w)}async addEpisodeDetails(e){return await T.post("/title/add-episode-details",e).then(a=>a).catch(a=>a)}}const ai="/assets/img-upload.d673f6e3.svg";const li={name:"MediaDetails",components:{Tabs:Pe,TabWrapper:Fe,VideoThumb:Et,ImageThumb:Nt,PosterThumb:si,PopUpModal:Ue,Modal:ze},props:{site_language:{type:String},itemType:{type:String},saveIdList:{type:Object}},emits:["selectedId","isEditOn"],created(){this.AddNewMovieService=new Re,this.addNewTVService=new lt,this.EditMovieService=new Je,this.EditTVService=new at},data(){return{isEdit:!1,toggle:!1,hover:!1,hover2:!1,isVideoModal:!1,isImageModal:!1,isPosterModal:!1,video_url:"",video_title:"",is_official_trailer:"",error:{},video_list:[],background_image:"",background_image_url:"",background_error_msg:"",multipleImages:[],images:[],title_type:this.itemType=="tv"?"tv":"movie",video_details:[],image_details:[],poster_details:[],is_main_poster:"",poster_url:"",poster_image:"",poster_image_list:[],routeId:this.$route.params.id,draft_media_id:"",image_list:[],seasonData:[],season_id:"",isSubmit:!1,background_image_object:[],isAddNewImages:!1,isAddNewPoster:!1,title_id:this.$route.params.type=="internal"?this.$route.params.external_id:"",exist_season_id:"",isOKOnceClick:!1,selectSeason:""}},mounted(){var e,a,t,l;this.$route.params.type=="internal"&&(this.isEdit=!0);const i=JSON.parse(localStorage.getItem("draft_ids")||"[]");i[0]?this.routeId=(a=(e=i[0])==null?void 0:e.primaryDetails[this.title_type][this.site_language])!=null&&a.draft_request_id?(l=(t=i[0])==null?void 0:t.primaryDetails[this.title_type][this.site_language])==null?void 0:l.draft_request_id:"":this.routeId=this.routeId,this.itemType=="tv"&&this.seasonList(),setTimeout(()=>{this.getVideoList(),this.getImageList(),this.getPosterList()},1e3)},watch:{site_language:function(i,e){var a,t,l,o;if(i&&i!=e){const v=JSON.parse(localStorage.getItem("draft_ids")||"[]");v[0]?this.routeId=(t=(a=v[0])==null?void 0:a.primaryDetails[this.title_type][this.site_language])!=null&&t.draft_request_id?(o=(l=v[0])==null?void 0:l.primaryDetails[this.title_type][this.site_language])==null?void 0:o.draft_request_id:"":this.routeId=this.routeId,this.itemType=="tv"&&this.seasonList(),this.video_details=[],this.background_image="",this.image_list=[],this.poster_image_list=[],this.background_image_object=[],this.background_image_url="",setTimeout(()=>{this.getVideoList(),this.getImageList(),this.getPosterList()},1e3)}}},methods:{seasonList(){let i;this.$route.params.type=="internal"?i=this.EditTVService.getEditSeasonList(this.title_id,this.routeId,this.site_language):i=this.addNewTVService.getSeasonList(this.routeId,this.site_language),(this.routeId||this.title_id)&&i.then(e=>{e.status==200?(this.seasonData=e.data.results,this.selectSeason=e.data.results[0],this.season_id=e.data.results[0].draft_season_id,this.exist_season_id=e.data.results[0].season_id?e.data.results[0].season_id:""):(this.seasonData=[],this.selectSeason="",this.season_id="",this.exist_season_id="",this.video_details=[],this.background_image="",this.image_list=[],this.poster_image_list=[],this.background_image_object=[],this.background_image_url="")}).catch(e=>{})},getSeasonId(i){this.season_id=i.draft_season_id?i.draft_season_id:"",this.exist_season_id=i.season_id?i.season_id:"",this.selectSeason=i,this.video_details=[],this.background_image="",this.image_list=[],this.poster_image_list=[],this.background_image_object=[],this.background_image_url="",this.getVideoList(),this.getImageList(),this.getPosterList()},getVideoList(){let i;this.$route.params.type=="internal"?i=this.EditMovieService.editMediaRequestList(this.title_id,this.routeId,this.site_language,this.title_type,"video",this.exist_season_id,this.season_id?this.season_id:""):i=this.AddNewMovieService.mediaRequestList(this.routeId,this.site_language,this.title_type,"video",this.season_id),(this.routeId||this.title_id)&&i.then(e=>{var a,t;e.status==200&&(this.video_details=e.data.video_details||e.data.result,this.draft_media_id=(a=e.data.video_details[0])!=null&&a.draft_media_id?(t=e.data.video_details[0])==null?void 0:t.draft_media_id:this.draft_media_id,Array.from(e.data.video_details).forEach((l,o)=>{this.video_details[o].video_id=l.id?l.id:"",this.video_details[o].id=this.validateVimeoURL(l.video_url)||this.matchYoutubeUrl(l.video_url),this.validateVimeoURL(l.video_url)?this.video_details[o].type="vimeo":this.video_details[o].type="youtube",this.video_details[o].action_type="e",this.video_list.push({video_url:l.video_url,video_title:l.video_title,is_official_trailer:l.is_official_trailer,action_type:"e"})}))}).catch(e=>{})},getImageList(){let i;this.$route.params.type=="internal"?i=this.EditMovieService.editMediaRequestList(this.title_id,this.routeId,this.site_language,this.title_type,"image",this.exist_season_id,this.season_id):i=this.AddNewMovieService.mediaRequestList(this.routeId,this.site_language,this.title_type,"image",this.season_id),(this.routeId||this.title_id)&&i.then(e=>{var a,t,l,o;e.status==200&&(this.image_details=e.data.image_details||e.data.result,this.draft_media_id=(a=e.data.bg_image_details[0])!=null&&a.draft_media_id?(t=e.data.bg_image_details[0])==null?void 0:t.draft_media_id:this.draft_media_id,this.draft_media_id=(l=e.data.image_details[0])!=null&&l.draft_media_id?(o=e.data.image_details[0])==null?void 0:o.draft_media_id:this.draft_media_id,this.background_image_url=e.data.bg_image_details[0].image_path,this.background_image_object.push({action_type:"e",originalname:e.data.bg_image_details[0].image_original_name,filename:e.data.bg_image_details[0].image_file_name||e.data.bg_image_details[0].image_original_name,path:e.data.bg_image_details[0].image_path,size:"",mime_type:""}),this.$route.params.type=="internal"&&(this.background_image_object[0].id=e.data.bg_image_details[0].id?e.data.bg_image_details[0].id:""),Array.from(this.image_details).forEach((v,w)=>{this.image_list.push({originalname:v.image_file_name||v.image_original_name,path:v.image_path,size:"",mime_type:"",filename:v.image_file_name,action_type:"e",id:v.id?v.id:""}),this.image_details[w].action_type="e",this.image_details[w].filename=v.image_file_name||v.image_original_name,this.image_details[w].size="",this.image_details[w].mime_type="",this.image_details[w].id=v.id?v.id:""}))}).catch(e=>{})},getPosterList(){let i;this.$route.params.type=="internal"?i=this.EditMovieService.editMediaRequestList(this.title_id,this.routeId,this.site_language,this.title_type,"poster",this.exist_season_id,this.season_id):i=this.AddNewMovieService.mediaRequestList(this.routeId,this.site_language,this.title_type,"poster",this.season_id),(this.routeId||this.title_id)&&i.then(e=>{var a,t;e.status==200&&(this.poster_details=e.data.poster_details||e.data.result,this.draft_media_id=(a=e.data.poster_details[0])!=null&&a.draft_media_id?(t=e.data.poster_details[0])==null?void 0:t.draft_media_id:this.draft_media_id,Array.from(e.data.poster_details).forEach((l,o)=>{this.poster_image_list.push({poster_id:l.id?l.id:"",originalname:l.poster_original_name,path:l.poster_path,is_main_poster:l.is_main_poster,action_type:l.action_type,filename:l.poster_file_name,size:"",mime_type:""}),this.poster_details[o].poster_id=l.id?l.id:"",this.poster_details[o].id=o+1,this.poster_details[o].action_type="e",this.poster_details[o].filename=l.poster_file_name,this.poster_details[o].size="",this.poster_details[o].mime_type=""}))}).catch(e=>{})},AddVideo(){this.error.isValidUrl=ce(()=>""),this.error.isURLExist="",this.error.isValidUrlName=ce(()=>"");let i=this.matchYoutubeUrl(this.video_url),e=this.validateVimeoURL(this.video_url);if(this.isValidUrl(this.video_url))if(e!=!1||i!=!1){let t=i?"youtube":"vimeo";this.video_details.find(o=>o.video_url==this.video_url)?this.error.isURLExist=this.$t("addNewMoviesForm.videoAlreadyUploaded"):(this.video_details.push({video_url:this.video_url,video_title:this.video_title,is_official_trailer:this.is_official_trailer==!0?"y":"n",id:i||e,type:t,action_type:"a"}),this.isVideoModal=!1,this.video_url="",this.video_title="",this.is_official_trailer=!1)}else this.error.isValidUrl=ce(()=>this.$t("Error.youtubeVomeo"));else this.error.isValidUrlName=ce(()=>this.$t("Error.validEnterUrl"))},cancelVideo(){this.isVideoModal=!1,this.video_url="",this.video_title="",this.is_official_trailer="",this.error.isValidUrl=ce(()=>""),this.error.isURLExist="",this.error.isValidUrlName=ce(()=>"")},onFileChange(i){let e,a=i.target.files||i.dataTransfer.files;if(!a.length)return;this.background_image=a[0];let t=i.target.files[0].size,l=/(\.jpg|\.jpeg|\.png)$/i;if(l.exec(this.background_image.name)){if(t>1024*1024*25)return this.background_error_msg="\uC5C5\uB85C\uB4DC \uD30C\uC77C \uC6A9\uB7C9\uC740 \uCD5C\uB300 25mb\uC785\uB2C8\uB2E4",Y.fire({title:this.$t("Error.uploadFileSize")}),document.querySelector("#bg-picker-1").value="",this.background_image_url="",!1;if(l.exec(this.background_image.name)){this.background_error_msg="",this.background_image_url=URL.createObjectURL(i.target.files[0]);let o=new FormData;o.append("site_language",this.site_language),o.append("image",this.background_image),this.itemType=="tv"?this.background_image_object.map(v=>{v.action_type="d"}):this.background_image_object=[],this.$route.params.type=="internal"?e=this.EditMovieService.uploadBackgroundImages(o):(o.append("draft_request_id",this.routeId),e=this.AddNewMovieService.uploadBackgroundImages(o)),e.then(v=>{v.status==200&&(this.background_image_url=v.data.bg_image_details.location,this.background_image_object.push({action_type:"a",originalname:v.data.bg_image_details.originalname,filename:v.data.bg_image_details.filename,path:v.data.bg_image_details.location,size:v.data.bg_image_details.size,mime_type:v.data.bg_image_details.mime_type}),this.$route.params.type=="internal"&&(this.background_image_object[0].id=""))}).catch(v=>{})}}else return this.background_error_msg="jpg, jpeg, png \uD30C\uC77C\uB9CC \uC5C5\uB85C\uB4DC \uAC00\uB2A5\uD569\uB2C8\uB2E4",Y.fire({title:this.$t("Error.onlyJpg")}),document.querySelector("#bg-picker-1").value="",this.background_image_url="",!1;this.background_error_msg=""},selectMultipleImages(i){let e=i.target.files||i.dataTransfer.files;if(!e.length)return;let a=e.length,t=this.multipleImages.length+a,l=/(\.jpg|\.jpeg|\.png)$/i;for(let o=0;o<a;o++)if(l.exec(e[o].name)){if(i.target.files[o].size>1024*1024*25)return Y.fire({title:this.$t("Error.uploadFileSize")}),document.querySelector("#image-pick").value="",!1;l.exec(e[o].name)&&(t>5?(Y.fire({title:this.$t("addNewPeople.mediadetails.Maximum5imagesuploaded")}),document.querySelector("#image-pick").value=""):(this.images.push(e[o]),this.multipleImages.push({url:URL.createObjectURL(i.target.files[o]),file:e[o]})))}else return Y.fire({title:this.$t("Error.onlyJpg")}),document.querySelector("#image-pick").value="",!1},removeImages(i){let e=this.multipleImages.find(t=>t.url==i.url);e&&this.multipleImages.splice(this.multipleImages.indexOf(e),1);let a=this.images.find(t=>t==i.file);a&&this.images.splice(this.images.indexOf(a),1)},addNewImages(){let i;this.isAddNewImages=!0;let e=new FormData;this.images.forEach((a,t)=>e.append("images",a)),this.$route.params.type=="internal"?i=this.EditMovieService.uploadMediaImages(e):(e.append("draft_request_id",this.routeId),i=this.AddNewMovieService.uploadMediaImages(e)),i.then(a=>{a.status==200?(this.isAddNewImages=!1,Array.from(a.data.image_list).forEach((t,l)=>{this.image_list.push({originalname:t.originalname,path:t.location,size:t.size,mime_type:t.mime_type,filename:t.filename,action_type:"a",id:""}),this.image_details.push({draft_request_id:t.request_id,image_original_name:t.originalname,image_path:t.location,draft_media_id:this.draft_media_id,size:t.size,mime_type:t.mime_type,filename:t.filename,action_type:"a",id:""})}),this.isImageModal=!1,this.images=[],this.multipleImages=[]):this.isAddNewImages=!1}).catch(a=>{})},selectPosterImage(i){let e=i.target.files||i.dataTransfer.files;if(!e.length)return;this.poster_image=e[0];let a=i.target.files[0].size,t=/(\.jpg|\.jpeg|\.png)$/i;if(t.exec(this.poster_image.name)){if(a>1024*1024*25)return Y.fire({title:this.$t("Error.uploadFileSize")}),document.querySelector("#poster-pick").value="",this.poster_url="",this.poster_image="",!1;t.exec(this.poster_image.name)&&(this.poster_url=URL.createObjectURL(i.target.files[0]))}else return Y.fire({title:this.$t("Error.onlyJpg")}),document.querySelector("#poster-pick").value="",this.poster_url="",this.poster_image="",!1},AddPoster(){let i;this.isAddNewPoster=!0;let e=new FormData;e.append("is_main_poster",this.is_main_poster==!0?"y":"n"),e.append("image",this.poster_image),this.$route.params.type=="internal"?i=this.EditMovieService.uploadPosterImages(e):(e.append("draft_request_id",this.routeId),i=this.AddNewMovieService.uploadPosterImages(e)),i.then(a=>{a.status==200?(this.isPosterModal=!1,this.isAddNewPoster=!1,this.poster_details.push({draft_request_id:a.data.poster_image_list[0].request_id,poster_original_name:a.data.poster_image_list[0].originalname,poster_path:a.data.poster_image_list[0].location,is_main_poster:a.data.poster_image_list[0].is_main_poster,id:this.poster_details.length+1,action_type:"a",filename:a.data.poster_image_list[0].filename,size:a.data.poster_image_list[0].size,mime_type:a.data.poster_image_list[0].mime_type,poster_id:""}),this.poster_image_list=[],Array.from(this.poster_details).forEach((t,l)=>{a.data.poster_image_list[0].is_main_poster=="y"&&t.id!==this.poster_details.length&&(t.is_main_poster="n"),this.poster_image_list.push({originalname:t.poster_original_name,path:t.poster_path,is_main_poster:t.is_main_poster,action_type:t.action_type,filename:t.filename,size:t.size,mime_type:t.mime_type,poster_id:""})}),this.poster_image="",this.poster_url="",this.is_main_poster=!1):this.isAddNewPoster=!1}).catch(a=>{})},cancelPoster(){this.isPosterModal=!1,this.poster_url=""},AddMediaDetails(){this.isSubmit=!0},submitMediaDetails(){this.saveMediaDetails()},isEditBtn(){this.isEdit=!1,this.$emit("isEditOn",!1)},saveMediaDetails(){var v,w,C,I,n,k;let i=[],e=[],a=[];this.$route.params.type=="internal"?(Array.from(this.video_details).forEach((h,u)=>{i.push({video_url:h.video_url,video_title:h.video_title,is_official_trailer:h.is_official_trailer,action_type:h.action_type,id:h.video_id?h.video_id:""})}),Array.from(this.image_list).forEach((h,u)=>{e.push({id:h.id?h.id:"",originalname:h.originalname,filename:h.filename?h.filename:h.originalname,path:h.path,size:h.size?h.size:0,mime_type:h.mime_type,action_type:h.action_type})}),Array.from(this.poster_image_list).forEach((h,u)=>{a.push({originalname:h.originalname,path:h.path,is_main_poster:h.is_main_poster,action_type:h.action_type,filename:h.filename?h.filename:h.originalname,size:h.size,mime_type:h.mime_type,id:h.poster_id?h.poster_id:""})})):(Array.from(this.video_details).forEach((h,u)=>{i.push({video_url:h.video_url,video_title:h.video_title,is_official_trailer:h.is_official_trailer,action_type:h.action_type})}),Array.from(this.image_list).forEach(h=>{e.push({originalname:h.originalname,filename:h.filename?h.filename:h.originalname,path:h.path,size:h.size,mime_type:h.mime_type,action_type:h.action_type})}),Array.from(this.poster_image_list).forEach((h,u)=>{a.push({originalname:h.originalname,path:h.path,is_main_poster:h.is_main_poster,action_type:h.action_type,filename:h.filename,size:h.size,mime_type:h.mime_type})}));const t=JSON.parse(localStorage.getItem("draft_ids")||"[]");t[0]&&this.$route.params.type=="internal"&&(this.routeId=(w=(v=t[0])==null?void 0:v.primaryDetails[this.title_type][this.site_language])!=null&&w.draft_request_id?(I=(C=t[0])==null?void 0:C.primaryDetails[this.title_type][this.site_language])==null?void 0:I.draft_request_id:(n=t[0])!=null&&n.primaryDetails[this.title_type].draft_relation_id?(k=t[0])==null?void 0:k.primaryDetails[this.title_type].draft_relation_id:"");let l={draft_request_id:this.routeId,draft_media_id:this.draft_media_id,title_type:this.title_type,site_language:this.site_language,video_list:i,background_image:this.background_image_object,image_list:e,poster_image_list:a||[],season_id:this.season_id||""};this.$route.params.type=="internal"&&(l.title_id=this.title_id,l.season_id=this.exist_season_id,l.draft_season_id=this.season_id);let o;this.$route.params.type=="internal"?o=this.EditMovieService.editMediaDetails(l):o=this.AddNewMovieService.addMediaDetails(l),o.then(h=>{var u;if(h.status==200){if(this.saveIdList.media_request_id=h.data.data[0].draft_media_id,this.$emit("selectedId",this.saveIdList),this.isOKOnceClick=!1,this.$route.params.type=="internal"){const R=JSON.parse(localStorage.getItem("draft_ids")||"[]");if(R[0])((u=R[0].primaryDetails[this.itemType][this.site_language])==null?void 0:u.draft_request_id)||(R[0].primaryDetails[this.itemType][this.site_language]=h.data.data[0]);else{const ee={primaryDetails:{[this.itemType]:{[this.site_language]:{draft_request_id:h.data.data[0].draft_request_id},draft_relation_id:h.data.data[0].draft_request_id}}};R.push(ee)}localStorage.setItem("draft_ids",JSON.stringify(R)),this.itemType=="movie"?this.$router.push(`/AddNewMovieForm/${this.$route.params.external_id}/internal/${h.data.data[0].draft_request_id}`):this.$router.push(`/add-tv-details/${this.$route.params.external_id}/internal/${h.data.data[0].draft_request_id}`)}this.video_list=[],i=[],e=[],a=[],this.poster_image_list=[],this.background_image_object=[],this.image_list=[],this.getVideoList(),this.getImageList(),this.getPosterList(),this.isSubmit=!1,Y.fire({title:this.$t("Error.success")})}else this.isOKOnceClick=!1}).catch(h=>{})},removePosterItem(i){let e=this.poster_details.find(a=>a==i);e&&(this.itemType=="tv"?e.action_type=="a"?this.poster_details.splice(this.poster_details.indexOf(i),1):e.action_type="d":this.poster_details.splice(this.poster_details.indexOf(i),1)),this.poster_image_list=[],Array.from(this.poster_details).forEach((a,t)=>{this.poster_image_list.push({originalname:a.poster_original_name,path:a.poster_path,is_main_poster:a.is_main_poster,action_type:a.action_type,filename:a.filename,size:a.size,mime_type:a.mime_type,poster_id:a.poster_id?a.poster_id:""})})},setMainPoster(i){let e=this.poster_details.find(a=>a==i);e&&(e.is_main_poster="y"),this.poster_image_list=[],Array.from(this.poster_details).forEach((a,t)=>{a.id!=i.id&&(a.is_main_poster="n"),this.poster_image_list.push({originalname:a.poster_original_name,path:a.poster_path,is_main_poster:a.is_main_poster,action_type:a.action_type,filename:a.filename,size:a.size,mime_type:a.mime_type,poster_id:a.poster_id?a.poster_id:""})})},removeVideoItem(i){let e=this.video_details.find(a=>a==i);e&&(this.itemType=="tv"?e.action_type=="a"?this.video_details.splice(this.video_details.indexOf(i),1):e.action_type="d":this.video_details.splice(this.video_details.indexOf(i),1))},setOfficialTrailer(i){let e=this.video_details.find(a=>a==i);e&&(e.is_official_trailer="y")},removeImagesItem(i){let e=this.image_details.find(a=>a==i);e&&(this.itemType=="tv"?e.action_type=="a"?this.image_details.splice(this.image_details.indexOf(i),1):e.action_type="d":this.image_details.splice(this.image_details.indexOf(i),1)),this.image_list=[],Array.from(this.image_details).forEach((a,t)=>{this.image_list.push({originalname:a.originalname,path:a.image_path,size:a.size,mime_type:a.mime_type,filename:a.filename,action_type:a.action_type,id:a.id})})},validateVimeoURL:wt,matchYoutubeUrl:kt,isValidUrl:Ct,computed:ce}},X=i=>($e("data-v-163ee53d"),i=i(),et(),i),oi={class:"media-from-details"},di={class:"media-tabber-area"},ri={class:"title-area inner-sub-heading"},ni={class:"thumb-grid-area"},_i={key:1,class:"tv-no-data"},ci={key:1,class:"tv-no-data"},ui={class:"image-upload-show-area"},hi={class:"image-upload-area"},vi={key:0,class:"img-uploadbox"},mi={class:"upload-options"},gi=["disabled"],pi={class:"img-icons"},fi=X(()=>s("circle",{cx:"34.4999",cy:"34.9999",r:"33.5624",stroke:"white"},null,-1)),yi=X(()=>s("path",{d:"M35.5 44H26.1C25.9409 44 25.7883 43.9368 25.6757 43.8243C25.5632 43.7117 25.5 43.5591 25.5 43.4V26.6C25.5 26.4409 25.5632 26.2883 25.6757 26.1757C25.7883 26.0632 25.9409 26 26.1 26H42.9C43.0591 26 43.2117 26.0632 43.3243 26.1757C43.4368 26.2883 43.5 26.4409 43.5 26.6V36",stroke:"white","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)),bi=X(()=>s("path",{d:"M25.5 39L32.5 36L38 38.5M38.5 42H41.5M44.5 42H41.5M41.5 42V39M41.5 42V45M38.5 33C37.9696 33 37.4609 32.7893 37.0858 32.4142C36.7107 32.0391 36.5 31.5304 36.5 31C36.5 30.4696 36.7107 29.9609 37.0858 29.5858C37.4609 29.2107 37.9696 29 38.5 29C39.0304 29 39.5391 29.2107 39.9142 29.5858C40.2893 29.9609 40.5 30.4696 40.5 31C40.5 31.5304 40.2893 32.0391 39.9142 32.4142C39.5391 32.7893 39.0304 33 38.5 33V33Z",stroke:"white","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)),wi=[fi,yi,bi],ki={key:1,class:"img-editbox"},Ci={class:"img-display-area"},Ii=["src"],Li={class:"img-icon"},Mi=["disabled"],Di=X(()=>s("svg",{width:"69",height:"70",viewBox:"0 0 69 70",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("circle",{cx:"34.4999",cy:"34.9999",r:"33.0624",stroke:"white","stroke-width":"2"}),s("path",{d:"M41.7075 27.7911L41.7076 27.7912C42.3745 28.4581 42.6336 29.0162 42.7348 29.3775C42.7795 29.5368 42.7947 29.6625 42.7989 29.7479L36.8837 35.6631L36.8836 35.6631L31.1109 41.4334C31.0866 41.317 31.0477 41.172 30.9854 41.0055C30.8321 40.5959 30.5401 40.064 29.9886 39.513C29.4368 38.9612 28.905 38.6693 28.4956 38.5161C28.3269 38.453 28.1803 38.414 28.0633 38.3898L33.8377 32.6163L33.8377 32.6162L39.7534 26.7006C39.8386 26.7048 39.964 26.72 40.123 26.7645C40.4841 26.8657 41.0417 27.1248 41.7075 27.7911ZM30.6512 41.7477C30.7066 41.7465 30.7558 41.7454 30.7996 41.7445L30.7996 41.7445L30.6512 41.7477ZM27.5158 41.9903C27.7506 42.221 27.9484 42.4864 28.1025 42.7772L26.3489 43.149L26.7208 41.3954C27.0122 41.5504 27.2782 41.749 27.5097 41.9843L27.5097 41.9844L27.5158 41.9903ZM27.7542 38.8507L27.7574 38.6957L27.7574 38.6957C27.7564 38.7411 27.7554 38.7925 27.7542 38.8507Z",stroke:"white"})],-1)),Ti={class:"note"},Si=X(()=>s("br",null,null,-1)),Ei={class:"title-area"},Ni={class:"images-grid-area"},qi={key:1,class:"tv-no-data"},Vi={class:"image-upload-show-area nomargin"},Ai={class:"title-area inner-sub-heading"},ji={class:"poster-grid-area"},Bi={key:1,class:"tv-no-data"},Oi={class:"new-cast-modal"},Pi={class:"cast-details"},Fi={class:"right"},Ui={class:"form-grp"},Ri={class:"video-error-heading"},zi={for:""},Ji=X(()=>s("span",null,"*",-1)),Hi={key:0,class:"error"},Zi={key:1,class:"error"},Wi={class:"form-grp"},Ki={for:""},Gi=X(()=>s("span",null,"*",-1)),Yi=["placeholder"],xi={class:"add-check"},Qi={for:"official-trailer"},Xi=X(()=>s("div",{class:"checkbox"},[s("img",{src:it,alt:"",class:"unchecked-icon"}),s("img",{src:st,alt:"",class:"checked-icon"})],-1)),$i={class:"check-text"},es={class:"button-group"},ts=["disabled"],is={class:"new-cast-modal add-img-modal"},ss={class:"upload-img-btn"},as={class:"image-grid"},ls=["src"],os=["onClick"],ds={class:"button-group"},rs=["disabled"],ns={class:"new-cast-modal"},_s={class:"add-poster-image"},cs={class:"image-picker"},us=X(()=>s("label",{for:"poster-pick"},[s("span",{class:"upload-img-btn"},[s("img",{src:ai})])],-1)),hs={class:"image-show"},vs=["src"],ms={key:1,src:$},gs={class:"add-check"},ps={for:"official-trailer"},fs=X(()=>s("div",{class:"checkbox"},[s("img",{src:it,alt:"",class:"unchecked-icon"}),s("img",{src:st,alt:"",class:"checked-icon"})],-1)),ys={class:"check-text"},bs={class:"alert"},ws={class:"button-group"},ks=["disabled"],Cs={class:"new-cast-modal center-popup-modal"},Is=["innerHTML"],Ls={class:"button-group"},Ms=["disabled"];function Ds(i,e,a,t,l,o){const v=K("SearchDropdown"),w=K("VideoThumb"),C=K("Tabs"),I=K("ImageThumb"),n=K("PosterThumb"),k=K("TabWrapper"),h=K("PopUpModal");return _(),c(F,null,[s("div",oi,[s("div",{class:f(l.title_type=="tv"?"page-heading-area with-dropdown":"page-heading-area")},[s("h2",null,d(i.$t("addNewMoviesForm.media")),1),l.title_type=="tv"?(_(),c(F,{key:0},[y(` <select @change="getSeasonId($event)" class="select-style">\r
          <option\r
            v-for="(item, index) of seasonData"\r
            :key="index"\r
            :value="[item.draft_season_id, item.season_id]"\r
          >\r
            {{ $t("season.season") }} {{ item.season_no }}\r
          </option>\r
        </select> `),N(v,{onDropdownValue:o.getSeasonId,search_type:l.selectSeason,searchTitleListItem:l.seasonData,searchtitle:l.seasonData.length>0?u=>`${i.$t("credit.season")} ${u.season_no}`:"","return-object":"",clearable:!1},null,8,["onDropdownValue","search_type","searchTitleListItem","searchtitle"])],64)):y("v-if",!0)],2),s("div",di,[N(k,null,{default:M(()=>[N(C,{title:"addNewPeople.mediadetails.videoTitle"},{default:M(()=>[s("div",ri,[s("h2",null,d(i.$t("addNewMoviesForm.video")),1),s("div",{class:f(l.isEdit?"isDisabled":"")},[s("a",{class:f(["advid-btn",l.isEdit?"pointer-events-none":""]),onClick:e[0]||(e[0]=u=>l.isVideoModal=!0)},d(i.$t("addNewMoviesForm.add"))+" +",3)],2)]),s("div",ni,[l.video_details.length>0?(_(!0),c(F,{key:0},G(l.video_details,(u,R)=>(_(),c(F,{key:R},[u.action_type!="d"?(_(),Oe(w,{key:0,video:u,onRemoveVideoItem:o.removeVideoItem,onSetTrailer:o.setOfficialTrailer,isEdit:l.isEdit},null,8,["video","onRemoveVideoItem","onSetTrailer","isEdit"])):(_(),c("div",_i,d(i.$t("addNewMoviesForm.noData")),1))],64))),128)):(_(),c("div",ci,d(i.$t("addNewMoviesForm.noData")),1))]),l.title_type=="movie"?(_(),c("div",{key:0,class:f(l.video_details.length&&l.routeId==""&&i.$route.params.type!="internal"?"isDisabled":"")},[l.isEdit?(_(),c("a",{key:1,onClick:e[2]||(e[2]=(...u)=>o.isEditBtn&&o.isEditBtn(...u)),class:"saveBtn"},d(i.$t("button.edit")),1)):(_(),c("a",{key:0,onClick:e[1]||(e[1]=(...u)=>o.AddMediaDetails&&o.AddMediaDetails(...u)),class:f([l.video_details.length&&l.routeId==""&&i.$route.params.type!="internal"?"pointer-events-none":"","saveBtn"])},d(i.$t("button.save")),3))],2)):y("v-if",!0),l.title_type=="tv"?(_(),c("div",{key:1,class:f(l.video_details.length&&l.routeId!=""&&a.saveIdList.season_id!=""||i.$route.params.type=="internal"&&(a.saveIdList.season_id!=""||l.exist_season_id||l.season_id)?"":"isDisabled")},[l.isEdit?(_(),c("a",{key:1,class:"saveBtn",onClick:e[4]||(e[4]=(...u)=>o.isEditBtn&&o.isEditBtn(...u))},d(i.$t("button.edit")),1)):(_(),c("a",{key:0,onClick:e[3]||(e[3]=(...u)=>o.AddMediaDetails&&o.AddMediaDetails(...u)),class:f([l.video_details.length&&l.routeId!=""&&a.saveIdList.season_id!=""||i.$route.params.type=="internal"&&(a.saveIdList.season_id!=""||l.exist_season_id||l.season_id)?"":"pointer-events-none","saveBtn"])},d(i.$t("button.save")),3))],2)):y("v-if",!0)]),_:1}),N(C,{title:"mediaSection.images"},{default:M(()=>[s("div",ui,[s("div",hi,[s("h3",null,d(i.$t("addNewMoviesForm.backgroundImage")),1),l.background_image_url?y("v-if",!0):(_(),c("div",vi,[s("div",mi,[s("label",{class:f(l.routeId==""&&i.$route.params.type!="internal"||l.isEdit?"isDisabled":"")},[s("input",{type:"file",disabled:l.routeId==""&&i.$route.params.type!="internal"||l.isEdit,class:"image-upload",accept:"image/*",onChange:e[5]||(e[5]=(...u)=>o.onFileChange&&o.onFileChange(...u)),id:"bg-picker-1"},null,40,gi),s("span",pi,[(_(),c("svg",{width:"69",height:"70",viewBox:"0 0 69 70",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:f(l.routeId==""&&i.$route.params.type!="internal"?"isDisabled":"")},wi,2))])],2)])])),l.background_image_url?(_(),c("div",ki,[s("div",Ci,[s("img",{src:l.background_image_url},null,8,Ii)]),s("span",Li,[s("input",{type:"file",class:"image-upload",accept:"image/*",onChange:e[6]||(e[6]=(...u)=>o.onFileChange&&o.onFileChange(...u)),id:"bg-picker-1",disabled:l.routeId==""&&i.$route.params.type!="internal"||l.isEdit},null,40,Mi),Di])])):y("v-if",!0),s("div",Ti,[s("p",null,[ue(d(i.$t("addNewMoviesForm.fileSize")),1),s("span",null,d(i.$t("addNewMoviesForm.lessthan25mb")),1),ue(d(i.$t("addNewMoviesForm.imageSize")),1),s("span",null,d(i.$t("addNewMoviesForm.1920x946px")),1),Si,ue(d(i.$t("addNewMoviesForm.fileType")),1),s("span",null,d(i.$t("addNewMoviesForm.jpgPng")),1)])])]),s("div",Ei,[s("h2",null,d(i.$t("addNewMoviesForm.images")),1),s("div",{class:f(l.isEdit?"isDisabled":"")},[s("a",{class:f(["advid-btn",l.isEdit?"pointer-events-none":""]),onClick:e[7]||(e[7]=u=>l.isImageModal=!0)},d(i.$t("addNewMoviesForm.add"))+" +",3)],2)]),s("div",Ni,[l.image_details.length>0?(_(!0),c(F,{key:0},G(l.image_details,(u,R)=>(_(),c(F,{key:R},[u.action_type!="d"?(_(),Oe(I,{key:0,image:u,onRemoveItem:o.removeImagesItem,isEdit:l.isEdit},null,8,["image","onRemoveItem","isEdit"])):y("v-if",!0)],64))),128)):(_(),c("div",qi,d(i.$t("addNewMoviesForm.noData")),1))]),l.title_type=="movie"?(_(),c("div",{key:0,class:f(l.image_list.length==0&&!l.background_image_url||l.routeId==""&&i.$route.params.type!="internal"?"isDisabled":"")},[l.isEdit?(_(),c("a",{key:1,onClick:e[9]||(e[9]=(...u)=>o.isEditBtn&&o.isEditBtn(...u)),class:"saveBtn"},d(i.$t("button.edit")),1)):(_(),c("a",{key:0,onClick:e[8]||(e[8]=(...u)=>o.AddMediaDetails&&o.AddMediaDetails(...u)),class:f([l.image_list.length==0&&!l.background_image_url||l.routeId==""&&i.$route.params.type!="internal"?"pointer-events-none":"","saveBtn"])},d(i.$t("button.save")),3))],2)):y("v-if",!0),l.title_type=="tv"?(_(),c("div",{key:1,class:f((l.image_list.length||l.background_image_url)&&(l.routeId!=""&&a.saveIdList.season_id!=""||i.$route.params.type=="internal"&&(a.saveIdList.season_id!=""||l.exist_season_id||l.season_id))?"":"isDisabled")},[l.isEdit?(_(),c("a",{key:1,class:"saveBtn",onClick:e[11]||(e[11]=(...u)=>o.isEditBtn&&o.isEditBtn(...u))},d(i.$t("button.edit")),1)):(_(),c("a",{key:0,onClick:e[10]||(e[10]=(...u)=>o.AddMediaDetails&&o.AddMediaDetails(...u)),class:f([(l.image_list.length||l.background_image_url)&&(l.routeId!=""&&a.saveIdList.season_id!=""||i.$route.params.type=="internal"&&(a.saveIdList.season_id!=""||l.exist_season_id||l.season_id))?"":"pointer-events-none","saveBtn"])},d(i.$t("button.save")),3))],2)):y("v-if",!0)])]),_:1}),N(C,{title:"addNewMoviesForm.poster"},{default:M(()=>[s("div",Vi,[s("div",Ai,[s("h2",null,d(i.$t("addNewMoviesForm.poster")),1),s("div",{class:f(l.isEdit?"isDisabled":"")},[s("a",{href:"#",class:f(["advid-btn",l.isEdit?"pointer-events-none":""]),onClick:e[12]||(e[12]=u=>l.isPosterModal=!0)},d(i.$t("addNewMoviesForm.add"))+" +",3)],2)]),s("div",ji,[l.poster_details.length>0?(_(!0),c(F,{key:0},G(l.poster_details,(u,R)=>(_(),c(F,{key:R},[u.action_type!="d"?(_(),Oe(n,{key:0,poster:u,onRemoveItem:o.removePosterItem,onSetPoster:o.setMainPoster},null,8,["poster","onRemoveItem","onSetPoster"])):y("v-if",!0)],64))),128)):(_(),c("div",Bi,d(i.$t("addNewMoviesForm.noData")),1))]),l.title_type=="movie"?(_(),c("div",{key:0,class:f(l.poster_image_list.length==0?"isDisabled":"")},[l.isEdit?(_(),c("a",{key:1,class:"saveBtn",onClick:e[14]||(e[14]=(...u)=>o.isEditBtn&&o.isEditBtn(...u))},d(i.$t("button.edit")),1)):(_(),c("a",{key:0,onClick:e[13]||(e[13]=(...u)=>o.AddMediaDetails&&o.AddMediaDetails(...u)),class:f([l.poster_image_list.length==0?"pointer-events-none":"","saveBtn"])},d(i.$t("button.save")),3))],2)):y("v-if",!0),l.title_type=="tv"?(_(),c("div",{key:1,class:f(l.poster_image_list.length&&(l.routeId!=""&&a.saveIdList.season_id!=""||i.$route.params.type=="internal"&&(a.saveIdList.season_id!=""||l.exist_season_id||l.season_id))?"":"isDisabled")},[l.isEdit?(_(),c("a",{key:1,class:"saveBtn",onClick:e[16]||(e[16]=(...u)=>o.isEditBtn&&o.isEditBtn(...u))},d(i.$t("button.edit")),1)):(_(),c("a",{key:0,onClick:e[15]||(e[15]=(...u)=>o.AddMediaDetails&&o.AddMediaDetails(...u)),class:f([l.poster_image_list.length&&(l.routeId!=""&&a.saveIdList.season_id!=""||i.$route.params.type=="internal"&&(a.saveIdList.season_id!=""||l.exist_season_id||l.season_id))?"":"pointer-events-none","saveBtn"])},d(i.$t("button.save")),3))],2)):y("v-if",!0)])]),_:1})]),_:1})])]),s("div",Oi,[N(h,{isModal:l.isVideoModal},{header:M(()=>[s("h1",null,d(i.$t("addNewMoviesForm.AddNewVideo")),1),y(` <button @click="isVideoModal = false">\r
          <img src="@/assets/icons/modal-cross-icon.svg" alt="" />\r
        </button> `)]),body:M(()=>[s("div",Pi,[s("div",Fi,[s("div",Ui,[s("div",Ri,[s("label",zi,[ue(d(i.$t("addNewMoviesForm.videoURL")),1),Ji]),l.error.isURLExist?(_(),c("span",Hi,d(i.$t("addNewMoviesForm.videoAlreadyUploaded")),1)):y("v-if",!0),l.error.isValidUrlName?(_(),c("span",Zi,d(l.error.isValidUrlName),1)):y("v-if",!0)]),U(s("input",{type:"text",placeholder:"https://","onUpdate:modelValue":e[17]||(e[17]=u=>l.video_url=u),onInput:e[18]||(e[18]=(l.error.isValidUrl=o.computed(()=>""),l.error.isUniqueUrl=o.computed(()=>""))),class:f(l.error.isValidUrl||l.error.isURLExist||l.error.isValidUrlName?"error-border":""),maxlength:"250"},null,34),[[re,l.video_url]]),s("p",{class:f(["instruction",l.error.isValidUrl?"error-url":""])},d(i.$t("addNewMoviesForm.onlyYoutubeVimeo")),3)]),s("div",Wi,[s("label",Ki,[ue(d(i.$t("addNewMoviesForm.videoTitle"))+" ",1),Gi]),U(s("input",{type:"text",placeholder:i.$t("addNewMoviesForm.entervideotitle"),"onUpdate:modelValue":e[19]||(e[19]=u=>l.video_title=u),maxlength:"250"},null,8,Yi),[[re,l.video_title]]),s("div",xi,[s("label",Qi,[U(s("input",{type:"checkbox",id:"official-trailer","onUpdate:modelValue":e[20]||(e[20]=u=>l.is_official_trailer=u)},null,512),[[Ge,l.is_official_trailer]]),Xi,s("p",$i,d(i.$t("addNewMoviesForm.officialtrailer")),1)])])])])])]),footer:M(()=>[s("div",es,[s("button",{class:f(["black-outline-btn",l.video_url==""||l.video_title==""?"isDisabled":""]),disabled:l.video_url==""||l.video_title=="",onClick:e[21]||(e[21]=(...u)=>o.AddVideo&&o.AddVideo(...u))},d(i.$t("addNewMoviesForm.save")),11,ts),s("button",{class:"red-fill-btn",onClick:e[22]||(e[22]=(...u)=>o.cancelVideo&&o.cancelVideo(...u))},d(i.$t("button.cancel")),1)])]),_:1},8,["isModal"])]),y(" image modal "),s("div",is,[N(h,{isModal:l.isImageModal},{header:M(()=>[s("h1",null,d(i.$t("addNewMoviesForm.addNewImage")),1),y(` <button @click="isImageModal = false">\r
          <img src="@/assets/icons/modal-cross-icon.svg" alt="" />\r
        </button> `)]),body:M(()=>[s("div",{class:f(["image-picker",l.images.length==5?"isDisabled":""])},[s("input",{type:"file",name:"",id:"image-pick",ref:"file",multiple:"multiple",onChange:e[23]||(e[23]=(...u)=>o.selectMultipleImages&&o.selectMultipleImages(...u))},null,544),s("label",{for:"image-pick",class:f(l.images.length==5?"pointer-events-none":"")},[s("h1",ss,d(i.$t("addNewMoviesForm.uploadImages")),1)],2)],2),s("div",as,[(_(!0),c(F,null,G(l.multipleImages,(u,R)=>(_(),c("div",{class:"each-img",key:R},[s("img",{src:u.url,alt:"",class:"picked-img"},null,8,ls),s("img",{onClick:ee=>o.removeImages(u),src:qt,alt:"",class:"cross-icon"},null,8,os)]))),128))])]),footer:M(()=>[s("div",ds,[s("button",{class:f(["black-outline-btn",l.images.length==0||l.isAddNewImages||l.routeId==""&&i.$route.params.type!="internal"?"isDisabled":""]),disabled:l.images.length==0||l.isAddNewImages||l.routeId==""&&i.$route.params.type!="internal",onClick:e[24]||(e[24]=(...u)=>o.addNewImages&&o.addNewImages(...u))},d(i.$t("addNewMoviesForm.add")),11,rs),s("button",{class:"red-fill-btn",onClick:e[25]||(e[25]=u=>(l.isImageModal=!1,l.multipleImages=[],l.images=[]))},d(i.$t("addNewMoviesForm.cancel")),1)])]),_:1},8,["isModal"])]),y(" poster modal "),s("div",ns,[N(h,{isModal:l.isPosterModal},{header:M(()=>[s("h1",null,d(i.$t("addNewMoviesForm.addNewPoster")),1),y(` <button @click="isImageModal = false">\r
          <img src="@/assets/icons/modal-cross-icon.svg" alt="" />\r
        </button> `)]),body:M(()=>[s("div",_s,[s("div",cs,[s("input",{type:"file",name:"",id:"poster-pick",onChange:e[26]||(e[26]=(...u)=>o.selectPosterImage&&o.selectPosterImage(...u))},null,32),us,s("div",hs,[l.poster_url?(_(),c("img",{key:0,src:l.poster_url},null,8,vs)):(_(),c("img",ms))])]),s("div",gs,[s("label",ps,[U(s("input",{type:"checkbox",id:"official-trailer","onUpdate:modelValue":e[27]||(e[27]=u=>l.is_main_poster=u)},null,512),[[Ge,l.is_main_poster]]),fs,s("p",ys,d(i.$t("addNewMoviesForm.addMainPoster")),1)])]),s("span",bs,d(i.$t("addNewMoviesForm.imageChange")),1)])]),footer:M(()=>[s("div",ws,[s("button",{class:"black-outline-btn",onClick:e[28]||(e[28]=(...u)=>o.cancelPoster&&o.cancelPoster(...u))},d(i.$t("addNewMoviesForm.cancel")),1),s("button",{class:f(["red-fill-btn",l.poster_image==""||l.isAddNewPoster||l.routeId==""&&i.$route.params.type!="internal"?"isDisabled":""]),disabled:l.poster_image==""||l.isAddNewPoster||l.routeId==""&&i.$route.params.type!="internal",onClick:e[29]||(e[29]=(...u)=>o.AddPoster&&o.AddPoster(...u))},d(i.$t("addNewMoviesForm.add")),11,ks)])]),_:1},8,["isModal"])]),y(" submit modal "),s("div",Cs,[N(h,{isModal:l.isSubmit},{header:M(()=>[s("h1",{class:"text-center",innerHTML:i.$t("addNewMoviesForm.youShouldSubmitToSendTheAdd")},null,8,Is)]),body:M(()=>[]),footer:M(()=>[s("div",Ls,[s("button",{class:"black-outline-btn",onClick:e[30]||(e[30]=u=>(l.isOKOnceClick=!0,o.submitMediaDetails())),disabled:l.isOKOnceClick},d(i.$t("button.ok")),9,Ms),s("button",{class:"red-fill-btn",onClick:e[31]||(e[31]=u=>l.isSubmit=!1)},d(i.$t("addNewMoviesForm.cancel")),1)])]),_:1},8,["isModal"])])],64)}const id=fe(li,[["render",Ds],["__scopeId","data-v-163ee53d"],["__file","D:/11-db-frontend/11_db/src/components/AddNewmovie/MediaDetails.vue"]]);const{t:de}=It.global,Ts={name:"CreditDetails",components:{Tabs:Pe,TabWrapper:Fe,PopUpModal:Ue,Modal:ze},data(){return{}},props:{site_language:{type:String},itemType:{type:String},saveIdList:{type:Object}},mixins:[Ye,xe],emits:["selectedId","isEditOn"],setup(i,{emit:e}){const a=Lt(),t=Mt(),l=b(a.params.id),o=a.params.type=="internal"?a.params.external_id:"",v=new Re,w=new Je,C=new lt,I=new at,n=b(""),k=b([]),h=b(""),u=b([]),R=b([]),ee=b(""),j=b([]),O=b(""),ye=b(!1),D=b(null),q=b(""),P=b(""),E=b([]);b("cast");const V=b([]),B=b([]),H=b(""),he=b(!1),ve=b(!1),A=b([]),be=b(!1),we=b(!1),ke=b(!1),te=b(""),ne=b(""),je=b([]),z=b(i.itemType=="tv"?"tv":"movie"),Ce=b(!1),Q=b(""),J=b(l),Ie=b(!1),Le=b(!1),Be=b(""),x=b(!1),ot=b(""),Z=b({}),He=b(/[`!@#$%^&*()_+\-=\[\]{};':"\\|.,<>\/?~]/),_e=b(""),Me=b(""),De=b(""),Te=b(!1),Se=b("");Dt(()=>i.site_language,function(r,g){var p,m,L,ie,se,ae,le,me;if(r&&r!=g){const oe=JSON.parse(localStorage.getItem("draft_ids")||"[]");oe[0]?(J.value=(m=(p=oe[0])==null?void 0:p.primaryDetails[z.value][i.site_language])!=null&&m.draft_request_id?(ie=(L=oe[0])==null?void 0:L.primaryDetails[z.value][i.site_language])==null?void 0:ie.draft_request_id:"",l.value=(ae=(se=oe[0])==null?void 0:se.primaryDetails[z.value][i.site_language])!=null&&ae.draft_request_id?(me=(le=oe[0])==null?void 0:le.primaryDetails[z.value][i.site_language])==null?void 0:me.draft_request_id:""):(J.value=J.value,l.value=l.value),j.value=[],A.value=[],i.itemType=="tv"&&Ze(),We(),setTimeout(()=>{Ee(),Ne()},1e3)}}),Tt(()=>{var g,p,m,L,ie,se,ae,le;a.params.type=="internal"&&(Te.value=!0),We();const r=JSON.parse(localStorage.getItem("draft_ids")||"[]");r[0]?(J.value=(p=(g=r[0])==null?void 0:g.primaryDetails[z.value][i.site_language])!=null&&p.draft_request_id?(L=(m=r[0])==null?void 0:m.primaryDetails[z.value][i.site_language])==null?void 0:L.draft_request_id:"",l.value=(se=(ie=r[0])==null?void 0:ie.primaryDetails[z.value][i.site_language])!=null&&se.draft_request_id?(le=(ae=r[0])==null?void 0:ae.primaryDetails[z.value][i.site_language])==null?void 0:le.draft_request_id:""):(J.value=J.value,l.value=l.value),i.itemType=="tv"&&Ze(),setTimeout(()=>{Ee(),Ne()},1e3)});const Ze=()=>{let r;a.params.type=="internal"?r=I.getEditSeasonList(o,l.value,i.site_language):r=C.getSeasonList(l.value,i.site_language),r.then(g=>{g.status==200?(je.value=g.data.results,Se.value=g.data.results[0],Q.value=g.data.results[0].draft_season_id,_e.value=g.data.results[0].season_id?g.data.results[0].season_id:""):(je.value=[],Se.value="",Q.value="",_e.value="",j.value=[],A.value=[])}).catch(g=>{})},dt=r=>{Se.value=r,Q.value=r.draft_season_id?r.draft_season_id:"",_e.value=r.season_id?r.season_id:"",j.value=[],A.value=[],Ee(),Ne()},Ee=()=>{let r;a.params.type=="internal"?r=w.creditRequestList(o,J.value||l.value,z.value,i.site_language,"cast",_e.value,Q.value):l.value&&(r=v.creditRequestList(J.value||l.value,i.site_language,z.value,"cast",Q.value)),r.then(g=>{if(g.status==200){V.value=g.data.cast_details||g.data.result,ee.value=g.data.draft_credit_id;for(let p=0;p<V.value.length;p++)V.value[p].id=p+1,j.value.push({id:p+1,people_id:V.value[p].people_id,character_name:V.value[p].character_name,job:V.value[p].job,is_guest:V.value[p].is_guest?V.value[p].is_guest:0,cast_name:V.value[p].cast_name,poster:V.value[p].poster,action_type:"e",tmdb_id:V.value[p].tmdb_id?V.value[p].tmdb_id:""})}}).catch(g=>{})},Ne=()=>{let r;a.params.type=="internal"?r=w.creditRequestList(o,J.value||l.value,z.value,i.site_language,"crew",_e.value,Q.value):l.value&&(r=v.creditRequestList(J.value||l.value,i.site_language,z.value,"crew",Q.value)),r.then(g=>{if(g.status==200){B.value=g.data.crew_details||g.data.result,ee.value=g.data.draft_credit_id;for(let p=0;p<B.value.length;p++)B.value[p].id=p+1,console.log("crewRequestList.value.length",B.value[p]),A.value.push({id:p+1,people_id:B.value[p].people_id,job:B.value[p].job,cast_name:B.value[p].cast_name,poster:B.value[p].poster,action_type:"e",tmdb_id:B.value[p].tmdb_id?B.value[p].tmdb_id:""})}console.log("crew_details",A.value)}).catch(g=>{})},rt=()=>{v.creditPeopleSearchList(i.site_language,n.value).then(r=>{r.status==200?(k.value=[],k.value=r.data.results,he.value=!0):k.value=[]}).catch(r=>{})},nt=()=>{v.creditPeopleSearchList(i.site_language,h.value).then(r=>{r.status==200?(u.value=[],ve.value=!0,u.value=r.data.results):u.value=[]}).catch(r=>{})},We=()=>{v.creditJobTitleList(i.site_language).then(r=>{r.status==200&&(R.value=r.data.results,R.value.forEach(g=>{g.department_value=g.department_name}))}).catch(r=>{})},_t=r=>{D.value=r},ct=(r,g,p)=>{ye.value=!0,q.value=r.character_name?r.character_name:"",D.value=r.job?r.job:null,P.value=r.is_guest==1||r.is_guest==0?r.is_guest:"",O.value=r.people_id,E.value=r,Be.value=g,De.value=p;const m=localStorage.getItem("theme-colour"),L=document.body;m==="theme-dark"&&L.classList.add("dark-modal-open")},ut=(r,g,p)=>{be.value=!0,O.value=r.people_id,E.value=r,D.value=r.job?r.job:null,Be.value=g,Me.value=p;const m=localStorage.getItem("theme-colour"),L=document.body;m==="theme-dark"&&L.classList.add("dark-modal-open")},ht=r=>{E.value=r,V.value.find(m=>m.id==E.value.id)&&V.value.splice(V.value.indexOf(r),1);let p=j.value.find(m=>m.id==E.value.id);p&&(i.itemType=="tv"?p.action_type=="a"?j.value.splice(j.value.indexOf(p),1):p.action_type="d":j.value.splice(j.value.indexOf(p),1))},vt=()=>{if(q.value){if(/[0-9]+/.test(q.value))return Z.value.character_name=pe(()=>de("Error.numberNotAll")),!0;Z.value.character_name=b("")}else Z.value.character_name=b("");if(q.value==""||D.value==""||P.value.toString()=="")return!0;let r=V.value.find(m=>m.people_id==O.value&&m.id==E.value.id);if(r){let m=V.value.find(L=>L.people_id==O.value&&L.job==D.value&&L.character_name==q.value);m?(m.id!==E.value.id&&(x.value=!1),m&&x.value?r.is_guest=P.value:De.value=="add"&&V.value.splice(V.value.indexOf(r),1)):(r.job=D.value,r.character_name=q.value,r.is_guest=P.value)}else{let m=V.value.find(L=>L.people_id==O.value&&L.job==D.value&&L.character_name==q.value);m?(m.job=D.value,m.character_name=q.value,m.is_guest=P.value):V.value.push({people_id:O.value,character_name:q.value,job:D.value,is_guest:P.value,cast_name:E.value.people_name||E.value.cast_name,poster:E.value.people_poster||E.value.poster,id:V.value.length+1,action_type:"a"})}let g=j.value.find(m=>m.people_id==O.value&&m.id==E.value.id);if(g){let m=j.value.find(L=>L.people_id==O.value&&L.job==D.value&&L.character_name==q.value);m?i.itemType=="tv"?(m.id!==E.value.id&&(x.value=!1),m&&x.value?g.is_guest=P.value:g.action_type=="a"?j.value.splice(j.value.indexOf(g),1):De.value=="add"&&(g.action_type="d")):(m.id!==E.value.id&&(x.value=!1),m&&x.value?g.is_guest=P.value:De.value=="add"&&j.value.splice(j.value.indexOf(g),1)):(g.job=D.value,g.character_name=q.value,g.is_guest=P.value,g.action_type=="a"?g.action_type="a":g.action_type="e")}else{let m=j.value.find(L=>L.people_id==O.value&&L.job==D.value&&L.character_name==q.value);m?(m.job=D.value,m.character_name=q.value,m.is_guest=P.value,m.action_type=="a"?m.action_type="a":m.action_type="e"):j.value.push({people_id:O.value,character_name:q.value,job:D.value,is_guest:P.value,id:j.value.length+1,action_type:"a"})}ye.value=!1,he.value=!1,q.value="",D.value=null,P.value="",O.value="",n.value="",k.value=[],x.value=!1,document.body.classList.remove("dark-modal-open")},mt=r=>{E.value=r,B.value.find(m=>m.id==E.value.id)&&B.value.splice(B.value.indexOf(r),1);let p=A.value.find(m=>m.id==E.value.id);p&&(i.itemType=="tv"?p.action_type=="a"?A.value.splice(A.value.indexOf(p),1):p.action_type="d":A.value.splice(A.value.indexOf(p),1))},gt=()=>{if(D.value==null)return!0;let r=B.value.find(m=>m.people_id==O.value&&m.id==E.value.id);if(r){let m=B.value.find(L=>L.people_id==O.value&&L.job==D.value);console.log(m),m?Me.value=="add"&&B.value.splice(B.value.indexOf(r),1):r.job=D.value}else{let m=B.value.find(L=>L.people_id==O.value&&L.job==D.value);m?m.job=D.value:B.value.push({people_id:O.value,job:D.value,cast_name:E.value.people_name||E.value.cast_name,poster:E.value.people_poster||E.value.poster,id:B.value.length+1,action_type:"a"})}let g=A.value.find(m=>m.people_id==O.value&&m.id==E.value.id);if(g)A.value.find(L=>L.people_id==O.value&&L.job==D.value)?i.itemType=="tv"?g.action_type=="a"?A.value.splice(A.value.indexOf(g),1):Me.value=="add"&&(g.action_type="d"):Me.value=="add"&&A.value.splice(A.value.indexOf(g),1):(g.job=D.value,g.action_type=="a"?g.action_type="a":g.action_type="e");else{let m=A.value.find(L=>L.people_id==O.value&&L.job==D.value);m?(m.job=D.value,m.action_type=="a"?m.action_type="a":m.action_type="e"):A.value.push({people_id:O.value,job:D.value,id:A.value.length+1,action_type:"a",poster:E.value.people_poster||E.value.poster,cast_name:E.value.people_name||E.value.cast_name})}be.value=!1,ve.value=!1,q.value="",D.value=null,P.value="",O.value="",h.value="",u.value=[],document.body.classList.remove("dark-modal-open")},pt=()=>{bt()},ft=()=>{Ce.value=!0},yt=()=>{Te.value=!1,e("isEditOn",!1)},bt=()=>{var ie,se,ae,le,me,oe;let r=[],g=[];Array.from(j.value).forEach((S,qe)=>{r.push({action_type:S.action_type,character_name:S.character_name,people_id:S.people_id,job:S.job,is_guest:S.is_guest,cast_name:S.cast_name,poster:S.poster,temp_id:S.id,tmdb_id:S.tmdb_id?S.tmdb_id:null})}),Array.from(A.value).forEach((S,qe)=>{g.push({action_type:S.action_type,people_id:S.people_id,job:S.job,cast_name:S.cast_name,poster:S.poster,temp_id:S.id,tmdb_id:S.tmdb_id?S.tmdb_id:null})});const p=JSON.parse(localStorage.getItem("draft_ids")||"[]");p[0]&&a.params.type=="internal"&&(J.value=(se=(ie=p[0])==null?void 0:ie.primaryDetails[z.value][i.site_language])!=null&&se.draft_request_id?(le=(ae=p[0])==null?void 0:ae.primaryDetails[z.value][i.site_language])==null?void 0:le.draft_request_id:(me=p[0])!=null&&me.primaryDetails[z.value].draft_relation_id?(oe=p[0])==null?void 0:oe.primaryDetails[z.value].draft_relation_id:""),console.log("crew",A.value);let m={draft_request_id:J.value||l.value,draft_credit_id:ee.value,title_type:i.itemType=="tv"?"tv":"movie",site_language:i.site_language,cast_details:r,crew_details:g,season_id:Q.value||""},L;a.params.type=="internal"?(m.title_id=o,i.itemType=="tv"&&(m.season_id=_e.value,m.draft_season_id=Q.value),L=w.editCreditDetails(m)):L=v.addCreditDetails(m),L.then(S=>{var qe;if(S.status==200){if(ee.value=S.data.data[0].draft_credit_id,i.saveIdList.credit_request_id=S.data.data[0].draft_credit_id,e("selectedId",i.saveIdList),j.value=[],A.value=[],Ce.value=!1,r=[],g=[],a.params.type=="internal"){Te.value=!0,e("isEditOn",!0);const ge=JSON.parse(localStorage.getItem("draft_ids")||"[]");if(ge[0])((qe=ge[0].primaryDetails[i.itemType][i.site_language])==null?void 0:qe.draft_request_id)||(ge[0].primaryDetails[i.itemType][i.site_language]=S.data.data[0]);else{const Ke={primaryDetails:{[i.itemType]:{[i.site_language]:{draft_request_id:S.data.data[0].draft_request_id},draft_relation_id:S.data.data[0].draft_request_id}}};ge.push(Ke)}localStorage.setItem("draft_ids",JSON.stringify(ge)),i.itemType=="movie"?t.push(`/AddNewMovieForm/${o}/internal/${S.data.data[0].draft_request_id}`):t.push(`/add-tv-details/${o}/internal/${S.data.data[0].draft_request_id}`)}Ee(),Ne(),Y.fire({title:de("Error.success")})}else Ce.value=!1}).catch(S=>{console.log(S)})};return{search_text:n,getCreditList:rt,creditList:k,search_crew_text:h,getCreditCrewList:nt,crewList:u,jobTitleList:R,addCastInformation:vt,AddInfoModal:ct,isAddInfoModal:ye,job:D,character_name:q,is_guest:P,people:E,getTabName:r=>{r=="Cast"&&(h.value="",n.value="",k.value=[],he.value=!1),r=="Crew"&&(h.value="",n.value="",u.value=[],ve.value=!1)},castRequestList:V,crewRequestList:B,shows:he,shows1:ve,addCreditDetails:ft,isCrewInfoModal:be,AddCrewInfoModal:ut,addCrewInformation:gt,removeInfoModal:ht,removeCrewInfoModal:mt,isCreateInfoModal:we,isCrewCreateInfoModal:ke,cast_name:H,onFileChange:r=>{let g=r.target.files||r.dataTransfer.files;if(!g.length)return;te.value=g[0];let p=r.target.files[0].size,m=/(\.jpg|\.jpeg|\.png)$/i;if(m.exec(te.value.name)){if(p>1024*1024*25)return Y.fire({title:de("Error.uploadFileSize")}),ne.value="",document.querySelector("#img-picker-1").value="",!1;m.exec(te.value.name)&&(te.value.name,ne.value=URL.createObjectURL(r.target.files[0]))}else return Y.fire({title:de("Error.onlyJpg")}),ne.value="",document.querySelector("#img-picker-1").value="",!1},url:ne,createCastInfo:()=>{if(H.value){if(He.value.test(H.value))return Z.value.cast_name=pe(()=>de("Error.specialCharacter")),!0;if(/[0-9]+/.test(H.value))return Z.value.cast_name=pe(()=>de("Error.numberNotAll")),!0;Z.value.cast_name=b("")}else Z.value.cast_name=b("");if(q.value){if(/[0-9]+/.test(q.value))return Z.value.character_name=pe(()=>de("Error.numberNotAll")),!0;Z.value.character_name=b("")}else Z.value.character_name=b("");if(q.value==""||D.value==null||P.value==""||H.value==""||te.value=="")return!0;Ie.value=!0;let r=new FormData;r.append("draft_request_id",J.value||l.value?J.value||l.value:""),r.append("site_language",i.site_language),r.append("image",te.value),r.append("credit_type","cast"),r.append("cast_name",H.value),r.append("job_title",D.value),r.append("character_name",q.value),r.append("is_guest",P.value);let g;a.params.type=="internal"?(r.append("title_id",o),g=w.createNewCredit(r)):g=v.createNewCredit(r),g.then(p=>{p.status==200?(Ie.value=!1,V.value.push({people_id:"",character_name:q.value,job:D.value,is_guest:P.value,cast_name:H.value,poster:p.data.credit_details.image_location,id:V.value.length+1}),j.value.push({people_id:"",character_name:q.value,job:D.value,is_guest:P.value,cast_name:p.data.credit_details.cast_name,poster:p.data.credit_details.image_location,id:j.value.length+1,action_type:"a"}),we.value=!1,he.value=!1,q.value="",D.value=null,P.value="",O.value="",H.value="",n.value="",k.value=[],x.value=!1,document.body.classList.remove("dark-modal-open")):Ie.value=!1}).catch(p=>{})},createCrewInfo:()=>{if(H.value){if(/[0-9]+/.test(H.value))return Z.value.cast_name=pe(()=>de("Error.numberNotAll")),!0;Z.value.cast_name=b("")}else Z.value.cast_name=b("");if(D.value==null||H.value==""||te.value=="")return!0;Le.value=!0;let r=new FormData;r.append("draft_request_id",J.value||l.value?J.value||l.value:""),r.append("site_language",i.site_language),r.append("credit_type","crew"),r.append("cast_name",H.value),r.append("job_title",D.value),r.append("image",te.value);let g;a.params.type=="internal"?(r.append("title_id",o),g=w.createNewCredit(r)):g=v.createNewCredit(r),g.then(p=>{p.status==200?(Le.value=!1,B.value.push({people_id:"",job:D.value,cast_name:H.value,poster:p.data.credit_details.image_location,id:B.value.length+1}),A.value.push({people_id:"",job:D.value,cast_name:p.data.credit_details.cast_name,poster:p.data.credit_details.image_location,id:A.value.length+1,action_type:"a"}),ke.value=!1,ve.value=!1,q.value="",D.value=null,P.value="",H.value="",O.value="",h.value="",u.value=[],document.body.classList.remove("dark-modal-open")):Le.value=!1}).catch(p=>{})},cast_details:j,crew_details:A,routeId:l,isSubmit:Ce,submitCreditDetails:pt,seasonData:je,getSeasonId:dt,isCreateNewCast:Ie,isCreateNewCrew:Le,addType:Be,isGuestClick:()=>{x.value=!0,setTimeout(()=>{ot.value=P.value},500)},guestClick:x,isChar:Ye,isCharWithSpeailChar:xe,specialChars:He,error:Z,title_id:o,season_id:Q,exist_season_id:_e,isEdit:Te,isEditBtn:yt,getJobId:_t,selectSeason:Se,closeModal:()=>{ye.value=!1,D.value=null,q.value="",P.value="",x.value=!1,we.value=!1,ne.value="",H.value="",be.value=!1,ke.value=!1,document.body.classList.remove("dark-modal-open")},createInfoModal:()=>{we.value=!0,ne.value="",document.body.classList.add("dark-modal-open")},createCrewInfoModal:()=>{ke.value=!0,ne.value="",document.body.classList.add("dark-modal-open")}}}},W=i=>($e("data-v-46d3806b"),i=i(),et(),i),Ss={class:"credit-from-details"},Es={class:"credit-tabber-area"},Ns={class:"credit-cast-area"},qs={class:"login-wrap"},Vs={class:"box"},As={class:"form-group search-area"},js=["placeholder"],Bs=W(()=>s("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.60039 2.67979C4.94942 2.67979 2.80039 4.82882 2.80039 7.47979C2.80039 10.1308 4.94942 12.2798 7.60039 12.2798C10.2514 12.2798 12.4004 10.1308 12.4004 7.47979C12.4004 4.82882 10.2514 2.67979 7.60039 2.67979ZM0.400391 7.47979C0.400391 3.50334 3.62394 0.279785 7.60039 0.279785C11.5768 0.279785 14.8004 3.50334 14.8004 7.47979C14.8004 9.03478 14.3074 10.4746 13.4693 11.6516L19.2489 17.4313C19.7175 17.8999 19.7175 18.6597 19.2489 19.1283C18.7803 19.5969 18.0205 19.5969 17.5519 19.1283L11.7722 13.3487C10.5953 14.1868 9.15539 14.6798 7.60039 14.6798C3.62394 14.6798 0.400391 11.4562 0.400391 7.47979Z",fill:"white"})],-1)),Os=[Bs],Ps={class:"search-wrap-area"},Fs={key:0},Us={class:"tags-img"},Rs=["src"],zs={key:1,src:$},Js=["onClick"],Hs={key:1},Zs={class:"credit-list-area"},Ws={class:"divrow"},Ks=W(()=>s("span",{class:"icons"},[s("svg",{width:"18",height:"12",viewBox:"0 0 18 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{d:"M0 12H18V10H0V12ZM0 7H18V5H0V7ZM0 0V2H18V0H0Z",fill:"white"})])],-1)),Gs={class:"thumbimg"},Ys=["src"],xs={key:1,src:$},Qs={class:"inner-pt-area"},Xs={class:"divrow name-wrap"},$s={class:"divrow center"},ea={class:"divrow center"},ta={class:"end-part"},ia={class:"divrow center"},sa={key:0,class:"gustBtn"},aa=["onClick"],la=W(()=>s("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{d:"M11.688 1.4033C12.4914 0.59994 13.7939 0.59994 14.5973 1.4033C15.4006 2.20667 15.4006 3.50918 14.5973 4.31254L13.7817 5.12809L10.8725 2.21885L11.688 1.4033Z",fill:"white"}),s("path",{d:"M9.41788 3.67347L0.799805 12.2915V15.2008H3.70904L12.3271 6.58271L9.41788 3.67347Z",fill:"white"})],-1)),oa=[la],da=["onClick"],ra=W(()=>s("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{d:"M13.2997 0.70875C12.9097 0.31875 12.2797 0.31875 11.8897 0.70875L6.99973 5.58875L2.10973 0.69875C1.71973 0.30875 1.08973 0.30875 0.699727 0.69875C0.309727 1.08875 0.309727 1.71875 0.699727 2.10875L5.58973 6.99875L0.699727 11.8887C0.309727 12.2787 0.309727 12.9087 0.699727 13.2987C1.08973 13.6887 1.71973 13.6887 2.10973 13.2987L6.99973 8.40875L11.8897 13.2987C12.2797 13.6887 12.9097 13.6887 13.2997 13.2987C13.6897 12.9087 13.6897 12.2787 13.2997 11.8887L8.40973 6.99875L13.2997 2.10875C13.6797 1.72875 13.6797 1.08875 13.2997 0.70875Z",fill:"white"})],-1)),na=[ra],_a={key:1,class:"no-data-wrapper"},ca={class:"credit-crew-area"},ua={class:"login-wrap"},ha={class:"box"},va={class:"form-group search-area"},ma=["placeholder"],ga=W(()=>s("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.60039 2.67979C4.94942 2.67979 2.80039 4.82882 2.80039 7.47979C2.80039 10.1308 4.94942 12.2798 7.60039 12.2798C10.2514 12.2798 12.4004 10.1308 12.4004 7.47979C12.4004 4.82882 10.2514 2.67979 7.60039 2.67979ZM0.400391 7.47979C0.400391 3.50334 3.62394 0.279785 7.60039 0.279785C11.5768 0.279785 14.8004 3.50334 14.8004 7.47979C14.8004 9.03478 14.3074 10.4746 13.4693 11.6516L19.2489 17.4313C19.7175 17.8999 19.7175 18.6597 19.2489 19.1283C18.7803 19.5969 18.0205 19.5969 17.5519 19.1283L11.7722 13.3487C10.5953 14.1868 9.15539 14.6798 7.60039 14.6798C3.62394 14.6798 0.400391 11.4562 0.400391 7.47979Z",fill:"white"})],-1)),pa=[ga],fa={class:"search-wrap-area"},ya={key:0},ba={class:"tags-img"},wa=["src"],ka={key:1,src:$},Ca=["onClick"],Ia={key:1},La={class:"credit-list-area"},Ma={class:"divrow"},Da=W(()=>s("span",{class:"icons"},[s("svg",{width:"18",height:"12",viewBox:"0 0 18 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{d:"M0 12H18V10H0V12ZM0 7H18V5H0V7ZM0 0V2H18V0H0Z",fill:"white"})])],-1)),Ta={class:"thumbimg"},Sa=["src"],Ea={key:1,src:$},Na={class:"inner-pt-area"},qa={class:"divrow name-wrap"},Va=W(()=>s("div",{class:"divrow center"},[s("p")],-1)),Aa={class:"divrow center"},ja={class:"end-part"},Ba=W(()=>s("div",{class:"divrow center"},null,-1)),Oa=["onClick"],Pa=W(()=>s("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{d:"M11.688 1.4033C12.4914 0.59994 13.7939 0.59994 14.5973 1.4033C15.4006 2.20667 15.4006 3.50918 14.5973 4.31254L13.7817 5.12809L10.8725 2.21885L11.688 1.4033Z",fill:"white"}),s("path",{d:"M9.41788 3.67347L0.799805 12.2915V15.2008H3.70904L12.3271 6.58271L9.41788 3.67347Z",fill:"white"})],-1)),Fa=[Pa],Ua=["onClick"],Ra=W(()=>s("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{d:"M13.2997 0.70875C12.9097 0.31875 12.2797 0.31875 11.8897 0.70875L6.99973 5.58875L2.10973 0.69875C1.71973 0.30875 1.08973 0.30875 0.699727 0.69875C0.309727 1.08875 0.309727 1.71875 0.699727 2.10875L5.58973 6.99875L0.699727 11.8887C0.309727 12.2787 0.309727 12.9087 0.699727 13.2987C1.08973 13.6887 1.71973 13.6887 2.10973 13.2987L6.99973 8.40875L11.8897 13.2987C12.2797 13.6887 12.9097 13.6887 13.2997 13.2987C13.6897 12.9087 13.6897 12.2787 13.2997 11.8887L8.40973 6.99875L13.2997 2.10875C13.6797 1.72875 13.6797 1.08875 13.2997 0.70875Z",fill:"white"})],-1)),za=[Ra],Ja={key:1,class:"no-data-wrapper"},Ha={class:"new-cast-modal"},Za={class:"cast-details"},Wa={class:"cast-left-profile"},Ka=["src"],Ga={key:1,src:$,class:"cast-img"},Ya={class:"right"},xa={class:"form-grp"},Qa={for:""},Xa={class:"form-grp"},$a={for:""},el=["placeholder"],tl={key:0,class:"error-txt"},il={class:"form-grp"},sl={for:""},al={class:"radio-grp"},ll={for:"yes"},ol={class:"check-circle"},dl=W(()=>s("div",{class:"radio-circle"},[s("div",{class:"inner-circle"})],-1)),rl={for:"no"},nl={class:"check-circle"},_l=W(()=>s("div",{class:"radio-circle"},[s("div",{class:"inner-circle"})],-1)),cl={class:"button-group"},ul=["disabled"],hl={class:"cast-details"},vl={class:"img-picker"},ml={for:"img-picker-1"},gl={key:0,src:$,alt:"",class:"cast-img"},pl=["src"],fl={class:"right"},yl={class:"form-grp"},bl={for:""},wl=["placeholder"],kl={key:0,class:"error-txt"},Cl={class:"form-grp"},Il={for:""},Ll={class:"form-grp"},Ml={for:""},Dl=["placeholder"],Tl={key:0,class:"error-txt"},Sl={class:"form-grp"},El={for:""},Nl={class:"radio-grp"},ql={for:"yes"},Vl={class:"check-circle"},Al=W(()=>s("div",{class:"radio-circle"},[s("div",{class:"inner-circle"})],-1)),jl={for:"no"},Bl={class:"check-circle"},Ol=W(()=>s("div",{class:"radio-circle"},[s("div",{class:"inner-circle"})],-1)),Pl={class:"button-group"},Fl=["disabled"],Ul={class:"cast-details"},Rl={class:"cast-left-profile"},zl=["src"],Jl={key:1,src:$,class:"cast-img"},Hl={class:"right"},Zl={class:"form-grp"},Wl={for:""},Kl={class:"button-group"},Gl=["disabled"],Yl={class:"cast-details"},xl={class:"img-picker"},Ql={for:"img-picker-1"},Xl={key:0,src:$,alt:"",class:"cast-img"},$l=["src"],eo={class:"right"},to={class:"form-grp"},io={for:""},so={class:"form-grp"},ao={for:""},lo=["placeholder"],oo={key:0,class:"error-txt"},ro={class:"button-group"},no=["disabled"],_o={class:"new-cast-modal center-popup-modal"},co=["innerHTML"],uo={class:"button-group"};function ho(i,e,a,t,l,o){const v=K("SearchDropdown"),w=K("Tabs"),C=K("TabWrapper"),I=K("PopUpModal");return _(),c(F,null,[s("div",Ss,[s("div",{class:f(a.itemType=="tv"?"page-heading-area with-dropdown":"page-heading-area")},[s("h2",null,d(i.$t("credit.credit")),1),a.itemType=="tv"?(_(),c(F,{key:0},[y(` <select @change="getSeasonId($event)">\r
          <option\r
            v-for="(item, index) of seasonData"\r
            :key="index"\r
            :value="[item.draft_season_id, item.season_id]"\r
          >\r
            {{ $t("credit.season") }} {{ item.season_no }}\r
          </option>\r
        </select> `),N(v,{onDropdownValue:t.getSeasonId,search_type:t.selectSeason,searchTitleListItem:t.seasonData,searchtitle:t.seasonData.length>0?n=>`${i.$t("credit.season")} ${n.season_no}`:"","return-object":"",clearable:!1},null,8,["onDropdownValue","search_type","searchTitleListItem","searchtitle"])],64)):y("v-if",!0)],2),s("div",Es,[N(C,{onSelectedTab:t.getTabName},{default:M(()=>[N(w,{title:"addNewPeople.cast"},{default:M(()=>[s("div",Ns,[s("div",qs,[s("div",Vs,[s("div",As,[U(s("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=n=>t.search_text=n),class:"form-control",onKeyup:e[1]||(e[1]=(...n)=>t.getCreditList&&t.getCreditList(...n)),onClick:e[2]||(e[2]=n=>t.shows=!t.shows),placeholder:i.$t("button.search")},null,40,js),[[re,t.search_text]]),s("span",{class:"searchBtn",onClick:e[3]||(e[3]=(...n)=>t.getCreditList&&t.getCreditList(...n))},Os)]),U(s("div",Ps,[t.creditList.length>0?(_(),c("ul",Fs,[(_(!0),c(F,null,G(t.creditList,(n,k)=>(_(),c("li",{key:k,class:f(t.isEdit?"isDisabled":"")},[s("div",Us,[n.people_poster?(_(),c("img",{key:0,src:n.people_poster,alt:""},null,8,Rs)):(_(),c("img",zs))]),s("span",null,d(n.people_name),1),s("a",{class:f(t.isEdit?"pointer-events-none":""),onClick:h=>t.AddInfoModal(n,i.$t("addNewPeople.mediadetails.addButton"),"add")},d(i.$t("addNewPeople.mediadetails.add+")),11,Js)],2))),128))])):(_(),c("ul",Hs,[s("li",{class:f(t.isEdit?"isDisabled":"")},[s("span",null,d(i.$t("credit.notfound")),1),s("a",{class:f(t.isEdit?"pointer-events-none":""),onClick:e[4]||(e[4]=(...n)=>t.createInfoModal&&t.createInfoModal(...n))},d(i.$t("credit.create"))+" +",3)],2)]))],512),[[Ae,t.shows]])])]),s("div",Zs,[t.castRequestList.length>0?(_(!0),c(F,{key:0},G(t.castRequestList,(n,k)=>(_(),c("div",{class:"single-credit-list",key:k},[s("div",Ws,[Ks,s("div",Gs,[n.poster?(_(),c("img",{key:0,src:n.poster},null,8,Ys)):(_(),c("img",xs))])]),s("div",Qs,[s("div",Xs,[s("h3",null,d(n.cast_name),1)]),s("div",$s,[s("p",null,d(n.character_name),1)]),s("div",ea,[s("p",null,d(n.job),1)])]),s("div",ta,[s("div",ia,[n.is_guest=="1"?(_(),c("span",sa,d(i.$t("credit.guest")),1)):y("v-if",!0)]),s("div",{class:f(["divrow actions",t.isEdit?"isDisabled":""])},[s("a",{onClick:h=>t.AddInfoModal(n,i.$t("button.edit"),"edit"),class:f(t.isEdit?"pointer-events-none":"")},oa,10,aa),s("a",{onClick:h=>t.removeInfoModal(n),class:f(t.isEdit?"pointer-events-none":"")},na,10,da)],2)])]))),128)):(_(),c("div",_a,[s("p",null,d(i.$t("searchResults.noData")),1)]))])]),a.itemType=="movie"?(_(),c("div",{key:0,class:f(t.routeId!=""||i.$route.params.type=="internal"?"":"isDisabled")},[s("a",{class:f(["saveBtn",t.routeId!=""||i.$route.params.type=="internal"?"":"pointer-events-none"]),onClick:e[5]||(e[5]=n=>t.isEdit==!0?t.isEditBtn():t.addCreditDetails())},d(t.isEdit?i.$t("button.edit"):i.$t("button.save")),3)],2)):y("v-if",!0),a.itemType=="tv"?(_(),c("div",{key:1,class:f(a.saveIdList.season_id!=""&&t.routeId!=""||i.$route.params.type=="internal"&&(a.saveIdList.season_id!=""||t.exist_season_id||t.season_id)?"":"isDisabled")},[s("a",{class:f(["saveBtn",a.saveIdList.season_id!=""&&t.routeId!=""||i.$route.params.type=="internal"&&(a.saveIdList.season_id!=""||t.exist_season_id||t.season_id)?"":"pointer-events-none"]),onClick:e[6]||(e[6]=n=>t.isEdit==!0?t.isEditBtn():t.addCreditDetails())},d(t.isEdit?i.$t("button.edit"):i.$t("button.save")),3)],2)):y("v-if",!0)]),_:1}),N(w,{title:"addNewPeople.crew"},{default:M(()=>{var n;return[s("div",ca,[s("div",ua,[s("div",ha,[s("div",va,[U(s("input",{type:"text","onUpdate:modelValue":e[7]||(e[7]=k=>t.search_crew_text=k),class:"form-control",onKeyup:e[8]||(e[8]=(...k)=>t.getCreditCrewList&&t.getCreditCrewList(...k)),onClick:e[9]||(e[9]=k=>t.shows1=!t.shows1),placeholder:i.$t("button.search")},null,40,ma),[[re,t.search_crew_text]]),s("span",{class:"searchBtn",onClick:e[10]||(e[10]=(...k)=>t.getCreditCrewList&&t.getCreditCrewList(...k))},pa)]),U(s("div",fa,[t.crewList.length>0?(_(),c("ul",ya,[(_(!0),c(F,null,G(t.crewList,(k,h)=>(_(),c("li",{key:h,class:f(t.isEdit?"isDisabled":"")},[s("div",ba,[k.people_poster?(_(),c("img",{key:0,src:k.people_poster,alt:""},null,8,wa)):(_(),c("img",ka))]),s("span",null,d(k.people_name),1),s("a",{class:f(t.isEdit?"pointer-events-none":""),onClick:u=>t.AddCrewInfoModal(k,i.$t("addNewPeople.mediadetails.addButton"),"add")},d(i.$t("addNewPeople.mediadetails.add+")),11,Ca)],2))),128))])):(_(),c("ul",Ia,[s("li",{class:f(t.isEdit?"isDisabled":"")},[s("span",null,d(i.$t("credit.notfound")),1),s("a",{class:f(t.isEdit?"pointer-events-none":""),onClick:e[11]||(e[11]=(...k)=>t.createCrewInfoModal&&t.createCrewInfoModal(...k))},d(i.$t("credit.create"))+" +",3)],2)]))],512),[[Ae,t.shows1]])])]),s("div",La,[((n=t.crewRequestList)==null?void 0:n.length)>0?(_(!0),c(F,{key:0},G(t.crewRequestList,(k,h)=>(_(),c("div",{class:"single-credit-list",key:h},[s("div",Ma,[Da,s("div",Ta,[k.poster?(_(),c("img",{key:0,src:k.poster},null,8,Sa)):(_(),c("img",Ea))])]),s("div",Na,[s("div",qa,[s("h3",null,d(k.cast_name),1)]),Va,s("div",Aa,[s("p",null,d(k.job),1)])]),s("div",ja,[Ba,s("div",{class:f(["divrow actions",t.isEdit?"isDisabled":""])},[s("a",{class:f(t.isEdit?"pointer-events-none":""),onClick:u=>t.AddCrewInfoModal(k,i.$t("button.edit"),"edit")},Fa,10,Oa),s("a",{onClick:u=>t.removeCrewInfoModal(k),class:f(t.isEdit?"pointer-events-none":"")},za,10,Ua)],2)])]))),128)):(_(),c("div",Ja,[s("p",null,d(i.$t("searchResults.noData")),1)]))]),a.itemType=="movie"?(_(),c("div",{key:0,class:f(t.routeId!=""||i.$route.params.type=="internal"?"":"isDisabled")},[s("a",{onClick:e[12]||(e[12]=k=>t.isEdit==!0?t.isEditBtn():t.addCreditDetails()),class:f(["saveBtn",t.routeId!=""||i.$route.params.type=="internal"?"":"pointer-events-none"])},d(t.isEdit?i.$t("button.edit"):i.$t("button.save")),3)],2)):y("v-if",!0),a.itemType=="tv"?(_(),c("div",{key:1,class:f(a.saveIdList.season_id!=""&&t.routeId!=""||i.$route.params.type=="internal"&&(a.saveIdList.season_id!=""||t.exist_season_id||t.season_id)?"":"isDisabled")},[s("a",{class:f(["saveBtn",a.saveIdList.season_id!=""&&t.routeId!=""||i.$route.params.type=="internal"&&(a.saveIdList.season_id!=""||t.exist_season_id||t.season_id)?"":"pointer-events-none"]),onClick:e[13]||(e[13]=k=>t.isEdit==!0?t.isEditBtn():t.addCreditDetails())},d(t.isEdit?i.$t("button.edit"):i.$t("button.save")),3)],2)):y("v-if",!0)])]}),_:1})]),_:1},8,["onSelectedTab"])])]),s("div",Ha,[y(" add info modal "),N(I,{isModal:t.isAddInfoModal},{header:M(()=>[s("h1",null,d(t.addType)+" "+d(i.$t("credit.information")),1),y(` <button @click="isAddInfoModal = false">\r
          <img src="@/assets/icons/modal-cross-icon.svg" alt="" />\r
        </button> `)]),body:M(()=>[s("div",Za,[s("div",Wa,[t.people.people_poster||t.people.poster?(_(),c("img",{key:0,src:t.people.people_poster||t.people.poster,alt:"",class:"cast-img"},null,8,Ka)):(_(),c("img",Ga))]),s("div",Ya,[s("div",xa,[s("label",Qa,d(i.$t("credit.jobTitle")),1),N(v,{onDropdownValue:t.getJobId,search_type:t.job,searchTitleListItem:t.jobTitleList,searchtitle:"department_name",searchvalue:"department_value",labelItem:i.$t("credit.selectJobTitle"),clearable:!1},null,8,["onDropdownValue","search_type","searchTitleListItem","labelItem"])]),s("div",Xa,[s("label",$a,d(i.$t("credit.characterName")),1),U(s("input",{type:"text","onUpdate:modelValue":e[14]||(e[14]=n=>t.character_name=n),placeholder:i.$t("credit.enterCharacterName"),maxlength:"150",onKeypress:e[15]||(e[15]=n=>t.isCharWithSpeailChar(n)),class:f(t.error.character_name?"error-border":"")},null,42,el),[[re,t.character_name]]),t.error.character_name?(_(),c("span",tl,d(t.error.character_name),1)):y("v-if",!0)]),s("div",il,[s("label",sl,d(i.$t("credit.guest")),1),s("div",al,[s("label",ll,[s("div",ol,[U(s("input",{type:"radio",name:"each-radio-movie","onUpdate:modelValue":e[16]||(e[16]=n=>t.is_guest=n),id:"yes",value:"1",onClick:e[17]||(e[17]=(...n)=>t.isGuestClick&&t.isGuestClick(...n))},null,512),[[Ve,t.is_guest]]),dl,s("span",null,d(i.$t("addNewMoviesForm.yes")),1)])]),s("label",rl,[s("div",nl,[U(s("input",{type:"radio",name:"each-radio-movie","onUpdate:modelValue":e[18]||(e[18]=n=>t.is_guest=n),id:"no",value:"0",onClick:e[19]||(e[19]=(...n)=>t.isGuestClick&&t.isGuestClick(...n))},null,512),[[Ve,t.is_guest]]),_l,s("span",null,d(i.$t("addNewMoviesForm.no")),1)])])])])])])]),footer:M(()=>[s("div",cl,[s("button",{class:f(["black-outline-btn",t.character_name==""||t.job==null||t.is_guest.toString()==""?"isDisabled":""]),disabled:t.character_name==""||t.job==null||t.is_guest.toString()=="",onClick:e[20]||(e[20]=(...n)=>t.addCastInformation&&t.addCastInformation(...n))},d(i.$t("button.save")),11,ul),s("button",{class:"red-fill-btn",onClick:e[21]||(e[21]=(...n)=>t.closeModal&&t.closeModal(...n))},d(i.$t("button.cancel")),1)])]),_:1},8,["isModal"]),y(" create info modal "),N(I,{isModal:t.isCreateInfoModal},{header:M(()=>[s("h1",null,d(i.$t("credit.createInformation")),1),y(` <button @click="isCreateInfoModal = false">\r
          <img src="@/assets/icons/modal-cross-icon.svg" alt="" />\r
        </button> `)]),body:M(()=>[s("div",hl,[s("div",vl,[s("input",{type:"file",onChange:e[22]||(e[22]=(...n)=>t.onFileChange&&t.onFileChange(...n)),id:"img-picker-1",accept:"image/*"},null,32),s("label",ml,[t.url?y("v-if",!0):(_(),c("img",gl)),t.url?(_(),c("img",{key:1,src:t.url,alt:"",class:"cast-img"},null,8,pl)):y("v-if",!0)])]),s("div",fl,[s("div",yl,[s("label",bl,d(i.$t("credit.castName")),1),U(s("input",{type:"text","onUpdate:modelValue":e[23]||(e[23]=n=>t.cast_name=n),placeholder:i.$t("credit.enterCastName"),maxlength:"150",onKeypress:e[24]||(e[24]=n=>t.isCharWithSpeailChar(n)),class:f(t.error.cast_name?"error-border":"")},null,42,wl),[[re,t.cast_name]]),t.error.cast_name?(_(),c("span",kl,d(t.error.cast_name),1)):y("v-if",!0)]),s("div",Cl,[s("label",Il,d(i.$t("credit.jobTitle")),1),N(v,{onDropdownValue:t.getJobId,search_type:t.job,searchTitleListItem:t.jobTitleList,searchtitle:"department_name",searchvalue:"department_value",labelItem:i.$t("credit.selectJobTitle"),clearable:!1},null,8,["onDropdownValue","search_type","searchTitleListItem","labelItem"])]),s("div",Ll,[s("label",Ml,d(i.$t("credit.characterName")),1),U(s("input",{"onUpdate:modelValue":e[25]||(e[25]=n=>t.character_name=n),type:"text",name:"",id:"",maxlength:"150",placeholder:i.$t("credit.characterName"),onKeypress:e[26]||(e[26]=n=>t.isCharWithSpeailChar(n)),class:f(t.error.character_name?"error-border":"")},null,42,Dl),[[re,t.character_name]]),t.error.character_name?(_(),c("span",Tl,d(t.error.character_name),1)):y("v-if",!0)]),s("div",Sl,[s("label",El,d(i.$t("credit.guest")),1),s("div",Nl,[s("label",ql,[s("div",Vl,[U(s("input",{type:"radio",name:"each-radio-movie",id:"yes","onUpdate:modelValue":e[27]||(e[27]=n=>t.is_guest=n),value:"1"},null,512),[[Ve,t.is_guest]]),Al,s("span",null,d(i.$t("addNewMoviesForm.yes")),1)])]),s("label",jl,[s("div",Bl,[U(s("input",{type:"radio",name:"each-radio-movie",id:"no","onUpdate:modelValue":e[28]||(e[28]=n=>t.is_guest=n),value:"0"},null,512),[[Ve,t.is_guest]]),Ol,s("span",null,d(i.$t("addNewMoviesForm.no")),1)])])])])])])]),footer:M(()=>[s("div",Pl,[s("button",{class:f(["black-outline-btn",t.character_name==""||t.job==null||t.is_guest==""||t.cast_name==""||t.url==""||t.isCreateNewCast?"isDisabled":""]),disabled:t.character_name==""||t.job==null||t.is_guest==""||t.cast_name==""||t.url==""||t.isCreateNewCast,onClick:e[29]||(e[29]=(...n)=>t.createCastInfo&&t.createCastInfo(...n))},d(i.$t("button.save")),11,Fl),s("button",{class:"red-fill-btn",onClick:e[30]||(e[30]=(...n)=>t.closeModal&&t.closeModal(...n))},d(i.$t("button.cancel")),1)])]),_:1},8,["isModal"]),y("add crew info modal "),N(I,{isModal:t.isCrewInfoModal},{header:M(()=>[s("h1",null,d(t.addType)+" "+d(i.$t("credit.information")),1),y(` <button @click="isCrewInfoModal = false">\r
          <img src="@/assets/icons/modal-cross-icon.svg" alt="" />\r
        </button> `)]),body:M(()=>[s("div",Ul,[s("div",Rl,[t.people.people_poster||t.people.poster?(_(),c("img",{key:0,src:t.people.people_poster||t.people.poster,alt:"",class:"cast-img"},null,8,zl)):(_(),c("img",Jl))]),s("div",Hl,[s("div",Zl,[s("label",Wl,d(i.$t("credit.jobTitle")),1),N(v,{onDropdownValue:t.getJobId,search_type:t.job,searchTitleListItem:t.jobTitleList,searchtitle:"department_name",searchvalue:"department_value",labelItem:i.$t("credit.selectJobTitle"),clearable:!1},null,8,["onDropdownValue","search_type","searchTitleListItem","labelItem"])])])])]),footer:M(()=>[s("div",Kl,[s("button",{class:f(["black-outline-btn",t.job==null?"isDisabled":""]),disabled:t.job==null,onClick:e[31]||(e[31]=(...n)=>t.addCrewInformation&&t.addCrewInformation(...n))},d(i.$t("button.save")),11,Gl),s("button",{class:"red-fill-btn",onClick:e[32]||(e[32]=(...n)=>t.closeModal&&t.closeModal(...n))},d(i.$t("button.cancel")),1)])]),_:1},8,["isModal"]),y(" crew create info modal "),N(I,{isModal:t.isCrewCreateInfoModal},{header:M(()=>[s("h1",null,d(i.$t("credit.createInformation")),1),y(` <button @click="isCrewCreateInfoModal = false">\r
          <img src="@/assets/icons/modal-cross-icon.svg" alt="" />\r
        </button> `)]),body:M(()=>[s("div",Yl,[s("div",xl,[s("input",{type:"file",onChange:e[33]||(e[33]=(...n)=>t.onFileChange&&t.onFileChange(...n)),id:"img-picker-1",accept:"image/*"},null,32),s("label",Ql,[t.url?y("v-if",!0):(_(),c("img",Xl)),t.url?(_(),c("img",{key:1,src:t.url,alt:"",class:"cast-img"},null,8,$l)):y("v-if",!0)])]),s("div",eo,[s("div",to,[s("label",io,d(i.$t("credit.jobTitle")),1),N(v,{onDropdownValue:t.getJobId,search_type:t.job,searchTitleListItem:t.jobTitleList,searchtitle:"department_name",searchvalue:"department_value",labelItem:i.$t("credit.selectJobTitle"),clearable:!1},null,8,["onDropdownValue","search_type","searchTitleListItem","labelItem"])]),s("div",so,[s("label",ao,d(i.$t("credit.crewName")),1),U(s("input",{type:"text",name:"",id:"",placeholder:i.$t("credit.enterCrewName"),"onUpdate:modelValue":e[34]||(e[34]=n=>t.cast_name=n),onKeypress:e[35]||(e[35]=n=>t.isCharWithSpeailChar(n)),maxlength:"150",class:f(t.error.cast_name?"error-border":"")},null,42,lo),[[re,t.cast_name]]),t.error.cast_name?(_(),c("span",oo,d(t.error.cast_name),1)):y("v-if",!0)])])])]),footer:M(()=>[s("div",ro,[s("button",{class:f(["black-outline-btn",t.job==null||t.cast_name==""||t.url==""||t.isCreateNewCrew?"isDisabled":""]),disabled:t.job==null||t.cast_name==""||t.url==""||t.isCreateNewCrew,onClick:e[36]||(e[36]=(...n)=>t.createCrewInfo&&t.createCrewInfo(...n))},d(i.$t("button.save")),11,no),s("button",{class:"red-fill-btn",onClick:e[37]||(e[37]=(...n)=>t.closeModal&&t.closeModal(...n))},d(i.$t("button.cancel")),1)])]),_:1},8,["isModal"])]),y(" submit modal "),s("div",_o,[N(I,{isModal:t.isSubmit},{header:M(()=>[s("h1",{class:"text-center",innerHTML:i.$t("addNewMoviesForm.youShouldSubmitToSendTheAdd")},null,8,co)]),body:M(()=>[]),footer:M(()=>[s("div",uo,[s("button",{class:"black-outline-btn",onClick:e[38]||(e[38]=(...n)=>t.submitCreditDetails&&t.submitCreditDetails(...n))},d(i.$t("button.ok")),1),s("button",{class:"red-fill-btn",onClick:e[39]||(e[39]=n=>t.isSubmit=!1)},d(i.$t("button.cancel")),1)])]),_:1},8,["isModal"])])],64)}const sd=fe(Ts,[["render",ho],["__scopeId","data-v-46d3806b"],["__file","D:/11-db-frontend/11_db/src/components/AddNewmovie/CreditDetails.vue"]]),vo="/assets/cross-black.3ec943c0.svg",mo={name:"TagsDetails",components:{Tabs:Pe,TabWrapper:Fe,PopUpModal:Ue,Modal:ze},data(){return{shows:!1,shows1:!1,isTagModal:!1,tagDetails:[],routeId:this.$route.params.id,category_id:"",sub_category_list:[],tag_search_list:[],sub_cat_id:null,score:1,tagBelowList:[],genre_details:[],tag_details:[],type:"",isSubmit:!1,tag_search_id:null,title_id:this.$route.params.type=="internal"?this.$route.params.external_id:"",isEdit:!1,score_list:[1,2,3,4,5,6,7,8,9,10]}},props:{site_language:{type:String},saveIdList:{type:Object},itemType:{type:String}},emits:["selectedId","isEditOn"],created(){this.AddNewMovieService=new Re,this.EditMovieService=new Je},watch:{site_language:function(i,e){var a,t,l,o;if(i&&i!=e){const v=JSON.parse(localStorage.getItem("draft_ids")||"[]");v[0]?this.routeId=(t=(a=v[0])==null?void 0:a.primaryDetails[this.itemType][this.site_language])!=null&&t.draft_request_id?(o=(l=v[0])==null?void 0:l.primaryDetails[this.itemType][this.site_language])==null?void 0:o.draft_request_id:"":this.routeId=this.routeId,this.genre_details=[],this.tag_details=[],this.tagRequestList()}}},mounted(){var e,a,t,l;this.$route.params.type=="internal"&&(this.isEdit=!0);const i=JSON.parse(localStorage.getItem("draft_ids")||"[]");i[0]?this.routeId=(a=(e=i[0])==null?void 0:e.primaryDetails[this.itemType][this.site_language])!=null&&a.draft_request_id?(l=(t=i[0])==null?void 0:t.primaryDetails[this.itemType][this.site_language])==null?void 0:l.draft_request_id:"":this.routeId=this.routeId,this.tagRequestList()},methods:{tagRequestList(){let i;this.$route.params.type=="internal"?i=this.EditMovieService.getTagDetails(this.routeId,this.site_language,this.title_id):i=this.AddNewMovieService.getTagDetails(this.routeId,this.site_language),i.then(e=>{e.status==200&&(this.tagDetails=e.data.results,this.$route.params.type=="internal"?Array.from(this.tagDetails).forEach(a=>{a.type=="genre"?Array.from(a.tags).forEach(t=>{this.genre_details.push({tag_id:t.tag_id,id:t.id?t.id:"",title:t.display_name,score:t.score})}):Array.from(a.tags).forEach(t=>{this.tag_details.push({tag_id:t.tag_id,id:t.id?t.id:"",title:t.display_name,score:t.score})})}):Array.from(this.tagDetails).forEach(a=>{a.type=="genre"?Array.from(a.tags).forEach(t=>{this.genre_details.push({id:t.tag_id,title:t.display_name,score:t.score})}):Array.from(a.tags).forEach(t=>{this.tag_details.push({id:t.tag_id,title:t.display_name,score:t.score})})}))}).catch(e=>{})},openTagModal(i){this.isTagModal=!0,this.category_id=i.category_id,this.type=i.type,this.sub_cat_id=null,this.tag_search_id=null,this.getSubcategoryList();const e=localStorage.getItem("theme-colour"),a=document.body;e==="theme-dark"&&a.classList.add("dark-modal-open")},getSubcategoryList(){this.AddNewMovieService.getSubcategoryList(this.category_id,this.site_language).then(i=>{i.status==200&&(this.sub_category_list=i.data.results)}).catch(i=>{})},getSubCateId(i){this.sub_cat_id=i,this.tag_search_id=null,this.tag_search_list=[],this.sub_cat_id&&this.getTagSearchList()},getTagSearchList(){this.AddNewMovieService.getTagSearchList(this.category_id,this.sub_cat_id,this.site_language,"").then(i=>{i.status==200&&(this.tag_search_list=i.data.results)}).catch(i=>{})},addScore(){if(this.score==10)return!1;this.score++},removeScore(){if(this.score==1)return!1;this.score--},chooseTag(i){this.tag_search_id=i;let e=this.tagBelowList.find(t=>t.id==i),a=this.tag_search_list.find(t=>t.id==i);!e&&i&&this.tagBelowList.push({id:i,title:a.title,score:this.score})},removeTagSearch(i){this.tagBelowList.find(a=>a.id==i.id)&&this.tagBelowList.splice(this.tagBelowList.indexOf(i),1)},addTags(){Array.from(this.tagBelowList).forEach(i=>{i.score=this.score;let e=this.tagDetails.find(t=>t.category_id==this.category_id);e&&(e.tags.find(l=>l.tag_id==i.id&&l.score==this.score)||e.tags.push({tag_id:i.id,score:this.score,display_name:i.title})),document.body.classList.remove("dark-modal-open")}),this.genre_details=[],this.tag_details=[],Array.from(this.tagDetails).forEach(i=>{i.type=="genre"?Array.from(i.tags).forEach(e=>{this.genre_details.push({id:e.id?e.id:"",tag_id:e.tag_id,title:e.display_name,score:e.score})}):Array.from(i.tags).forEach(e=>{this.tag_details.push({tag_id:e.tag_id,id:e.id?e.id:"",title:e.display_name,score:e.score})})}),this.isTagModal=!1,this.category_id="",this.type="",this.score=1,this.tagBelowList=[],this.sub_cat_id="",this.tag_search_list=[]},findUnique(i,e){var a={};return i.forEach(t=>{a[e(t)]=t}),Object.keys(a).map(t=>a[t])},closeModal(){this.isTagModal=!1,this.category_id="",this.type="",this.score=1,this.tagBelowList=[],this.sub_cat_id="",this.tag_search_list=[],document.body.classList.remove("dark-modal-open")},removeTagList(i,e){let a=this.tagDetails.find(t=>t.category_id==e.category_id);if(a){let t=a.tags.find(l=>l.tag_id==i.tag_id);t&&a.tags.splice(a.tags.indexOf(t),1)}if(e.type=="genre"){let t;this.$route.params.type=="internal"?t=this.genre_details.find(l=>l.tag_id==i.tag_id):t=this.genre_details.find(l=>l.id==i.tag_id),t&&this.genre_details.splice(this.genre_details.indexOf(t),1)}else{let t;this.$route.params.type=="internal"?t=this.tag_details.find(l=>l.tag_id==i.tag_id):t=this.tag_details.find(l=>l.id==i.tag_id),t&&this.tag_details.splice(this.tag_details.indexOf(t),1)}},saveTagDetails(){this.isSubmit=!0},submitTagDetails(){this.addTagDetails()},isEditBtn(){this.isEdit=!1,this.$emit("isEditOn",!1)},addTagDetails(){var t,l,o,v,w,C;let i;const e=JSON.parse(localStorage.getItem("draft_ids")||"[]");e[0]&&this.$route.params.type=="internal"&&(this.routeId=(l=(t=e[0])==null?void 0:t.primaryDetails[this.itemType][this.site_language])!=null&&l.draft_request_id?(v=(o=e[0])==null?void 0:o.primaryDetails[this.itemType][this.site_language])==null?void 0:v.draft_request_id:(w=e[0])!=null&&w.primaryDetails[this.itemType].draft_relation_id?(C=e[0])==null?void 0:C.primaryDetails[this.itemType].draft_relation_id:"");let a={draft_request_id:this.routeId,site_language:this.site_language,draft_tag_id:this.saveIdList.tag_request_id,genre_details:this.genre_details,tag_details:this.tag_details};this.$route.params.type=="internal"?(a.title_id=this.title_id,a.title_type=this.itemType,i=this.EditMovieService.saveTag(a)):(a.tag_details=a.tag_details.map(I=>(I.id=I.id?I.id:I.tag_id,I)),a.genre_details=a.genre_details.map(I=>(I.id=I.id?I.id:I.tag_id,I)),i=this.AddNewMovieService.saveTag(a)),i.then(I=>{var n;if(I.status==200){if(this.genre_details=[],this.tag_details=[],this.isSubmit=!1,this.saveIdList.tag_request_id=I.data.data[0].draft_tag_id,this.$route.params.type=="internal")if(this.isEdit=!0,this.itemType=="movie"){const k=JSON.parse(localStorage.getItem("draft_ids")||"[]");if(k[0])((n=k[0].primaryDetails[this.itemType][this.site_language])==null?void 0:n.draft_request_id)||(k[0].primaryDetails[this.itemType][this.site_language]=I.data.data[0]);else{const h={primaryDetails:{[this.itemType]:{[this.site_language]:{draft_request_id:I.data.data[0].draft_request_id},draft_relation_id:I.data.data[0].draft_request_id}}};k.push(h)}localStorage.setItem("draft_ids",JSON.stringify(k)),this.$router.push(`/AddNewMovieForm/${this.title_id}/internal/${I.data.data[0].draft_request_id}`)}else this.$router.push(`/add-tv-details/${this.title_id}/internal/${I.data.data[0].draft_request_id}`);this.$emit("selectedId",this.saveIdList),this.tagRequestList(),Y.fire({title:this.$t("Error.success")})}}).catch(I=>{})}}},go={class:"tags-from-details"},po={class:"page-heading-area page-main-heading"},fo={class:"tag-content-area"},yo=["onClick"],bo=s("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{d:"M15.9993 10.668V21.3346M21.3327 16.0013L10.666 16.0013",stroke:"white","stroke-linecap":"round","stroke-linejoin":"round"}),s("rect",{x:"0.5",y:"0.5",width:"31",height:"31",rx:"3.5",stroke:"#41444C"})],-1),wo=[bo],ko={class:"tags-listings"},Co=["onClick"],Io=s("img",{src:tt},null,-1),Lo=[Io],Mo={class:"new-cast-modal"},Do={class:"add-tag-popbody"},To={class:"form-group"},So={class:"form-group martop16"},Eo={key:0,class:"tags-listings"},No=["onClick"],qo=s("img",{src:vo,alt:""},null,-1),Vo=[qo],Ao={class:"form-group martop24"},jo={class:"button-group"},Bo=["disabled"],Oo={class:"new-cast-modal center-popup-modal"},Po=["innerHTML"],Fo={class:"button-group"};function Uo(i,e,a,t,l,o){const v=K("SearchDropdown"),w=K("PopUpModal");return _(),c(F,null,[s("div",go,[s("div",po,[s("h2",null,d(i.$t("tagDetails.tags")),1)]),s("div",fo,[(_(!0),c(F,null,G(l.tagDetails,(C,I)=>(_(),c("div",{class:"tag-content-list",key:I},[s("div",{class:f(["tags-upper-area",l.isEdit?"isDisabled":""])},[s("h4",null,d(C.category_name),1),s("span",{class:f(["plusicon",l.isEdit?"pointer-events-none":""]),onClick:n=>o.openTagModal(C)},wo,10,yo)],2),s("div",ko,[(_(!0),c(F,null,G(C.tags,(n,k)=>(_(),c("div",{class:f(["single-tag",l.isEdit?"isDisabled":""]),key:k},[ue(d(n.display_name)+" ("+d(n.score)+") ",1),s("span",{onClick:h=>o.removeTagList(n,C),class:f(l.isEdit?"pointer-events-none":"")},Lo,10,Co)],2))),128))])]))),128)),s("div",{class:f([(l.genre_details.length==0&&l.tag_details.length==0,""),"tag-btn"])},[s("a",{class:f([(l.genre_details.length==0&&l.tag_details.length==0,""),"saveBtn"]),onClick:e[0]||(e[0]=C=>l.isEdit==!0?o.isEditBtn():o.saveTagDetails())},d(l.isEdit?i.$t("button.edit"):i.$t("button.save")),3)],2)])]),y(" add tag modal "),s("div",Mo,[N(w,{isModal:l.isTagModal},{header:M(()=>[s("h1",null,d(i.$t("tagDetails.addNewTag")),1),y(` <button @click="isVideoModal = false">\r
          <img src="@/assets/icons/modal-cross-icon.svg" alt="" />\r
        </button> `)]),body:M(()=>[s("div",Do,[s("div",To,[s("label",null,d(i.$t("filterCard.subCategory")),1),N(v,{onDropdownValue:o.getSubCateId,search_type:l.sub_cat_id,searchTitleListItem:l.sub_category_list,searchtitle:"category_name",searchvalue:"id",labelItem:i.$t("dictionary.select")},null,8,["onDropdownValue","search_type","searchTitleListItem","labelItem"])]),s("div",So,[s("label",null,d(i.$t("filterCard.tags")),1),N(v,{onDropdownValue:o.chooseTag,search_type:l.tag_search_id,searchTitleListItem:l.tag_search_list,searchtitle:"title",searchvalue:"id",labelItem:i.$t("tagDetails.searchTags")},null,8,["onDropdownValue","search_type","searchTitleListItem","labelItem"])]),l.tagBelowList.length>0?(_(),c("div",Eo,[(_(!0),c(F,null,G(l.tagBelowList,(C,I)=>(_(),c("div",{class:"single-tag",key:I},[ue(d(C.title)+" ",1),s("span",{onClick:n=>o.removeTagSearch(C)},Vo,8,No)]))),128))])):y("v-if",!0),s("div",Ao,[s("label",null,d(i.$t("tagDetails.score")),1),y(` <div class="score-board">\r
              <a @click="removeScore" class="minusbtn"\r
                ><img src="../../assets/icons/minus-sm.svg" alt=""\r
              /></a>\r
              <input type="text" v-model="score" readonly />\r
              <a @click="addScore" class="plusbtn"\r
                ><img src="../../assets/icons/plus-sm.svg" alt=""\r
              /></a>\r
            </div> `),N(v,{onDropdownValue:e[1]||(e[1]=C=>{l.score=C}),search_type:l.score,searchTitleListItem:l.score_list,labelItem:i.$t("tagDetails.score"),clearable:!1},null,8,["search_type","searchTitleListItem","labelItem"])])])]),footer:M(()=>[s("div",jo,[s("button",{class:f(["black-outline-btn",l.tagBelowList.length==0?"isDisabled":""]),disabled:l.tagBelowList.length==0,onClick:e[2]||(e[2]=(...C)=>o.addTags&&o.addTags(...C))},d(i.$t("button.save")),11,Bo),s("button",{class:"red-fill-btn",onClick:e[3]||(e[3]=(...C)=>o.closeModal&&o.closeModal(...C))},d(i.$t("button.cancel")),1)])]),_:1},8,["isModal"])]),y(" submit modal "),s("div",Oo,[N(w,{isModal:l.isSubmit},{header:M(()=>[s("h1",{class:"text-center",innerHTML:i.$t("addNewMoviesForm.youShouldSubmitToSendTheAdd")},null,8,Po)]),body:M(()=>[]),footer:M(()=>[s("div",Fo,[s("button",{class:"black-outline-btn",onClick:e[4]||(e[4]=(...C)=>o.submitTagDetails&&o.submitTagDetails(...C))},d(i.$t("button.ok")),1),s("button",{class:"red-fill-btn",onClick:e[5]||(e[5]=C=>l.isSubmit=!1)},d(i.$t("button.cancel")),1)])]),_:1},8,["isModal"])])],64)}const ad=fe(mo,[["render",Uo],["__file","D:/11-db-frontend/11_db/src/components/AddNewmovie/TagsDetails.vue"]]);export{lt as A,sd as C,Je as E,id as M,ad as T,td as W,at as a};
