import{_ as p,aJ as f,d as o,T as I,ay as k,r as h,o as l,c as u,p as g,a,k as v,t as n,b as d,w as m,v as y,n as b}from"./index.3434c1c6.js";import{D as c,_ as T}from"./tag-data.881ff6aa.js";const S={name:"AddTag",inject:["common"],components:{Sidebar:f},data(){return{adminCategoryList:[],subCategoryList:[],currentCategoryId:null,tag_name_en:"",tag_name_ko:"",currentSubCategoryId:null,error:{tag_name_en:"",tag_name_ko:"",currentCategoryId:"",currentSubCategoryId:""},specialChars:/[`!@#$%^&*()_+\-=\[\]{};':"\\|.,<>\/?~]/}},watch:{"common.state.SelectedLang":function(e,r){e&&e!=r&&this.getAdminDictionaryCategoryList()}},mounted(){this.getAdminDictionaryCategoryList()},methods:{empty(e){this.error[e]=o(()=>"")},getAdminDictionaryCategoryList(){c.getAdminDictionaryCategoryList().then(e=>{e.status==200&&(this.adminCategoryList=e.data.results)}).catch(e=>{})},getSubCat(e){this.currentSubCategoryId=e,this.error.currentSubCategoryId=o(()=>"")},getCurrentcategoryId(e){this.currentCategoryId=e,this.currentSubCategoryId=null,this.error.currentCategoryId=o(()=>""),this.subCategoryList=[],this.currentCategoryId&&this.getSubCategoryList()},getSubCategoryList(){c.getSubCategoryList(this.currentCategoryId).then(e=>{e.status==200&&(this.subCategoryList=e.data.results)}).catch(e=>{})},addTag(){if(this.currentCategoryId||(this.error.currentCategoryId=o(()=>this.$t("Error.fieldRequired"))),this.currentSubCategoryId?this.error.currentSubCategoryId=o(()=>""):this.error.currentSubCategoryId=o(()=>this.$t("Error.fieldRequired")),this.tag_name_en==""?this.error.tag_name_en=o(()=>this.$t("Error.fieldRequired")):/[0-9]+/.test(this.tag_name_en)?this.error.tag_name_en=o(()=>this.$t("Error.numberNotAll")):this.specialChars.test(this.tag_name_en)&&(this.error.tag_name_en=o(()=>this.$t("Error.specialCharacter"))),this.tag_name_ko==""?this.error.tag_name_ko=o(()=>this.$t("Error.fieldRequired")):/[0-9]+/.test(this.tag_name_ko)?this.error.tag_name_ko=o(()=>this.$t("Error.numberNotAll")):this.specialChars.test(this.tag_name_ko)&&(this.error.tag_name_ko=o(()=>this.$t("Error.specialCharacter"))),Object.values(this.error).filter(r=>r.length>0).length!=0)return window.scroll({top:0,left:0,behavior:"smooth"}),!1;let e={parent_id:this.currentCategoryId,sub_category_id:this.currentSubCategoryId,tag_name_en:this.tag_name_en,tag_name_ko:this.tag_name_ko};c.addTag(e).then(r=>{r.status==200?(this.$router.push({name:"TagData"}),I.fire({title:this.$t("Error.success")})):r.response.status==400?this.error.tag_name_en=o(()=>r.response.data.error):this.error.tag_name_en=o(()=>"")}).catch(r=>{})},backToPreviousScreen(){this.$router.push({name:"TagData"})},isChar:k}},L={class:"admin-otr"},D={class:"admin-right"},E={class:"heading"},w=a("span",null,[a("img",{src:T,alt:""})],-1),A={class:"cm-bck"},V={class:"frm-innr"},N={class:"form-group"},q={key:0,class:"error-txt"},K={class:"form-group"},R={key:0,class:"error-txt"},j={class:"form-group"},B=["placeholder"],P={key:0,class:"error-txt"},U={class:"form-group"},x=["placeholder"],z={key:0,class:"error-txt"},J={class:"btn-group justify-btwn"},M=["value"];function O(e,r,F,G,t,i){const C=h("Sidebar"),_=h("SearchDropdown");return l(),u("div",L,[g(C),a("div",D,[a("h2",E,[w,v(n(e.$t("dictionary.tagTitle")),1)]),a("div",A,[a("h3",null,n(e.$t("dictionary.addTag.title")),1),a("div",V,[a("div",N,[a("label",null,n(e.$t("dictionary.addTag.mainCategory")),1),g(_,{onDropdownValue:i.getCurrentcategoryId,search_type:t.currentCategoryId,searchTitleListItem:t.adminCategoryList,searchtitle:"category_name",searchvalue:"category_id",labelItem:e.$t("dictionary.select"),isError:!!t.error.currentCategoryId},null,8,["onDropdownValue","search_type","searchTitleListItem","labelItem","isError"]),t.error.currentCategoryId?(l(),u("span",q,n(t.error.currentCategoryId),1)):d("v-if",!0)]),a("div",K,[a("label",null,n(e.$t("dictionary.addTag.subCategory")),1),g(_,{onDropdownValue:i.getSubCat,search_type:t.currentSubCategoryId,searchTitleListItem:t.subCategoryList,searchtitle:"category_name",searchvalue:"sub_category_id",labelItem:e.$t("dictionary.select"),isError:!!t.error.currentSubCategoryId},null,8,["onDropdownValue","search_type","searchTitleListItem","labelItem","isError"]),t.error.currentSubCategoryId?(l(),u("span",R,n(t.error.currentSubCategoryId),1)):d("v-if",!0)]),a("div",j,[a("label",null,n(e.$t("dictionary.addTag.englishTag")),1),m(a("input",{type:"text",placeholder:e.$t("Error.enterTag"),class:b(["form-control",t.error.tag_name_en?"error-border":""]),"onUpdate:modelValue":r[0]||(r[0]=s=>t.tag_name_en=s),onKeypress:r[1]||(r[1]=s=>i.isChar(s)),maxlength:"150",onKeyup:r[2]||(r[2]=s=>i.empty("tag_name_en"))},null,42,B),[[y,t.tag_name_en]]),t.error.tag_name_en?(l(),u("span",P,n(t.error.tag_name_en),1)):d("v-if",!0)]),a("div",U,[a("label",null,n(e.$t("dictionary.addTag.koreanTag")),1),m(a("input",{type:"text",placeholder:e.$t("Error.enterTag"),class:b(["form-control",t.error.tag_name_ko?"error-border":""]),"onUpdate:modelValue":r[3]||(r[3]=s=>t.tag_name_ko=s),onKeypress:r[4]||(r[4]=s=>i.isChar(s)),maxlength:"150",onKeyup:r[5]||(r[5]=s=>i.empty("tag_name_ko"))},null,42,x),[[y,t.tag_name_ko]]),t.error.tag_name_ko?(l(),u("span",z,n(t.error.tag_name_ko),1)):d("v-if",!0)])]),a("div",J,[a("input",{type:"submit",class:"btn org-btn",value:e.$t("button.save"),onClick:r[6]||(r[6]=(...s)=>i.addTag&&i.addTag(...s))},null,8,M),a("button",{type:"button",class:"btn outline blk-btn",onClick:r[7]||(r[7]=(...s)=>i.backToPreviousScreen&&i.backToPreviousScreen(...s))},n(e.$t("button.back")),1)])])])])}const W=p(S,[["render",O],["__file","D:/workspace/11-db-frontend/11_db/src/admin/views/Dictionary/AddTag.vue"]]);export{W as default};
