import{_ as Nt,L as Gt}from"./modal-img-cross.dc10eb7b.js";import{C as yt}from"./Calender.32f04616.js";import{S as Vt}from"./SearchVideo.f596b570.js";import{A as Kt}from"./AddNewMovieService.a6b28c14.js";import{W as Ut,A as wt,a as Et,M as xt,C as zt,T as Zt,E as Xt}from"./TagsDetails.15f1d8ce.js";import{i as St,_ as ht,P as gt,ay as Lt,az as It,aD as Xe,aA as vt,aB as Ot,aC as Ye,aH as Tt,aE as _t,N as mt,O as pt,E as i,L as Yt,K as Je,G as Ct,r as de,o as m,c as k,a,t as l,X as ie,b as A,w as q,v as Y,n as I,k as Ce,p as V,F as Ue,s as Ge,q as ue,aG as X,T as je,aI as $t,as as Be,x as Mt,B as ea,ab as Wt,ac as Pt,l as le,D as pe,m as Ze,M as Ft,ah as ta,d as ct,C as aa}from"./index.d6ed331f.js";import{_ as Rt}from"./close.0afef835.js";import{M as sa}from"./Modal.983ede5b.js";import{_ as ia}from"./camera.e2780d91.js";import"./checkbox-checked.c6ca7d68.js";const{t:re}=St.global,la={name:"PrimaryDetails",components:{Calender:yt,SearchVideo:Vt,WatchStream:Ut,PopUpModal:gt},mixins:[Lt,It,Xe,vt,Ot,Ye,Tt,_t],data(){return{toggle:!1,hover:!1,hover2:!1}},props:{site_language:{type:String}},emits:["selectedId","isEditOn"],setup(t,{emit:s}){const o=mt(),e=pt(),f=i("tv"),b=i([]),v=i(""),y=i([]),B=i(null),h=o.params.id,n=i(o.params.type=="tmdb"?o.params.external_id:""),r=i(""),E=i(""),J=i(""),W=i(""),P=i(""),$=i(""),ee=i(""),ce=i(""),oe=i(""),he=i(""),c=i(""),Ae=i(""),fe=i(0),Me=i([]),O=i([]),T=i([]),K=i([]),Z=i([]),ve=i([]),w=i({}),ge=new Kt,Le=new wt,j=i(h),De=i(""),te=i(""),Ie=i(""),_e=i(""),ye=i(""),We=i(null),Oe=i(""),Pe=i(""),Fe=i(""),Qe=i(!1),Ne=i(""),Ve=i([]),ke=i([]),at=i([]),st=i([]),it=i([]),xe=i([]),_=i("YYYY.MM.DD"),p=i(!1),C=new Et,U=i(!1),G=i(o.params.type=="internal"?o.params.external_id:"");Yt("common");const z=i(!1),we=i(null),Ee=i([]),Re=i([]),Te=i([]),L=i("");Je(()=>t.site_language,function(d,g){var M,S,x,D,qe;if(d&&d!=g){const H=JSON.parse(localStorage.getItem("draft_ids")||"[]");H[0]?j.value=((M=H[0])==null?void 0:M.primaryDetails[f.value])&&((x=(S=H[0])==null?void 0:S.primaryDetails[f.value][t.site_language])==null?void 0:x.draft_request_id)?(qe=(D=H[0])==null?void 0:D.primaryDetails[f.value][t.site_language])==null?void 0:qe.draft_request_id:"":j.value=j.value,J.value="",P.value="",W.value="",r.value="",E.value="",console.log("draft_request_id",j.value),setTimeout(()=>{be(),At(),F(),R(),ut()},500)}}),Ct(()=>{var g,M,S,x,D;o.params.type=="internal"&&(z.value=!0);const d=JSON.parse(localStorage.getItem("draft_ids")||"[]");d[0]?j.value=((g=d[0])==null?void 0:g.primaryDetails[f.value])&&((S=(M=d[0])==null?void 0:M.primaryDetails[f.value][t.site_language])==null?void 0:S.draft_request_id)?(D=(x=d[0])==null?void 0:x.primaryDetails[f.value][t.site_language])==null?void 0:D.draft_request_id:"":j.value=j.value,be(),At(),F(),R(),ut()});const be=()=>{Ee.value=[],ge.getStatusList(f.value).then(d=>{d.status==200&&(b.value=d.data.status_list,Object.entries(b.value).forEach(([g,M])=>{Ee.value.push({searchvalue:`${g}`,searchtitle:`${M}`})}))}).catch(d=>{})},$e=d=>{v.value=d,w.value.title_status=i("")},Dt=()=>{z.value=!1,s("isEditOn",!1)},kt=()=>{J.value==""&&(w.value.title_name=X(()=>re("Error.requiredInput"))),v.value==""&&(w.value.title_status=X(()=>re("Error.requiredInput"))),E.value&&(/[`!@#$%^&*()_+\-=\[\]{};':"\\|.<>\/?~]/.test(E.value)?w.value.imdb_id=X(()=>re("Error.specialCharacter")):w.value.imdb_id=i("")),r.value&&(/[`!@#$%^&*()_+\-=\[\]{};':"\\|.<>\/?~]/.test(r.value)?w.value.tiving_id=X(()=>re("Error.specialCharacter")):w.value.tiving_id=i("")),n.value&&(isNaN(n.value)?w.value.tmdb_id=X(()=>re("Error.onlyNumber")):w.value.tmdb_id=i("")),L.value&&(/[`!@#$%^&*()_+\-=\[\]{};':"\\|.<>\/?~]/.test(L.value)?w.value.odk_id=X(()=>re("Error.specialCharacter")):w.value.odk_id=i("")),c.value&&(/^[0-9]+\.?[0-9]*$/.test(c.value)?w.value.rating=i(""):w.value.rating=X(()=>re("Error.onlyNumber"))),c.value!=""&&(c.value<.1||c.value>100)&&(w.value.rating=X(()=>re("Error.rating"))),he.value&&(isNaN(he.value)?w.value.runtime=X(()=>re("Error.onlyNumber")):w.value.runtime=i("")),Ae.value&&(/[`!@#$%^&*()_+\-=\[\]{};':"\\|.<>\/?~]/.test(Ae.value)?w.value.language=X(()=>re("Error.specialCharacter")):/[0-9]+/.test(Ae.value)?w.value.language=X(()=>re("Error.numberNotAll")):w.value.language=i("")),ye.value&&We.value!=null&&_e.value||!ye.value&&We.value==null&&!_e.value?w.value.fisrtOriginalWorkType=i(""):w.value.fisrtOriginalWorkType=X(()=>re("Error.allRequiredFields")),ye.value?/[0-9]+/.test(ye.value)?w.value.fisrtOriginalWorkTitle=X(()=>re("Error.numberNotAll")):w.value.fisrtOriginalWorkTitle=i(""):w.value.fisrtOriginalWorkTitle=i(""),_e.value?/[0-9]+/.test(_e.value)?w.value.fisrtOriginalWorkArtist=X(()=>re("Error.numberNotAll")):w.value.fisrtOriginalWorkArtist=i(""):w.value.fisrtOriginalWorkArtist=i(""),w.value.originalWorkType=i([]),T.value.forEach((S,x)=>{x!=0&&(S.title&&S.type!="Choose"&&S.original_artist||!S.title&&S.type=="Choose"&&!S.original_artist?delete w.value.originalWorkType[x]:w.value.originalWorkType[x]=X(()=>re("Error.allRequiredFields")))});let d=/\d/;w.value.originalWorkTitle=[],w.value.originalArtist=[];let g=T.value.find((S,x)=>d.test(S.title)&&x!=0);if(g){let S=T.value.findIndex(x=>x.title===g.title);/[0-9]+/.test(g.title)?w.value.originalWorkTitle[S]=X(()=>re("Error.numberNotAll")):w.value.originalWorkTitle[S]=i("")}let M=T.value.find((S,x)=>d.test(S.original_artist)&&x!=0);if(M){let S=T.value.findIndex(x=>x.original_artist===M.original_artist);/[0-9]+/.test(M.original_artist)?w.value.originalArtist[S]=X(()=>re("Error.numberNotAll")):w.value.originalArtist[S]=i("")}if(Object.values(w.value).filter(S=>S.length>0).length!=0)return window.scroll({top:0,left:0,behavior:"smooth"}),!1;Qe.value=!0},At=()=>{Re.value=[],ge.getCertificationList(f.value).then(d=>{d.status==200&&(y.value=d.data.certification_list,Object.entries(y.value).forEach(([g,M])=>{Re.value.push({searchvalue:`${g}`,searchtitle:`${M}`})}))}).catch(d=>{})},u=d=>{B.value=d},F=()=>{ge.getOriginalWorkList().then(d=>{d.status==200&&(Me.value=d.data.original_work_type_list)}).catch(d=>{})},R=()=>{ge.getCountryList().then(d=>{d.status==200&&(Z.value=d.data.results)}).catch(d=>{})},ae=d=>{we.value=d;let g=ve.value.find(S=>S.id==d||S.country_id==d),M=Z.value.find(S=>S.id==d);!g&&M&&ve.value.push({id:d,country_name:M.country_name}),K.value.indexOf(d)===-1&&d!=null&&(o.params.type=="internal"?K.value.push({country_id:d,id:""}):K.value.push(d))},ne=(d,g)=>{if(ve.value.find(S=>S.id==d.id||S.country_id==g)){if(ve.value.splice(ve.value.indexOf(d),1),o.params.type=="internal"){let S=K.value.find(x=>x.country_id==d.country_id);K.value.splice(K.value.indexOf(S),1)}else K.value.splice(K.value.indexOf(d.id),1);ve.value.length==0&&(we.value="")}},Se=()=>{fe.value=W.value.length},Q=d=>{ee.value=d},N=d=>{ce.value=d},lt=()=>{let d;O.value.length>0?d=O.value.length+1:d=1,Te.value[d-1]=null,O.value.push({type:"",title:"",original_artist:"",id:d})},ot=(d,g,M)=>{typeof d!="string"&&(d=d.target.value),T.value.length>0?(T.value[M]||(o.params.type=="internal"?T.value[M]={type:"",title:"",original_artist:"",id:""}:T.value[M]={type:"",title:"",original_artist:""}),T.value[M][g]=d):(o.params.type=="internal"?T.value[M]={type:"",title:"",original_artist:"",id:""}:T.value[M]={type:"",title:"",original_artist:""},T.value[M][g]=d);let S=O.value.find(x=>x.id==M);S&&(S[g]=d)},nt=d=>{O.value.splice(d,1),Te.value.splice(d,1),T.value.splice(d+1,1)},rt=d=>{ke.value=d},se=()=>{ge.getConnectionList(Ne.value,f.value).then(d=>{d.status==200&&(Ve.value=d.data.results)}).catch(d=>{})},me=d=>{Ne.value=d,Ne.value==""?Ve.value=[]:se()},dt=()=>{var S,x;const d=JSON.parse(localStorage.getItem("draft_ids")||"[]");p.value=!0;let g={name:J.value,relation_id:Pe.value||((x=(S=d[0])==null?void 0:S.primaryDetails[f.value])==null?void 0:x.draft_relation_id),site_language:t.site_language,title_status:v.value,tmdb_id:n.value,imdb_id:E.value,tiving_id:r.value,summary:W.value,official_site:P.value,search_keyword:$.value,release_date:ee.value,release_date_to:ce.value,runtime:he.value,certification:B.value,language:Ae.value,rating:c.value,country:K.value,original_work:T.value,connections:ke.value,odk_id:L.value};o.params.type=="internal"&&(g.title_id=G.value),w.value.title_name="";let M;o.params.type=="internal"?M=C.editTVPrimaryDetails(g):M=Le.addPrimaryDetails(g),M.then(D=>{var qe,H,et,Bt;if(D.status==200){if(p.value=!1,je.fire({title:re("Error.success")}),D.data.data&&D.data.data.length==1&&e.push("/add-tv-details/"+o.params.external_id+"/"+o.params.type+"/"+D.data.data[0].draft_request_id),D.data.data&&D.data.data.length==2&&(t.site_language==D.data.data[0].draft_site_language&&e.push("/add-tv-details/"+o.params.external_id+"/"+o.params.type+"/"+D.data.data[0].draft_request_id),t.site_language==D.data.data[1].draft_site_language&&e.push("/add-tv-details/"+o.params.external_id+"/"+o.params.type+"/"+D.data.data[1].draft_request_id)),D.data.data&&D.data.data.length==1)if(d[0])d[0].primaryDetails[f.value][t.site_language]||(d[0].primaryDetails[f.value][t.site_language]=D.data.data[0]);else{const He={primaryDetails:{[f.value]:{[t.site_language]:D.data.data[0],draft_relation_id:D.data.data[0].draft_relation_id}}};d.push(He)}if(D.data.data&&D.data.data.length==2){if(d[0])d[0].primaryDetails[f.value][D.data.data[0].draft_site_language]||(d[0].primaryDetails[f.value][D.data.data[0].draft_site_language]=D.data.data[0]);else{const He={primaryDetails:{[f.value]:{[D.data.data[0].draft_site_language]:D.data.data[0],draft_relation_id:D.data.data[0].draft_relation_id}}};d.push(He)}if(d[0])d[0].primaryDetails[f.value][D.data.data[1].draft_site_language]||(d[0].primaryDetails[f.value][D.data.data[1].draft_site_language]=D.data.data[1]);else{const He={primaryDetails:{[f.value]:{[D.data.data[1].draft_site_language]:D.data.data[1],draft_relation_id:D.data.data[1].draft_relation_id}}};d.push(He)}d[0].primaryDetails[f.value]&&!d[0].primaryDetails[f.value].draft_relation_id&&(d[0].primaryDetails[f.value].draft_relation_id=D.data.data[0].draft_relation_id)}o.params.type=="internal"&&(z.value=!0,s("isEditOn",!0)),localStorage.setItem("draft_ids",JSON.stringify(d)),K.value=[],T.value=[],O.value=[],ke.value=[],at.value=[],st.value=[],it.value=[],ut(),w.value.title_name="",w.value.title_status="",Qe.value=!1}else D.response.data.statusCode==400?((Bt=(et=(H=(qe=D==null?void 0:D.response)==null?void 0:qe.data)==null?void 0:H.validation)==null?void 0:et.body)==null?void 0:Bt.keys)=="tmdb_id"&&(je.fire({title:re("Error.tmdbValid")}),isOkClicked.value=!1,Qe.value=!1):(p.value=!1,je.fire({title:D.response.data.error}))}).catch(D=>{})},ut=()=>{K.value=[],T.value=[],O.value=[],ke.value=[];let d;o.params.type=="internal"?d=C.getEditTVPrimaryDetails(G.value,j.value,t.site_language,n.value):d=Le.getPrimaryDetails(j.value,t.site_language,n.value),(n.value||j.value||G.value)&&d.then(g=>{var M,S,x,D,qe;g.status==200&&(s("selectedId",{request_id:g.data.request_id,season_id:g.data.season_request_id,credit_request_id:g.data.credit_request_id,media_request_id:g.data.media_request_id,tag_request_id:g.data.tag_request_id,episode_request_id:g.data.episode_request_id}),E.value=g.data.imdb_id||E.value,ee.value=g.data.release_date,ce.value=g.data.release_date_to,De.value=g.data.tmdb_title,te.value=g.data.tmdb_summery,Fe.value=g.data.tmdb_official_site,v.value=g.data.title_status?g.data.title_status:null,Pe.value=g.data.relation_id,J.value=(M=g.data)==null?void 0:M.title,n.value=g.data.tmdb_id||n.value,r.value=g.data.tiving_id||r.value,L.value=g.data.odk_id,W.value=g.data.summery.substring(0,230),fe.value=W.value.length,P.value=g.data.official_site,he.value=g.data.runtime,Ae.value=g.data.language,B.value=g.data.certification?g.data.certification:null,Oe.value=g.data.status,$.value=g.data.search_keyword_details.join(),ve.value=g.data.countrylist,Array.from(g.data.countrylist).forEach(H=>{o.params.type=="internal"?K.value.push({country_id:H.country_id,id:H.id}):K.value.push(H.id)}),_e.value=(S=g.data.getoriginalWork_list[0])==null?void 0:S.artis,We.value=(x=g.data.getoriginalWork_list[0])!=null&&x.type?(D=g.data.getoriginalWork_list[0])==null?void 0:D.type:null,ye.value=(qe=g.data.getoriginalWork_list[0])==null?void 0:qe.title,Array.from(g.data.getoriginalWork_list).slice(1).forEach((H,et)=>{O.value.push({type:H.type,title:H.title,original_artist:H.artis,id:et+1})}),Te.value=[],Array.from(g.data.getoriginalWork_list).slice(1).forEach((H,et)=>{Te.value.push(H.type)}),Array.from(g.data.getoriginalWork_list).forEach(H=>{o.params.type=="internal"?T.value.push({type:H.type,title:H.title,original_artist:H.artis,id:H.id}):T.value.push({type:H.type,title:H.title,original_artist:H.artis})}),xe.value=g.data.getconnection_list,Array.from(xe.value).forEach(H=>{o.params.type=="internal"?ke.value.push({related_title_id:H.title_id,id:H.id}):ke.value.push(H.title_id)}),c.value=g.data.rating)}).catch(g=>{})};return{statusList:b,certificationList:y,title_status:v,certification:B,savePrimaryDetails:dt,tmdb_id:n,tiving_id:r,imdb_id:E,title_name:J,summary:W,official_site:P,search_keyword:$,release_date:ee,release_date_to:ce,getRealeaseDate:Q,getRealeaseDateTo:N,footfalls:oe,runtime:he,language:Ae,remainingCount:fe,countdown:Se,routeId:h,originalWorkList:Me,addOriginalWork:lt,multipleAddOriginalList:O,removeOriginalWork:nt,getOriginalWorkInput:ot,countryList:Z,chooseCountry:ae,countryBelowList:ve,removeCountry:ne,error:w,tmdb_title:De,draft_request_id:j,tmdb_summery:te,firstInputRerelease:Ie,fisrtOriginalWorkArtist:_e,fisrtOriginalWorkType:We,fisrtOriginalWorkTitle:ye,draft_status:Oe,rating:c,isSubmit:Qe,isSaveBtn:kt,tmdb_official_site:Fe,checkURL:()=>{if(P.value=="")return w.value.official_site=i(""),!0;if(Ot(P.value))w.value.official_site=i("");else return w.value.official_site=X(()=>re("Error.validUrl")),!1},isChar:Lt,isNumChar:It,isIntegerNumber:Xe,isCharWithComma:vt,isCharWithSpeailChar:Ye,isNumberDecimal:Tt,getPrimaryDetails:ut,getConnectionSearch:me,connectionSearchList:Ve,getConnectionInput:rt,connectionBelowList:xe,connection:ke,datePlaceholder:_,isOnceClickSaveBtn:p,istmDBIdClick:U,route:o,ref:i,isEdit:z,isCharWithCommaNumber:_t,isEditBtn:Dt,country_id:we,statusListItem:Ee,getDropdownStatus:$e,getCertification:u,certificationListItem:Re,originalWorkData:Te,odk_id:L}}},oa={class:"primary-details-from"},na={class:"page-heading-area page-main-heading"},ra={class:"login-wrap"},da={class:"box"},ua={class:"divRows"},ca={class:"heads-area"},va=a("img",{src:Nt,alt:"question"},null,-1),_a=[va],ha={class:"div3colmns"},ga={class:"form-group"},ma=["disabled"],pa={key:0,class:"error-txt"},Aa={class:"form-group"},fa=["disabled"],ba={key:0,class:"error-txt"},ya={class:"form-group"},wa=["disabled"],Ea={key:0,class:"error-txt"},Sa={class:"form-group"},Ca=["disabled"],Da=a("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("path",{d:"M1 1V6H1.58152M16.9381 8C16.446 4.05369 13.0796 1 9 1C5.64262 1 2.76829 3.06817 1.58152 6M1.58152 6H6M17 17V12H16.4185M16.4185 12C15.2317 14.9318 12.3574 17 9 17C4.92038 17 1.55399 13.9463 1.06189 10M16.4185 12H12",stroke:"white"})],-1),ka=[Da],Ba={key:0,class:"error-txt"},La={class:"divRows"},Ia=a("span",null,"*",-1),Oa={class:"div1colmns"},Ta={class:"form-group"},Fa=["placeholder","disabled"],Qa={key:0,class:"error-txt"},Na={class:"text-hint"},Va={key:0},Ka={class:"divRows"},Ua={class:"div1colmns"},Ma={class:"form-group"},Wa=["placeholder","disabled"],Pa={key:0,class:"error-txt"},Ra={class:"numbers"},qa={class:"text-hint"},Ha={key:0},Ja={class:"divRows"},ja={class:"div1colmns"},Ga={class:"form-group"},xa=["disabled"],za={key:0,class:"error-txt"},Za={class:"text-hint"},Xa={key:0},Ya={class:"divRows"},$a={class:"div1colmns"},es={class:"form-group"},ts=["placeholder","disabled"],as=a("div",{class:"divider"},null,-1),ss={class:"divRows"},is=a("span",null,"*",-1),ls={class:"div1colmns"},os={class:"form-group"},ns={key:0,class:"error-txt"},rs={class:"divRows"},ds={class:"div1colmns two-calender"},us=a("span",null,"-",-1),cs={class:"divRows"},vs={class:"div1colmns"},_s={class:"form-group"},hs=["placeholder","disabled"],gs={key:0,class:"error-txt"},ms={class:"divRows"},ps={class:"div1colmns"},As={class:"form-group"},fs=["placeholder","disabled"],bs={class:"runtime-min"},ys={key:0,class:"error-txt"},ws={class:"divRows"},Es={class:"div1colmns"},Ss={class:"form-group"},Cs={class:"divRows"},Ds={class:"div1colmns"},ks={class:"form-group"},Bs=["placeholder","disabled"],Ls={key:0,class:"error-txt"},Is={class:"divRows"},Os={class:"div1colmns nomar"},Ts={class:"form-group"},Fs={key:0,class:"country-list"},Qs=["onClick"],Ns=a("img",{src:Rt},null,-1),Vs=[Ns],Ks={class:"divRows"},Us={class:"div4colmns"},Ms={class:"form-group"},Ws={key:0,class:"error-txt"},Ps={class:"form-group"},Rs=["placeholder","disabled"],qs={key:0,class:"error-txt"},Hs={class:"form-group"},Js=["placeholder","disabled"],js={key:0,class:"error-txt"},Gs=["disabled"],xs={class:"form-group"},zs={key:0,class:"error-txt originaltitle"},Zs={class:"form-group"},Xs=["value","placeholder","onChange","disabled"],Ys={key:0,class:"error-txt originaltitle"},$s={class:"form-group"},ei=["value","onChange","placeholder","disabled"],ti={key:0,class:"error-txt originalartist"},ai=["onClick","disabled"],si=a("div",{class:"divider"},null,-1),ii={class:"divRows"},li={class:"div1colmns nogap"},oi={class:"divRows"},ni={class:"new-cast-modal center-popup-modal"},ri=["innerHTML"],di={class:"button-group"},ui=["disabled"];function ci(t,s,o,e,f,b){const v=de("SearchDropdown"),y=de("Calender"),B=de("SearchVideo"),h=de("PopUpModal");return m(),k("div",null,[a("div",oa,[a("div",na,[a("h2",null,l(t.$t("addNewPeople.primaryDetails.header")),1)]),a("div",ra,[a("div",da,[a("form",{onSubmit:s[35]||(s[35]=ie(()=>{},["prevent"]))},[a("div",ua,[a("div",ca,[a("h3",null,l(t.$t("addNewMoviesForm.extenalData")),1),a("span",{onMouseover:s[0]||(s[0]=n=>f.hover=!0),onMouseleave:s[1]||(s[1]=n=>f.hover=!1)},_a,32),A(' <div class="hoverTxt" v-if="hover">hello</div> ')]),a("div",ha,[a("div",ga,[a("label",null,l(t.$t("addNewMoviesForm.IMDBID")),1),q(a("input",{type:"text","onUpdate:modelValue":s[2]||(s[2]=n=>e.imdb_id=n),class:I(["form-control",e.error.imdb_id?"error-border":""]),placeholder:"",maxlength:"255",onKeypress:s[3]||(s[3]=n=>e.isNumChar(n)),disabled:e.isEdit},null,42,ma),[[Y,e.imdb_id]]),e.error.imdb_id?(m(),k("span",pa,l(e.error.imdb_id),1)):A("v-if",!0)]),a("div",Aa,[a("label",null,l(t.$t("addNewMoviesForm.TIVINGID")),1),q(a("input",{type:"text","onUpdate:modelValue":s[4]||(s[4]=n=>e.tiving_id=n),class:I(["form-control",e.error.tiving_id?"error-border":""]),placeholder:"",maxlength:"255",onKeypress:s[5]||(s[5]=n=>e.isNumChar(n)),disabled:e.isEdit},null,42,fa),[[Y,e.tiving_id]]),e.error.tiving_id?(m(),k("span",ba,l(e.error.tiving_id),1)):A("v-if",!0)]),a("div",ya,[a("label",null,l(t.$t("addNewMoviesForm.ODKID")),1),q(a("input",{type:"text","onUpdate:modelValue":s[6]||(s[6]=n=>e.odk_id=n),class:I(["form-control",e.error.odk_id?"error-border":""]),placeholder:"",onKeypress:s[7]||(s[7]=n=>e.isNumChar(n)),maxlength:"255",disabled:e.isEdit},null,42,wa),[[Y,e.odk_id]]),e.error.odk_id?(m(),k("span",Ea,l(e.error.odk_id),1)):A("v-if",!0)]),a("div",Sa,[a("label",null,l(t.$t("addNewMoviesForm.TMDBID")),1),q(a("input",{type:"text","onUpdate:modelValue":s[8]||(s[8]=n=>e.tmdb_id=n),class:I(["form-control",e.error.tmdb_id?"error-border":""]),placeholder:"",onKeypress:s[9]||(s[9]=n=>e.isIntegerNumber(n)),disabled:e.isEdit},null,42,Ca),[[Y,e.tmdb_id]]),a("span",{class:I(["refreshBtn",e.isEdit?"pointer-events-none":""]),onClick:s[10]||(s[10]=n=>(e.getPrimaryDetails(),e.istmDBIdClick=!0))},ka,2),e.error.tmdb_id?(m(),k("span",Ba,l(e.error.tmdb_id),1)):A("v-if",!0)])])]),a("div",La,[a("h3",null,[Ce(l(t.$t("addNewMoviesForm.title"))+" ",1),Ia]),a("div",Oa,[a("div",Ta,[q(a("input",{"onUpdate:modelValue":s[11]||(s[11]=n=>e.title_name=n),type:"text",class:I(["form-control",e.error.title_name?"error-border":""]),placeholder:t.$t("primaryDetails.typeTvShowTitle"),onKeyup:s[12]||(s[12]=n=>e.error.title_name=e.ref("")),maxlength:"150",disabled:e.isEdit},null,42,Fa),[[Y,e.title_name]]),e.error.title_name?(m(),k("span",Qa,l(e.error.title_name),1)):A("v-if",!0)]),a("div",Na,[e.route.params.type=="tmdb"||e.istmDBIdClick?(m(),k("p",Va,l(t.$t("primaryDetails.TMDB"))+" : "+l(e.tmdb_title),1)):A("v-if",!0)])])]),a("div",Ka,[a("h3",null,l(t.$t("addNewMoviesForm.summary")),1),a("div",Ua,[a("div",Ma,[q(a("textarea",{onKeyup:s[13]||(s[13]=(...n)=>e.countdown&&e.countdown(...n)),"onUpdate:modelValue":s[14]||(s[14]=n=>e.summary=n),rows:"5",class:I(["form-control",e.error.summary?"error-border":""]),placeholder:t.$t("primaryDetails.typeTvShowSummary"),maxlength:"230",disabled:e.isEdit},null,42,Wa),[[Y,e.summary]]),e.error.summary?(m(),k("span",Pa,l(e.error.summary),1)):A("v-if",!0),a("span",Ra,l(e.remainingCount)+"/230",1)]),a("div",qa,[e.route.params.type=="tmdb"||e.istmDBIdClick?(m(),k("p",Ha,l(t.$t("primaryDetails.TMDB"))+" : "+l(e.tmdb_summery),1)):A("v-if",!0)])])]),a("div",Ja,[a("h3",null,l(t.$t("addNewMoviesForm.officialSite")),1),a("div",ja,[a("div",Ga,[q(a("input",{type:"text","onUpdate:modelValue":s[15]||(s[15]=n=>e.official_site=n),class:I(["form-control",e.error.official_site?"error-border":""]),placeholder:"http//",onKeyup:s[16]||(s[16]=(...n)=>e.checkURL&&e.checkURL(...n)),disabled:e.isEdit},null,42,xa),[[Y,e.official_site]]),e.error.official_site?(m(),k("span",za,l(e.error.official_site),1)):A("v-if",!0)]),a("div",Za,[e.route.params.type=="tmdb"||e.istmDBIdClick?(m(),k("p",Xa,l(t.$t("primaryDetails.TMDB"))+" : "+l(e.tmdb_official_site),1)):A("v-if",!0)])])]),a("div",Ya,[a("h3",null,l(t.$t("addNewMoviesForm.searchKeyword")),1),a("div",$a,[a("div",es,[q(a("input",{"onUpdate:modelValue":s[17]||(s[17]=n=>e.search_keyword=n),type:"text",class:"form-control",placeholder:t.$t("addNewMoviesForm.enterKeywordAndSeparateWithComma"),maxlength:"100",disabled:e.isEdit},null,8,ts),[[Y,e.search_keyword]])])])]),as,a("div",ss,[a("h3",null,[Ce(l(t.$t("addNewMoviesForm.status"))+" ",1),is]),a("div",ls,[a("div",os,[A(` <select\r
                    class="form-control"\r
                    v-model="title_status"\r
                    @change="error.title_status = ref('')"\r
                    :class="error.title_status ? 'error-border' : ''"\r
                  >\r
                    <option value="" disabled>\r
                      {{ $t("addNewMoviesForm.selectStatus") }}\r
                    </option>\r
                    <option\r
                      v-for="(value, name, index) in statusList"\r
                      :key="index"\r
                      :value="name"\r
                      :disabled="isEdit"\r
                    >\r
                      {{ value }}\r
                    </option>\r
                  </select> `),V(v,{onDropdownValue:e.getDropdownStatus,search_type:e.title_status,searchTitleListItem:e.statusListItem,searchtitle:"searchtitle",searchvalue:"searchvalue",disabled:e.isEdit,isError:!!e.error.title_status,labelItem:t.$t("addNewMoviesForm.selectStatus")},null,8,["onDropdownValue","search_type","searchTitleListItem","disabled","isError","labelItem"]),e.error.title_status?(m(),k("span",ns,l(e.error.title_status),1)):A("v-if",!0)])])]),a("div",rs,[a("h3",null,l(t.$t("addNewMoviesForm.releaseDate")),1),a("div",ds,[V(y,{onDate:e.getRealeaseDate,input_date:e.release_date,datePlaceholder:e.datePlaceholder,disabled:e.isEdit},null,8,["onDate","input_date","datePlaceholder","disabled"]),us,V(y,{onDate:e.getRealeaseDateTo,input_date:e.release_date_to,disabled:!!(!e.release_date||e.isEdit),min_date:e.release_date?new Date(new Date(e.release_date).getTime()+864e5):"",datePlaceholder:e.datePlaceholder},null,8,["onDate","input_date","disabled","min_date","datePlaceholder"])])]),a("div",cs,[a("h3",null,l(t.$t("primaryDetails.rating")),1),a("div",vs,[a("div",_s,[q(a("input",{"onUpdate:modelValue":s[18]||(s[18]=n=>e.rating=n),type:"text",class:I(["form-control",e.error.rating?"error-border":""]),placeholder:t.$t("primaryDetails.typeRating"),onKeypress:s[19]||(s[19]=n=>e.isNumberDecimal(n)),maxlength:"3",disabled:e.isEdit},null,42,hs),[[Y,e.rating]]),e.error.rating?(m(),k("span",gs,l(e.error.rating),1)):A("v-if",!0)])])]),a("div",ms,[a("h3",null,l(t.$t("addNewMoviesForm.runtime")),1),a("div",ps,[a("div",As,[q(a("input",{"onUpdate:modelValue":s[20]||(s[20]=n=>e.runtime=n),type:"text",class:I(["form-control",e.error.runtime?"error-border":""]),placeholder:t.$t("addNewMoviesForm.typeRuntime"),onKeypress:s[21]||(s[21]=n=>e.isIntegerNumber(n)),maxlength:"4",disabled:e.isEdit},null,42,fs),[[Y,e.runtime]]),a("span",bs,l(t.$t("addNewMoviesForm.min")),1),e.error.runtime?(m(),k("span",ys,l(e.error.runtime),1)):A("v-if",!0)])])]),a("div",ws,[a("h3",null,l(t.$t("addNewMoviesForm.certification")),1),a("div",Es,[a("div",Ss,[A(` <select class="form-control" v-model="certification">\r
                    <option value="" disabled>\r
                      {{ $t("addNewMoviesForm.chooseCertification") }}\r
                    </option>\r
                    <option\r
                      v-for="(value, name, index) in certificationList"\r
                      :key="index"\r
                      :value="name"\r
                      :disabled="isEdit"\r
                    >\r
                      {{ value }}\r
                    </option>\r
                  </select> `),V(v,{onDropdownValue:e.getCertification,search_type:e.certification,searchTitleListItem:e.certificationListItem,searchtitle:"searchtitle",searchvalue:"searchvalue",disabled:e.isEdit,labelItem:t.$t("addNewMoviesForm.chooseCertification")},null,8,["onDropdownValue","search_type","searchTitleListItem","disabled","labelItem"])])])]),a("div",Cs,[a("h3",null,l(t.$t("addNewMoviesForm.language")),1),a("div",Ds,[a("div",ks,[q(a("input",{"onUpdate:modelValue":s[22]||(s[22]=n=>e.language=n),type:"text",class:I(["form-control",e.error.language?"error-border":""]),placeholder:t.$t("addNewMoviesForm.typeLanguage"),onKeypress:s[23]||(s[23]=n=>e.isCharWithComma(n)),maxlength:"100",disabled:e.isEdit},null,42,Bs),[[Y,e.language]]),e.error.language?(m(),k("span",Ls,l(e.error.language),1)):A("v-if",!0)])])]),a("div",Is,[a("h3",null,l(t.$t("addNewMoviesForm.country")),1),a("div",Os,[a("div",Ts,[A(` <select class="form-control" @change="chooseCountry">\r
                    <option disabled selected>\r
                      {{ $t("addNewMoviesForm.chooseCountry") }}\r
                    </option>\r
                    <option\r
                      v-for="(country, index) in countryList"\r
                      :key="index"\r
                      :value="country.id"\r
                      :disabled="countryBelowList.length > 5 || isEdit"\r
                    >\r
                      {{ country.country_name }}\r
                    </option>\r
                  </select> `),V(v,{onDropdownValue:e.chooseCountry,search_type:e.country_id,searchTitleListItem:e.countryList,searchtitle:"country_name",searchvalue:"id",disabled:e.countryBelowList.length>5||e.isEdit,labelItem:t.$t("filterCard.selectCountry")},null,8,["onDropdownValue","search_type","searchTitleListItem","disabled","labelItem"])]),e.countryBelowList.length>0?(m(),k("div",Fs,[(m(!0),k(Ue,null,Ge(e.countryBelowList,(n,r)=>(m(),k("div",{class:I(["count-list-tag",e.isEdit?"isDisabled":""]),key:r},[Ce(l(n.country_name)+" ",1),a("span",{class:I(["corss",e.isEdit?"pointer-events-none":""]),onClick:E=>e.removeCountry(n)},Vs,10,Qs)],2))),128))])):A("v-if",!0)])]),a("div",Ks,[a("h3",null,l(t.$t("addNewMoviesForm.originalWork")),1),a("div",Us,[a("div",Ms,[A(` <select\r
                    v-model="fisrtOriginalWorkType"\r
                    class="form-control"\r
                    :class="error.fisrtOriginalWorkType ? 'error-border' : ''"\r
                    @change="getOriginalWorkInput($event, 'type', 0)"\r
                  >\r
                    <option value="Choose" disabled selected>\r
                      {{ $t("addNewMoviesForm.choose") }}\r
                    </option>\r
                    <option\r
                      v-for="(value, name, index) in originalWorkList"\r
                      :key="index"\r
                      :value="value"\r
                      :disabled="isEdit"\r
                    >\r
                      {{ value }}\r
                    </option>\r
                  </select> `),V(v,{onDropdownValue:s[24]||(s[24]=n=>{e.fisrtOriginalWorkType=n,e.getOriginalWorkInput(n,"type",0)}),search_type:e.fisrtOriginalWorkType,searchTitleListItem:Object.keys(e.originalWorkList).map(n=>({key:n,value:e.originalWorkList[n]})),searchtitle:"value",searchvalue:"key",disabled:e.isEdit,isError:!!e.error.fisrtOriginalWorkType,clearable:!1,labelItem:t.$t("addNewMoviesForm.choose")},null,8,["search_type","searchTitleListItem","disabled","isError","labelItem"]),e.error.fisrtOriginalWorkType?(m(),k("span",Ws,l(e.error.fisrtOriginalWorkType),1)):A("v-if",!0)]),a("div",Ps,[q(a("input",{"onUpdate:modelValue":s[25]||(s[25]=n=>e.fisrtOriginalWorkTitle=n),type:"text",class:I(["form-control",e.error.fisrtOriginalWorkTitle||e.error.fisrtOriginalWorkType?"error-border":""]),placeholder:t.$t("addNewMoviesForm.title"),onChange:s[26]||(s[26]=n=>e.getOriginalWorkInput(n,"title",0)),onKeypress:s[27]||(s[27]=n=>e.isCharWithSpeailChar(n)),maxlength:"150",disabled:e.isEdit},null,42,Rs),[[Y,e.fisrtOriginalWorkTitle]]),e.error.fisrtOriginalWorkTitle?(m(),k("span",qs,l(e.error.fisrtOriginalWorkTitle),1)):A("v-if",!0)]),a("div",Hs,[q(a("input",{"onUpdate:modelValue":s[28]||(s[28]=n=>e.fisrtOriginalWorkArtist=n),onChange:s[29]||(s[29]=n=>e.getOriginalWorkInput(n,"original_artist",0)),type:"text",class:I(["form-control",e.error.fisrtOriginalWorkArtist||e.error.fisrtOriginalWorkType?"error-border":""]),placeholder:t.$t("addNewMoviesForm.originalArtist"),onKeypress:s[30]||(s[30]=n=>e.isCharWithSpeailChar(n)),maxlength:"150",disabled:e.isEdit},null,42,Js),[[Y,e.fisrtOriginalWorkArtist]]),e.error.fisrtOriginalWorkArtist?(m(),k("span",js,l(e.error.fisrtOriginalWorkArtist),1)):A("v-if",!0)]),a("button",{onClick:s[31]||(s[31]=n=>e.addOriginalWork()),class:I(["addBtn",e.multipleAddOriginalList.length>8||e.isEdit?"isDisabled":""]),disabled:e.multipleAddOriginalList.length>8||e.isEdit}," + ",10,Gs)]),(m(!0),k(Ue,null,Ge(e.multipleAddOriginalList,(n,r)=>(m(),k("div",{class:"div4colmns",key:r},[a("div",xs,[A(` <select\r
                    class="form-control"\r
                    @change="getOriginalWorkInput($event, 'type', k + 1)"\r
                    :class="\r
                      error.originalWorkType && error.originalWorkType[k + 1]\r
                        ? 'error-border'\r
                        : ''\r
                    "\r
                  >\r
                    <option value="" selected disabled>\r
                      {{ $t("addNewMoviesForm.choose") }}\r
                    </option>\r
                    <option\r
                      v-for="(value, name, index) in originalWorkList"\r
                      :key="index"\r
                      :value="value"\r
                      :selected="input.type == value"\r
                      :disabled="isEdit"\r
                    >\r
                      {{ value }}\r
                    </option>\r
                  </select> `),V(v,{onDropdownValue:E=>{e.originalWorkData[r]=E,e.getOriginalWorkInput(E,"type",r+1)},search_type:e.originalWorkData[r],searchTitleListItem:Object.keys(e.originalWorkList).map(E=>({key:E,value:e.originalWorkList[E]})),searchtitle:"value",searchvalue:"key",disabled:e.isEdit,clearable:!1,labelItem:t.$t("addNewMoviesForm.choose"),isError:!!(e.error.originalWorkType&&e.error.originalWorkType[r+1])},null,8,["onDropdownValue","search_type","searchTitleListItem","disabled","labelItem","isError"]),e.error.originalWorkType&&e.error.originalWorkType[r+1]?(m(),k("span",zs,l(e.error.originalWorkType[r+1]),1)):A("v-if",!0)]),a("div",Zs,[a("input",{value:n.title,type:"text",class:I(["form-control",e.error.originalWorkTitle&&e.error.originalWorkTitle[r+1]||e.error.originalWorkType&&e.error.originalWorkType[r+1]?"error-border":""]),placeholder:t.$t("addNewMoviesForm.title"),onChange:E=>e.getOriginalWorkInput(E,"title",r+1),onKeypress:s[32]||(s[32]=E=>e.isCharWithSpeailChar(E)),maxlength:"150",disabled:e.isEdit},null,42,Xs),e.error.originalWorkTitle&&e.error.originalWorkTitle[r+1]?(m(),k("span",Ys,l(e.error.originalWorkTitle[r+1]),1)):A("v-if",!0)]),a("div",$s,[a("input",{value:n.original_artist,onChange:E=>e.getOriginalWorkInput(E,"original_artist",r+1),type:"text",class:I(["form-control",e.error.originalArtist&&e.error.originalArtist[r+1]||e.error.originalWorkType&&e.error.originalWorkType[r+1]?"error-border":""]),placeholder:t.$t("addNewMoviesForm.originalArtist"),onKeypress:s[33]||(s[33]=E=>e.isCharWithSpeailChar(E)),maxlength:"150",disabled:e.isEdit},null,42,ei),e.error.originalArtist&&e.error.originalArtist[r+1]?(m(),k("span",ti,l(e.error.originalArtist[r+1]),1)):A("v-if",!0)]),a("button",{onClick:E=>e.removeOriginalWork(r),class:I(["addBtn minusBtn",e.isEdit?"isDisabled":""]),disabled:e.isEdit}," - ",10,ai)]))),128))]),si,A(` <div class="divRows">\r
              <h3>Watch</h3>\r
              <div class="div1colmns">\r
                <div class="togglewatch-area">\r
                  <label>Stream</label>\r
                  <WatchStream\r
                    :ottList="ottList"\r
                    @watchInput="getWatchStreamList"\r
                    selectText="Select Stream"\r
                    :getstream_list="getstream_list"\r
                    :watchstream="watch_on_stream"\r
                  />\r
                </div>\r
              </div>\r
            </div>\r
            <div class="divRows">\r
              <div class="div1colmns">\r
                <div class="togglewatch-area">\r
                  <label>Rent</label>\r
                  <WatchStream\r
                    :ottList="ottRentList"\r
                    @watchInput="getWatchRentList"\r
                    selectText="Select Rent"\r
                    :getstream_list="getrent_list"\r
                    :watchstream="watch_on_rent"\r
                  />\r
                </div>\r
              </div>\r
            </div>\r
            <div class="divRows">\r
              <div class="div1colmns">\r
                <div class="togglewatch-area">\r
                  <label>Buy</label>\r
                  <WatchStream\r
                    :ottList="ottBuyList"\r
                    @watchInput="getWatchBuyList"\r
                    selectText="Select Buy"\r
                    :getstream_list="getbuy_list"\r
                    :watchstream="watch_on_buy"\r
                  />\r
                </div>\r
              </div>\r
            </div> `),a("div",ii,[a("h3",null,l(t.$t("addNewMoviesForm.connections")),1),a("div",li,[V(B,{onSearchInput:e.getConnectionSearch,list:e.connectionSearchList,onConnectionInput:e.getConnectionInput,connectionBelowList:e.connectionBelowList,connectionValue:e.connection,type:"connection",title_type:"tv",isEdit:e.isEdit},null,8,["onSearchInput","list","onConnectionInput","connectionBelowList","connectionValue","isEdit"])])]),a("div",oi,[a("a",{onClick:s[34]||(s[34]=n=>e.isEdit==!0?e.isEditBtn():e.isSaveBtn()),class:"saveBtn"},l(e.isEdit?t.$t("button.edit"):t.$t("button.save")),1)])],32)])])]),A(" submit modal "),a("div",ni,[V(h,{isModal:e.isSubmit},{header:ue(()=>[a("h1",{class:"text-center",innerHTML:t.$t("addNewMoviesForm.youShouldSubmitToSendTheAdd")},null,8,ri)]),body:ue(()=>[]),footer:ue(()=>[a("div",di,[a("button",{class:"black-outline-btn",onClick:s[36]||(s[36]=(...n)=>e.savePrimaryDetails&&e.savePrimaryDetails(...n)),disabled:e.isOnceClickSaveBtn},l(t.$t("button.ok")),9,ui),a("button",{class:"red-fill-btn",onClick:s[37]||(s[37]=n=>e.isSubmit=!1)},l(t.$t("button.cancel")),1)])]),_:1},8,["isModal"])])])}const vi=ht(la,[["render",ci],["__file","D:/11-db-frontend/11_db/src/components/AddNewTv/PrimaryDetails.vue"]]),tt="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgEASABIAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCADcANwDAREAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD+wnx7471Xxdq94Tdzx6LFcSx6bpySbLcWyNsjmnSM7J7icIJneQy+WzmOJhEq5APPqACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKAJ7e5ubOZLi0uJ7W4jYNHPbyyQTRsCGDJLEyurAgEFWBBAI5FAH0v4N+NkEGiRW3ihpbrU7eaSEXalQ9zahY2hlnAQAzqWkhdwMyLEsjkyO5IB8w0AFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAKqszBVBZmIVVUEszE4AAHJJPAA5J4FAHotv8JfiHcwpPF4clEcihlE1/pNtJg9N0NzfxTIfZ41OOcc0ATf8ACnviN/0Lv/lX0L/5Z0AH/CnviN/0Lv8A5V9C/wDlnQAf8Ke+I3/Qu/8AlX0L/wCWdAB/wp74jf8AQu/+VfQv/lnQBymv+FPEPheSGLXtLn08z7vId3gnhl2BS4juLaWeB2UMu5RIWXPIFAHPUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQB6N8JbeG5+IfhyKdFkjEt/MFYZHmW2k39zC2PVJoo3HbKjOaAPoX4l/EzUfA2padY2WnWV6l7YtdO9086sjLcPDtXynUFcIDyM5J7UAea/8ADQevf9AHSP8Av7ef/HaAD/hoPXv+gDpH/f28/wDjtAB/w0Hr3/QB0j/v7ef/AB2gA/4aD17/AKAOkf8Af28/+O0AeofFRk1T4V3WpTwoJzb6BqEQGSIJ7u/06OTyyeceVdTRc5yrc880AfF1ABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAemfB7/ko3h3/ALi//pi1OgDtP2g/+Q/oP/YHk/8AS2agD5/oAKACgAoA+zfiD/yRuf8A7BHhb/046LQB8ZUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQB6Z8Hv+SjeHf8AuL/+mLU6AO0/aD/5D+g/9geT/wBLZqAPn+gAoA1H0XVI9Jg117KZdJubqSzhvcDynuIhl04O8D7yq7KEZ0kRWLowABl0AfZvxB/5I3P/ANgjwt/6cdFoA+MqACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoA9M+D3/JRvDv/AHF//TFqdAHaftB/8h/Qf+wPJ/6WzUAX/hl8JbTVdHuNY8T27lNUtmi0m2y8ctvE24HUW2uCJXIU2qOo2xqZGDCVQoByOn/B/XJfGcnh28V00y0K3VzrEaAQy6e24wtCC5xcXLIYPK3M0EgkdgyR7mAPrC88M6Ne+H38MyWaLpDWq2qW0eV8lIyHieNs7hLHKqyrISWMg3MWy2QD4U8W+F7/AMIa1c6RfAsIyJLS6C7Y7y1fmKePlgCR8ske4mOVWQ9ASAfU/wAQf+SNz/8AYI8Lf+nHRaAPjKgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKAPTPg9/yUbw7/3F/wD0xanQB6D8crmGy8W+GLu4s4tQht9MaV7Kd5I4bjbezFUlaFlk2bsMwVhuA2n5SaAKQ/aC11QFXQNHVVACqJLwAADAAAkwABwAOAKAF/4aD17/AKAOkf8Af28/+O0AH/DQevf9AHSP+/t5/wDHaAOL8a/Eq48b2UFtqOh6bbz2khktL62luvPgEhTz4wHkKPHMqKGVwcFVdcMM0AfQHxB/5I3P/wBgjwt/6cdFoA+MqACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoA6Lwnr8nhfxDpevRw+edPmdnh3BDLDPBLa3EYcqwVmgnkCsQcMQaAPq5/in8KtUSGfUrq2acR4Eeo+H7+7ngBJJj8xNOuosbsnEUrKSc9c0AR/8ACwPgz/z20f8A8JXUP/lLQAf8LA+DP/PbR/8AwldQ/wDlLQAf8LA+DP8Az20f/wAJXUP/AJS0AH/CwPgz/wA9tH/8JXUP/lLQB5/8UviloOt6CfDXhpnure7e2N3dm2ms4IoLOaG4ht4IbiGKVi00MeT5cSRrFtXeG4APnOgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAmuLeW0uJ7WdDHPbTS280Z6pLC7RyIfdXUqfcUAQ0AFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFABQAUAFAHRaR4U17XbZ7vS9PnureOdrZ5Io5XVZkjilZCURhkJNG2M5ww4wRQB9AfGrwXocVrJ4qt4prbVLicR3QhkQWt0wgdhPNC0bkT4iVWeGSJZPmeVXlJkoA+XaACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKAN7wzpdvrOt2Om3TzRwXUoSR7dkWUD/AGGkjlQH/ejYe1AH31oOg6Z4a0y30jSLf7PZ2+4gFi8ssrndJPPI3zSTSNyzHAACoipGiIoA/9k=";const{t:Ke}=St.global,_i={name:"Episode",components:{PopUpModal:gt,Modal:sa,Calender:yt},props:["site_language","requiredId","saveIdList"],emits:["selectedId","isEditOn"],mixins:[Xe,Ye],setup(t,{emit:s}){const o=mt(),e=pt(),f=new wt,b=new Et,v=i([]),y=i([]),B=i(o.params.id),h=i(null),n=i(null),r=i(null),E=i(""),J=i(""),W=i(""),P=i(""),$=i(!1),ee=i(null);i(null);const ce=i(!1),oe=i(tt),he=i([]),c=i({}),Ae=i("e"),fe=i(""),Me=i(""),O=i("MM.DD.YYYY"),T=i(o.params.type=="internal"?o.params.external_id:""),K=i(""),Z=i("tv"),ve=i(!1),w=i(null),ge=i(!1),Le=i(""),j=i("");Ct(()=>{var p,C,U,G,z;o.params.type=="internal"&&(ge.value=!0);const _=JSON.parse(localStorage.getItem("draft_ids")||"[]");_[0]?B.value=((p=_[0])==null?void 0:p.primaryDetails[Z.value])&&((U=(C=_[0])==null?void 0:C.primaryDetails[Z.value][t.site_language])==null?void 0:U.draft_request_id)?(z=(G=_[0])==null?void 0:G.primaryDetails[Z.value][t.site_language])==null?void 0:z.draft_request_id:"":B.value=B.value,De(),h.value=t.requiredId.season_request_id,n.value=t.requiredId.episode_request_id}),Je(()=>$.value,(_,p)=>{_!=p&&_==!0?setTimeout(()=>{let C=document.querySelector("#image_preview");C.src=oe.value},100):(oe.value=tt,c.episode_number="",r.value="",E.value="",W.value="",J.value="")}),Je(()=>P.value,(_,p)=>{_!=p&&P.value==""&&(_e(h.value,K.value),Ie(h.value,K.value))}),Je(()=>$.value,(_,p)=>{_!=p&&$.value==!1&&(fe.value="")}),Je(()=>t.site_language,function(_,p){var C,U,G,z,we;if(_&&_!=p){const Ee=JSON.parse(localStorage.getItem("draft_ids")||"[]");Ee[0]?B.value=((C=Ee[0])==null?void 0:C.primaryDetails[Z.value])&&((G=(U=Ee[0])==null?void 0:U.primaryDetails[Z.value][t.site_language])==null?void 0:G.draft_request_id)?(we=(z=Ee[0])==null?void 0:z.primaryDetails[Z.value][t.site_language])==null?void 0:we.draft_request_id:"":B.value=B.value,De()}}),Je(()=>$.value,(_,p)=>{_!=p&&$.value==!1&&(ve.value=!1)});const De=()=>{let _;o.params.type=="internal"?_=b.getEditSeasonList(T.value,B.value,t.site_language):_=f.getSeasonList(B.value,t.site_language),_.then(p=>{p.status==200?(v.value=p.data.results,j.value=p.data.results[0],Le.value=p.data.results[0].season_no,h.value=p.data.results[0].draft_season_id,K.value=p.data.results[0].season_id?p.data.results[0].season_id:"",_e(h.value,K.value),Ie(h.value,K.value)):(v.value=[],j.value="",Le.value="",h.value="",K.value="",he.value=[],n.value="",y.value=[])}).catch(p=>{})},te=_=>{j.value=_,Le.value=_.season_no?_.season_no:"",h.value=_.draft_season_id?_.draft_season_id:"",K.value=_.season_id?_.season_id:"",y.value=[],he.value=[],_e(h.value,K.value),Ie(h.value,K.value)},Ie=async(_,p)=>{var U,G;let C={draft_request_id:Number(B.value),draft_season_id:Number(_),site_language:t.site_language,search_text:P.value};o.params.type=="internal"&&(C.title_id=T.value,C.season_id=Number(p));try{let z;o.params.type=="internal"?z=await b.searchEditEpisodes(C):z=await f.searchEpisodes(C),he.value=z.data.results,n.value=(U=z.data.results[0])!=null&&U.draft_episode_id?(G=z.data.results[0])==null?void 0:G.draft_episode_id:""}catch(z){console.warn(z)}},_e=async(_,p)=>{let C={draft_request_id:Number(B.value),draft_season_id:Number(_),site_language:t.site_language,search_text:P.value};o.params.type=="internal"&&(C.title_id=T.value,C.season_id=Number(p));try{let U;o.params.type=="internal"?U=await b.searchEditEpisodes(C):U=await f.searchEpisodes(C),y.value=U.data.results}catch(U){console.warn(U)}},ye=()=>{ge.value=!1,s("isEditOn",!1)},We=async()=>{var C,U,G,z,we,Ee,Re,Te;const _=JSON.parse(localStorage.getItem("draft_ids")||"[]");_[0]&&o.params.type=="internal"&&(B.value=((C=_[0])==null?void 0:C.primaryDetails[Z.value])&&((G=(U=_[0])==null?void 0:U.primaryDetails[Z.value][t.site_language])==null?void 0:G.draft_request_id)?(we=(z=_[0])==null?void 0:z.primaryDetails[Z.value][t.site_language])==null?void 0:we.draft_request_id:(Ee=_[0])!=null&&Ee.primaryDetails[Z.value].draft_relation_id?(Re=_[0])==null?void 0:Re.primaryDetails[Z.value].draft_relation_id:"");let p={draft_request_id:B.value,draft_season_id:h.value,draft_episode_id:n.value,site_language:t.site_language,episode_details:[]};o.params.type=="internal"&&(p.title_id=T.value,p.season_id=K.value),he.value.filter(L=>!y.value.some(be=>L.episode_number===be.episode_number)).forEach(L=>{Object.assign(L,{action_type:"d"}),y.value.push(L)}),y.value.length>0&&(o.params.type=="internal"?Array.from(y.value).forEach(L=>{p.episode_details.push({action_type:L.action_type,name:L.episode_title,description:L.episode_summary,poster:L.episode_image,release_date:L.release_date||L.episode_date||"",episode_number:L.episode_number,id:L.id})}):Array.from(y.value).forEach(L=>{p.episode_details.push({action_type:L.action_type,name:L.episode_title,description:L.episode_summary,poster:L.episode_image,release_date:L.release_date||L.episode_date||"",episode_number:L.episode_number})}));try{let L;if(o.params.type=="internal"?L=await b.saveEditEpisode(p):L=await f.saveEpisode(p),n.value=L.data.data[0].draft_episode_id,t.saveIdList.episode_request_id=L.data.data[0].draft_episode_id,ce.value=!1,s("selectedId",t.saveIdList),o.params.type=="internal"){ge.value=!0,s("isEditOn",!0);const be=JSON.parse(localStorage.getItem("draft_ids")||"[]");if(be[0])((Te=be[0].primaryDetails[Z.value][t.site_language])==null?void 0:Te.draft_request_id)||(be[0].primaryDetails[Z.value][t.site_language]={},be[0].primaryDetails[Z.value][t.site_language]=L.data.data[0]);else{const $e={primaryDetails:{[Z.value]:{[t.site_language]:{draft_request_id:L.data.data[0].draft_request_id},draft_relation_id:L.data.data[0].draft_request_id}}};be.push($e)}localStorage.setItem("draft_ids",JSON.stringify(be)),e.push(`/add-tv-details/${T.value}/internal/${L.data.data[0].draft_request_id}`)}_e(h.value,K.value),Ie(h.value,K.value)}catch(L){console.warn(L)}},Oe=async _=>{if(_.action_type)je.fire({title:Ke("Error.saveEpisode")});else try{let p;o.params.type=="internal"?p=await b.getEditEpisodeDetails(t.site_language,B.value,_.id,_.episode_number,T.value,_.season_id,_.draft_season_id,_.draft_episode_id):p=await f.getEpisodeDetails(t.site_language,B.value,_.draft_episode_id,_.episode_number,_.tmdb_id,_.season_no?_.season_no:""),p&&($.value=!0,p.data.result.map(C=>{fe.value=C.episode_no,Me.value=C.image}),p.data.result.map(C=>{oe.value=C.image?C.image:tt,r.value=C.episode_no,E.value=C.episode_title,W.value=C.date,J.value=C.overview}))}catch(p){console.warn(p)}},Pe=()=>document.querySelector("#image_file").click(),Fe=_=>{let p=_.target.files[0];if(!/(\.jpg|\.jpeg|\.png)$/i.exec(p.name))je.fire({title:Ke("Error.onlyJpg")}),document.querySelector("#img-upload").value="";else if(Math.round(p.size/1024/1024)>25)je.fire({title:Ke("Error.ImageSize")}),document.querySelector("#image_file").value="";else{let U=document.querySelector("#image_preview");U.src=URL.createObjectURL(p),oe.value=URL.createObjectURL(p),ee.value=p}},Qe=_=>{W.value=_},Ne=()=>{$.value=!0,ee.value="",r.value="",E.value="",W.value="",J.value="",c.value={}},Ve=async()=>{ve.value=!0,w.value=setTimeout(()=>{ve.value=!1},5e3),ke()},ke=async()=>{let _=new FormData;o.params.type=="internal"&&(_.append("title_id",T.value),_.append("season_id",K.value)),_.append("draft_request_id",B.value?B.value:0),_.append("draft_season_id",Number(h.value)),ee.value&&_.append("image",ee.value),_.append("episode_no",r.value),_.append("episode_title",E.value),_.append("date",W.value?W.value:""),_.append("overview",J.value),_.append("site_language",t.site_language);let p=he.value.map(U=>U.episode_number),C=y.value.map(U=>U.episode_number);if(E.value){if(/[0-9]+/.test(E.value))return c.value.episode_title=X(()=>Ke("Error.numberNotAll")),!0;c.value.episode_title=i("")}if(!r.value)c.value.episode_number=X(()=>Ke("Error.episodeNumber"));else if(isNaN(r.value))c.value.episode_number=X(()=>Ke("Error.onlyNumberReq"));else if(!E.value)c.value.episode_title=X(()=>Ke("Error.episodeTitle"));else if(fe.value&&C.includes(Number(r.value))&&fe.value!=r.value)c.value.episode_number=X(()=>Ke("Error.episodeTaken"));else if(fe.value==""&&C.includes(Number(r.value)))c.value.episode_number=X(()=>Ke("Error.episodeTaken"));else try{let U;o.params.type=="internal"?U=await b.editEpisodeDetails(_):U=await f.addEpisodeDetails(_);let G=U.data.episode_details;p.includes(Number(r.value))||C.includes(Number(r.value))?Ae.value="e":Ae.value="a";let z=y.value.findIndex(we=>we.episode_number==fe.value);z>-1&&y.value.splice(z,1),y.value.push({action_type:Ae.value,episode_image:G.poster_location?G.poster_location:oe.value&&oe.value!=tt?oe.value:"",episode_number:G.episode_number,episode_title:G.name,release_date:G.release_date,episode_summary:G.description,id:G.episode_id?G.episode_id:""}),$.value=!1,c.value.episode_number=i(""),c.value.episode_title=i("")}catch(U){console.log(U)}};return $t(()=>{clearTimeout(w.value)}),{canselEpisodeData:()=>{$.value=!1,r.value="",E.value="",W.value="",J.value="",ee.value=null,document.querySelector("#image_file").value=""},getRealeaseDate:Qe,addNewEpisode:Ve,getImage:Fe,getImagePreview:Pe,saveEpisodeList:We,dataFormat:_=>{let p=new Date(_),C={year:"numeric",month:"long",day:"numeric"};return p.toLocaleString("en-us",C)},closeEpisodeTab:_=>{let p=y.value.findIndex(C=>C.episode_number==_);p>-1&&y.value.splice(p,1)},seasonDetails:De,getSeasonValue:te,episodeList:y,searchForEpisodes:_e,seasonRequestList:v,search_title:P,isEpisodeModal:$,episode_number:r,episode_title:E,episode_plot:J,episode_realese_date:W,isSubmit:ce,getSavedEpisodeDeatils:Oe,errorData:c,draft_season_id:h,openEpisodeModal:Ne,isIntegerNumber:Xe,isCharWithSpeailChar:Ye,isMaxmimum:_=>{let p=String.fromCharCode(_.keyCode);if(p<=9&&p>=1)return!0;_.preventDefault()},datePlaceholder:O,disabled:ve,exist_season_id:K,isEdit:ge,detailImage:oe,epsodeImage:tt,isEditBtn:ye,seasonSelect:Le,selectedSeason:j}}},qt=t=>(Wt("data-v-d80babf7"),t=t(),Pt(),t),hi={class:"primary-details-from"},gi={class:"page-heading-area episode-heading bb-0"},mi=["disabled"],pi={class:"search-episode"},Ai={class:"search-form"},fi={class:"select-option"},bi={class:"search-field"},yi=["placeholder"],wi=qt(()=>a("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.60039 2.67979C4.94942 2.67979 2.80039 4.82882 2.80039 7.47979C2.80039 10.1308 4.94942 12.2798 7.60039 12.2798C10.2514 12.2798 12.4004 10.1308 12.4004 7.47979C12.4004 4.82882 10.2514 2.67979 7.60039 2.67979ZM0.400391 7.47979C0.400391 3.50334 3.62394 0.279785 7.60039 0.279785C11.5768 0.279785 14.8004 3.50334 14.8004 7.47979C14.8004 9.03478 14.3074 10.4746 13.4693 11.6516L19.2489 17.4313C19.7175 17.8999 19.7175 18.6597 19.2489 19.1283C18.7803 19.5969 18.0205 19.5969 17.5519 19.1283L11.7722 13.3487C10.5953 14.1868 9.15539 14.6798 7.60039 14.6798C3.62394 14.6798 0.400391 11.4562 0.400391 7.47979Z",fill:"white"})],-1)),Ei=[wi],Si={class:"episode-list"},Ci={key:0,class:"list-wrapper"},Di=["onClick"],ki=Mt('<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-d80babf7><g clip-path="url(#clip0_4676_112527)" data-v-d80babf7><path d="M12.2005 3.80714C11.9405 3.54714 11.5205 3.54714 11.2605 3.80714L8.00047 7.06047L4.74047 3.80047C4.48047 3.54047 4.06047 3.54047 3.80047 3.80047C3.54047 4.06047 3.54047 4.48047 3.80047 4.74047L7.06047 8.00047L3.80047 11.2605C3.54047 11.5205 3.54047 11.9405 3.80047 12.2005C4.06047 12.4605 4.48047 12.4605 4.74047 12.2005L8.00047 8.94047L11.2605 12.2005C11.5205 12.4605 11.9405 12.4605 12.2005 12.2005C12.4605 11.9405 12.4605 11.5205 12.2005 11.2605L8.94047 8.00047L12.2005 4.74047C12.4538 4.48714 12.4538 4.06047 12.2005 3.80714Z" fill="white" data-v-d80babf7></path></g><defs data-v-d80babf7><clipPath id="clip0_4676_112527" data-v-d80babf7><rect width="16" height="16" fill="white" data-v-d80babf7></rect></clipPath></defs></svg>',1),Bi=[ki],Li=Mt('<div class="left-icon" data-v-d80babf7><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-d80babf7><g clip-path="url(#clip0_4676_112514)" data-v-d80babf7><path d="M3 18H21V16H3V18ZM3 13H21V11H3V13ZM3 6V8H21V6H3Z" fill="white" data-v-d80babf7></path></g><defs data-v-d80babf7><clipPath id="clip0_4676_112514" data-v-d80babf7><rect width="24" height="24" fill="white" data-v-d80babf7></rect></clipPath></defs></svg></div>',1),Ii=["onClick"],Oi={class:"card-img-wrap"},Ti=["src"],Fi={key:1,src:ea,alt:"",class:"card-img"},Qi={class:"episode-details"},Ni={class:"episode-no"},Vi={class:"episode-title"},Ki={key:0,class:"release-date"},Ui={key:1,class:"release-date"},Mi={class:"episode-summary"},Wi={key:1,class:"tv-no-data"},Pi=["disabled"],Ri=["disabled"],qi={class:"new-cast-modal add-img-modal episode-modal"},Hi={class:"cast-details"},Ji={class:"episode-modal-content"},ji={class:"img-upload-show"},Gi=["src"],xi={class:"upload-options"},zi={class:"camera-upload"},Zi=qt(()=>a("img",{src:ia,alt:""},null,-1)),Xi={class:"error-txt mt-10"},Yi={class:"episode-row"},$i={class:"divRows"},el={class:"div1colmns"},tl={class:"form-group"},al=["placeholder"],sl={class:"error-txt"},il={class:"divRows"},ll={class:"div1colmns"},ol={class:"form-group"},nl=["placeholder"],rl={class:"error-txt"},dl={class:"divRows"},ul={class:"div1colmns"},cl={class:"divRows"},vl={class:"div1colmns"},_l={class:"form-group"},hl=["placeholder"],gl={class:"error-txt"},ml={class:"button-group"},pl=["disabled"],Al={class:"new-cast-modal center-popup-modal"},fl=["innerHTML"],bl={class:"button-group"};function yl(t,s,o,e,f,b){const v=de("SearchDropdown"),y=de("Calender"),B=de("PopUpModal");return m(),k(Ue,null,[a("div",hi,[a("div",gi,[a("h2",null,l(t.$t("episode.episode")),1),a("button",{onClick:s[0]||(s[0]=h=>e.isEdit==!0?e.isEditBtn():e.isSubmit=!0),disabled:e.search_title!="",class:I(e.search_title!=""?"isDisabled save-button desktopBts":"save-button desktopBts")},l(e.isEdit?t.$t("button.edit"):t.$t("button.save")),11,mi)]),a("div",pi,[a("div",Ai,[a("div",fi,[A(` <select class="select-style" @change="getSeasonValue($event)">\r
            <option\r
              v-for="(item, index) in seasonRequestList"\r
              :key="index"\r
              :value="[item.draft_season_id, item.season_id, item.season_no]"\r
            >\r
              {{ $t("episode.season") }} {{ item.season_no }}\r
            </option>\r
          </select> `),V(v,{onDropdownValue:e.getSeasonValue,search_type:e.selectedSeason,searchTitleListItem:e.seasonRequestList,searchtitle:e.seasonRequestList.length>0?h=>`${t.$t("episode.season")} ${h.season_no}`:"","return-object":"",clearable:!1},null,8,["onDropdownValue","search_type","searchTitleListItem","searchtitle"])]),a("div",bi,[q(a("input",{type:"text",placeholder:t.$t("episode.searchEpisode")+" in "+t.$t("episode.season")+" "+e.seasonSelect,class:"form-control","onUpdate:modelValue":s[1]||(s[1]=h=>e.search_title=h),onKeypress:s[2]||(s[2]=Be(h=>e.searchForEpisodes(e.draft_season_id,e.exist_season_id),["enter"]))},null,40,yi),[[Y,e.search_title]]),a("button",{class:"search-btn",onClick:s[3]||(s[3]=h=>e.searchForEpisodes(e.draft_season_id,e.exist_season_id))},Ei)])])]),a("div",Si,[e.episodeList.length>0?(m(),k("ul",Ci,[(m(!0),k(Ue,null,Ge(e.episodeList,(h,n)=>(m(),k("li",{class:I(["episode-card",e.isEdit?"isDisabled":""]),key:n},[a("div",{class:I(["close-cross",e.isEdit?"pointer-events-none":""]),onClick:r=>e.closeEpisodeTab(h.episode_number)},Bi,10,Di),Li,a("div",{class:I(["right-content",e.isEdit?"pointer-events-none":""]),onClick:r=>e.getSavedEpisodeDeatils(h)},[a("div",Oi,[h.episode_image?(m(),k("img",{key:0,src:h.episode_image,alt:"",class:"card-img"},null,8,Ti)):(m(),k("img",Fi))]),a("div",Qi,[a("span",Ni,l(t.$t("episode.episode"))+" "+l(h.episode_number>9?h.episode_number:"0"+h.episode_number),1),a("h1",Vi,l(h.episode_title),1),h.episode_date?(m(),k("h3",Ki,l(e.dataFormat(h.episode_date)),1)):A("v-if",!0),h.release_date?(m(),k("h3",Ui,l(e.dataFormat(h.release_date)),1)):A("v-if",!0),a("p",Mi,l(h.episode_summary),1)])],10,Ii)],2))),128))])):(m(),k("div",Wi,l(t.$t("addNewPeople.noData")),1))]),a("button",{class:I(["add-season-btn",e.isEdit?"isDisabled":""]),onClick:s[4]||(s[4]=(...h)=>e.openEpisodeModal&&e.openEpisodeModal(...h)),disabled:e.isEdit},l(t.$t("episode.+addNewEpisode")),11,Pi),a("button",{onClick:s[5]||(s[5]=h=>e.isEdit==!0?e.isEdit=!1:e.isSubmit=!0),disabled:e.search_title!="",class:I(e.search_title!=""?"isDisabled save-button mobilebtns":"save-button mobilebtns")},l(e.isEdit?t.$t("button.edit"):t.$t("button.save")),11,Ri)]),A(" add tag modal "),a("div",qi,[V(B,{isModal:e.isEpisodeModal},{header:ue(()=>[a("h1",null,l(t.$t("episode.addNewEpisode")),1)]),body:ue(()=>[a("div",Hi,[a("div",Ji,[a("div",ji,[a("div",{class:"image-preview",onClick:s[6]||(s[6]=(...h)=>e.getImagePreview&&e.getImagePreview(...h))},[a("img",{src:e.detailImage,id:"image_preview"},null,8,Gi)]),a("div",xi,[a("label",null,[a("span",zi,[Zi,a("input",{type:"file",class:"image-upload",id:"image_file",onChange:s[7]||(s[7]=h=>e.getImage(h)),accept:"image/*",style:{opacity:"0"}},null,32)])])])]),a("span",Xi,l(e.errorData.image_err),1),a("div",Yi,[a("div",$i,[a("h3",null,l(t.$t("episode.episodeNumber")),1),a("div",el,[a("div",tl,[q(a("input",{type:"text",class:I(["form-control",e.errorData.episode_number?"error-border":""]),placeholder:t.$t("episode.episodeNo"),"onUpdate:modelValue":s[8]||(s[8]=h=>e.episode_number=h),onKeypress:s[9]||(s[9]=h=>e.isIntegerNumber(h)),maxlength:"3"},null,42,al),[[Y,e.episode_number]]),a("span",sl,l(e.errorData.episode_number),1)])])]),a("div",il,[a("h3",null,l(t.$t("episode.episodeTitle")),1),a("div",ll,[a("div",ol,[q(a("input",{type:"text",class:I(["form-control",e.errorData.episode_title?"error-border":""]),placeholder:t.$t("episode.selectEpisodeTitle"),"onUpdate:modelValue":s[10]||(s[10]=h=>e.episode_title=h),maxlength:"150",onKeypress:s[11]||(s[11]=h=>e.isCharWithSpeailChar(h))},null,42,nl),[[Y,e.episode_title]]),a("span",rl,l(e.errorData.episode_title),1)])])]),a("div",dl,[a("h3",null,l(t.$t("episode.date")),1),a("div",ul,[V(y,{onDate:e.getRealeaseDate,input_date:e.episode_realese_date,datePlaceholder:e.datePlaceholder},null,8,["onDate","input_date","datePlaceholder"])])]),a("div",cl,[a("h3",null,l(t.$t("episode.overview")),1),a("div",vl,[a("div",_l,[q(a("textarea",{"onUpdate:modelValue":s[12]||(s[12]=h=>e.episode_plot=h),class:I(["form-control",e.errorData.episode_plot?"error-border":""]),placeholder:t.$t("episode.typeHere"),maxlength:"230"},null,10,hl),[[Y,e.episode_plot]]),a("span",gl,l(e.errorData.episode_plot),1)])])])])])])]),footer:ue(()=>[a("div",ml,[a("button",{class:"black-outline-btn",disabled:e.disabled,onClick:s[13]||(s[13]=(...h)=>e.addNewEpisode&&e.addNewEpisode(...h))},l(t.$t("button.save")),9,pl),a("button",{class:"red-fill-btn",onClick:s[14]||(s[14]=(...h)=>e.canselEpisodeData&&e.canselEpisodeData(...h))},l(t.$t("button.cancel")),1)])]),_:1},8,["isModal"])]),A(" submit modal "),a("div",Al,[V(B,{isModal:e.isSubmit},{header:ue(()=>[a("h1",{class:"text-center",innerHTML:t.$t("addNewMoviesForm.youShouldSubmitToSendTheAdd")},null,8,fl)]),body:ue(()=>[]),footer:ue(()=>[a("div",bl,[a("button",{class:"black-outline-btn",onClick:s[15]||(s[15]=(...h)=>e.saveEpisodeList&&e.saveEpisodeList(...h))},l(t.$t("button.ok")),1),a("button",{class:"red-fill-btn",onClick:s[16]||(s[16]=h=>e.isSubmit=!1)},l(t.$t("button.cancel")),1)])]),_:1},8,["isModal"])])],64)}const wl=ht(_i,[["render",yl],["__scopeId","data-v-d80babf7"],["__file","D:/11-db-frontend/11_db/src/components/AddNewTv/Episode.vue"]]);function ft(t){return t===0?!1:Array.isArray(t)&&t.length===0?!0:!t}function El(t){return(...s)=>!t(...s)}function Sl(t,s){return t===void 0&&(t="undefined"),t===null&&(t="null"),t===!1&&(t="false"),t.toString().toLowerCase().indexOf(s.trim())!==-1}function Ht(t,s,o,e){return s?t.filter(f=>Sl(e(f,o),s)).sort((f,b)=>e(f,o).length-e(b,o).length):t}function Cl(t){return t.filter(s=>!s.$isLabel)}function bt(t,s){return o=>o.reduce((e,f)=>f[t]&&f[t].length?(e.push({$groupLabel:f[s],$isLabel:!0}),e.concat(f[t])):e,[])}function Dl(t,s,o,e,f){return b=>b.map(v=>{if(!v[o])return console.warn("Options passed to vue-multiselect do not contain groups, despite the config."),[];const y=Ht(v[o],t,s,f);return y.length?{[e]:v[e],[o]:y}:[]})}const Qt=(...t)=>s=>t.reduce((o,e)=>e(o),s);var kl={data(){return{search:"",isOpen:!1,preferredOpenDirection:"below",optimizedHeight:this.maxHeight}},props:{internalSearch:{type:Boolean,default:!0},options:{type:Array,required:!0},multiple:{type:Boolean,default:!1},trackBy:{type:String},label:{type:String},searchable:{type:Boolean,default:!0},clearOnSelect:{type:Boolean,default:!0},hideSelected:{type:Boolean,default:!1},placeholder:{type:String,default:"Select option"},allowEmpty:{type:Boolean,default:!0},resetAfter:{type:Boolean,default:!1},closeOnSelect:{type:Boolean,default:!0},customLabel:{type:Function,default(t,s){return ft(t)?"":s?t[s]:t}},taggable:{type:Boolean,default:!1},tagPlaceholder:{type:String,default:"Press enter to create a tag"},tagPosition:{type:String,default:"top"},max:{type:[Number,Boolean],default:!1},id:{default:null},optionsLimit:{type:Number,default:1e3},groupValues:{type:String},groupLabel:{type:String},groupSelect:{type:Boolean,default:!1},blockKeys:{type:Array,default(){return[]}},preserveSearch:{type:Boolean,default:!1},preselectFirst:{type:Boolean,default:!1}},mounted(){!this.multiple&&this.max&&console.warn("[Vue-Multiselect warn]: Max prop should not be used when prop Multiple equals false."),this.preselectFirst&&!this.internalValue.length&&this.options.length&&this.select(this.filteredOptions[0])},computed:{internalValue(){return this.modelValue||this.modelValue===0?Array.isArray(this.modelValue)?this.modelValue:[this.modelValue]:[]},filteredOptions(){const t=this.search||"",s=t.toLowerCase().trim();let o=this.options.concat();return this.internalSearch?o=this.groupValues?this.filterAndFlat(o,s,this.label):Ht(o,s,this.label,this.customLabel):o=this.groupValues?bt(this.groupValues,this.groupLabel)(o):o,o=this.hideSelected?o.filter(El(this.isSelected)):o,this.taggable&&s.length&&!this.isExistingOption(s)&&(this.tagPosition==="bottom"?o.push({isTag:!0,label:t}):o.unshift({isTag:!0,label:t})),o.slice(0,this.optionsLimit)},valueKeys(){return this.trackBy?this.internalValue.map(t=>t[this.trackBy]):this.internalValue},optionKeys(){return(this.groupValues?this.flatAndStrip(this.options):this.options).map(s=>this.customLabel(s,this.label).toString().toLowerCase())},currentOptionLabel(){return this.multiple?this.searchable?"":this.placeholder:this.internalValue.length?this.getOptionLabel(this.internalValue[0]):this.searchable?"":this.placeholder}},watch:{internalValue(){this.resetAfter&&this.internalValue.length&&(this.search="",this.$emit("update:modelValue",this.multiple?[]:null))},search(){this.$emit("search-change",this.search)}},emits:["open","search-change","close","select","update:modelValue","remove","tag"],methods:{getValue(){return this.multiple?this.internalValue:this.internalValue.length===0?null:this.internalValue[0]},filterAndFlat(t,s,o){return Qt(Dl(s,o,this.groupValues,this.groupLabel,this.customLabel),bt(this.groupValues,this.groupLabel))(t)},flatAndStrip(t){return Qt(bt(this.groupValues,this.groupLabel),Cl)(t)},updateSearch(t){this.search=t},isExistingOption(t){return this.options?this.optionKeys.indexOf(t)>-1:!1},isSelected(t){const s=this.trackBy?t[this.trackBy]:t;return this.valueKeys.indexOf(s)>-1},isOptionDisabled(t){return!!t.$isDisabled},getOptionLabel(t){if(ft(t))return"";if(t.isTag)return t.label;if(t.$isLabel)return t.$groupLabel;const s=this.customLabel(t,this.label);return ft(s)?"":s},select(t,s){if(t.$isLabel&&this.groupSelect){this.selectGroup(t);return}if(!(this.blockKeys.indexOf(s)!==-1||this.disabled||t.$isDisabled||t.$isLabel)&&!(this.max&&this.multiple&&this.internalValue.length===this.max)&&!(s==="Tab"&&!this.pointerDirty)){if(t.isTag)this.$emit("tag",t.label,this.id),this.search="",this.closeOnSelect&&!this.multiple&&this.deactivate();else{if(this.isSelected(t)){s!=="Tab"&&this.removeElement(t);return}this.$emit("select",t,this.id),this.multiple?this.$emit("update:modelValue",this.internalValue.concat([t])):this.$emit("update:modelValue",t),this.clearOnSelect&&(this.search="")}this.closeOnSelect&&this.deactivate()}},selectGroup(t){const s=this.options.find(o=>o[this.groupLabel]===t.$groupLabel);if(!!s){if(this.wholeGroupSelected(s)){this.$emit("remove",s[this.groupValues],this.id);const o=this.internalValue.filter(e=>s[this.groupValues].indexOf(e)===-1);this.$emit("update:modelValue",o)}else{const o=s[this.groupValues].filter(e=>!(this.isOptionDisabled(e)||this.isSelected(e)));this.$emit("select",o,this.id),this.$emit("update:modelValue",this.internalValue.concat(o))}this.closeOnSelect&&this.deactivate()}},wholeGroupSelected(t){return t[this.groupValues].every(s=>this.isSelected(s)||this.isOptionDisabled(s))},wholeGroupDisabled(t){return t[this.groupValues].every(this.isOptionDisabled)},removeElement(t,s=!0){if(this.disabled||t.$isDisabled)return;if(!this.allowEmpty&&this.internalValue.length<=1){this.deactivate();return}const o=typeof t=="object"?this.valueKeys.indexOf(t[this.trackBy]):this.valueKeys.indexOf(t);if(this.$emit("remove",t,this.id),this.multiple){const e=this.internalValue.slice(0,o).concat(this.internalValue.slice(o+1));this.$emit("update:modelValue",e)}else this.$emit("update:modelValue",null);this.closeOnSelect&&s&&this.deactivate()},removeLastElement(){this.blockKeys.indexOf("Delete")===-1&&this.search.length===0&&Array.isArray(this.internalValue)&&this.internalValue.length&&this.removeElement(this.internalValue[this.internalValue.length-1],!1)},activate(){this.isOpen||this.disabled||(this.adjustPosition(),this.groupValues&&this.pointer===0&&this.filteredOptions.length&&(this.pointer=1),this.isOpen=!0,this.searchable?(this.preserveSearch||(this.search=""),this.$nextTick(()=>this.$refs.search&&this.$refs.search.focus())):this.$el.focus(),this.$emit("open",this.id))},deactivate(){!this.isOpen||(this.isOpen=!1,this.searchable?this.$refs.search&&this.$refs.search.blur():this.$el.blur(),this.preserveSearch||(this.search=""),this.$emit("close",this.getValue(),this.id))},toggle(){this.isOpen?this.deactivate():this.activate()},adjustPosition(){if(typeof window>"u")return;const t=this.$el.getBoundingClientRect().top,s=window.innerHeight-this.$el.getBoundingClientRect().bottom;s>this.maxHeight||s>t||this.openDirection==="below"||this.openDirection==="bottom"?(this.preferredOpenDirection="below",this.optimizedHeight=Math.min(s-40,this.maxHeight)):(this.preferredOpenDirection="above",this.optimizedHeight=Math.min(t-40,this.maxHeight))}}},Bl={data(){return{pointer:0,pointerDirty:!1}},props:{showPointer:{type:Boolean,default:!0},optionHeight:{type:Number,default:40}},computed:{pointerPosition(){return this.pointer*this.optionHeight},visibleElements(){return this.optimizedHeight/this.optionHeight}},watch:{filteredOptions(){this.pointerAdjust()},isOpen(){this.pointerDirty=!1},pointer(){this.$refs.search&&this.$refs.search.setAttribute("aria-activedescendant",this.id+"-"+this.pointer.toString())}},methods:{optionHighlight(t,s){return{"multiselect__option--highlight":t===this.pointer&&this.showPointer,"multiselect__option--selected":this.isSelected(s)}},groupHighlight(t,s){if(!this.groupSelect)return["multiselect__option--disabled",{"multiselect__option--group":s.$isLabel}];const o=this.options.find(e=>e[this.groupLabel]===s.$groupLabel);return o&&!this.wholeGroupDisabled(o)?["multiselect__option--group",{"multiselect__option--highlight":t===this.pointer&&this.showPointer},{"multiselect__option--group-selected":this.wholeGroupSelected(o)}]:"multiselect__option--disabled"},addPointerElement({key:t}="Enter"){this.filteredOptions.length>0&&this.select(this.filteredOptions[this.pointer],t),this.pointerReset()},pointerForward(){this.pointer<this.filteredOptions.length-1&&(this.pointer++,this.$refs.list.scrollTop<=this.pointerPosition-(this.visibleElements-1)*this.optionHeight&&(this.$refs.list.scrollTop=this.pointerPosition-(this.visibleElements-1)*this.optionHeight),this.filteredOptions[this.pointer]&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerForward()),this.pointerDirty=!0},pointerBackward(){this.pointer>0?(this.pointer--,this.$refs.list.scrollTop>=this.pointerPosition&&(this.$refs.list.scrollTop=this.pointerPosition),this.filteredOptions[this.pointer]&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerBackward()):this.filteredOptions[this.pointer]&&this.filteredOptions[0].$isLabel&&!this.groupSelect&&this.pointerForward(),this.pointerDirty=!0},pointerReset(){!this.closeOnSelect||(this.pointer=0,this.$refs.list&&(this.$refs.list.scrollTop=0))},pointerAdjust(){this.pointer>=this.filteredOptions.length-1&&(this.pointer=this.filteredOptions.length?this.filteredOptions.length-1:0),this.filteredOptions.length>0&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerForward()},pointerSet(t){this.pointer=t,this.pointerDirty=!0}}},Jt={name:"vue-multiselect",mixins:[kl,Bl],props:{name:{type:String,default:""},modelValue:{type:null,default(){return[]}},selectLabel:{type:String,default:"Press enter to select"},selectGroupLabel:{type:String,default:"Press enter to select group"},selectedLabel:{type:String,default:"Selected"},deselectLabel:{type:String,default:"Press enter to remove"},deselectGroupLabel:{type:String,default:"Press enter to deselect group"},showLabels:{type:Boolean,default:!0},limit:{type:Number,default:99999},maxHeight:{type:Number,default:300},limitText:{type:Function,default:t=>`and ${t} more`},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},openDirection:{type:String,default:""},showNoOptions:{type:Boolean,default:!0},showNoResults:{type:Boolean,default:!0},tabindex:{type:Number,default:0}},computed:{isSingleLabelVisible(){return(this.singleValue||this.singleValue===0)&&(!this.isOpen||!this.searchable)&&!this.visibleValues.length},isPlaceholderVisible(){return!this.internalValue.length&&(!this.searchable||!this.isOpen)},visibleValues(){return this.multiple?this.internalValue.slice(0,this.limit):[]},singleValue(){return this.internalValue[0]},deselectLabelText(){return this.showLabels?this.deselectLabel:""},deselectGroupLabelText(){return this.showLabels?this.deselectGroupLabel:""},selectLabelText(){return this.showLabels?this.selectLabel:""},selectGroupLabelText(){return this.showLabels?this.selectGroupLabel:""},selectedLabelText(){return this.showLabels?this.selectedLabel:""},inputStyle(){return this.searchable||this.multiple&&this.modelValue&&this.modelValue.length?this.isOpen?{width:"100%"}:{width:"0",position:"absolute",padding:"0"}:""},contentStyle(){return this.options.length?{display:"inline-block"}:{display:"block"}},isAbove(){return this.openDirection==="above"||this.openDirection==="top"?!0:this.openDirection==="below"||this.openDirection==="bottom"?!1:this.preferredOpenDirection==="above"},showSearchInput(){return this.searchable&&(this.hasSingleSelectedSlot&&(this.visibleSingleValue||this.visibleSingleValue===0)?this.isOpen:!0)}}};const Ll={ref:"tags",class:"multiselect__tags"},Il={class:"multiselect__tags-wrap"},Ol={class:"multiselect__spinner"},Tl={key:0},Fl={class:"multiselect__option"},Ql={class:"multiselect__option"},Nl=Ce("No elements found. Consider changing the search query."),Vl={class:"multiselect__option"},Kl=Ce("List is empty.");function Ul(t,s,o,e,f,b){return m(),le("div",{tabindex:t.searchable?-1:o.tabindex,class:[{"multiselect--active":t.isOpen,"multiselect--disabled":o.disabled,"multiselect--above":b.isAbove},"multiselect"],onFocus:s[14]||(s[14]=v=>t.activate()),onBlur:s[15]||(s[15]=v=>t.searchable?!1:t.deactivate()),onKeydown:[s[16]||(s[16]=Be(ie(v=>t.pointerForward(),["self","prevent"]),["down"])),s[17]||(s[17]=Be(ie(v=>t.pointerBackward(),["self","prevent"]),["up"]))],onKeypress:s[18]||(s[18]=Be(ie(v=>t.addPointerElement(v),["stop","self"]),["enter","tab"])),onKeyup:s[19]||(s[19]=Be(v=>t.deactivate(),["esc"])),role:"combobox","aria-owns":"listbox-"+t.id},[pe(t.$slots,"caret",{toggle:t.toggle},()=>[V("div",{onMousedown:s[1]||(s[1]=ie(v=>t.toggle(),["prevent","stop"])),class:"multiselect__select"},null,32)]),pe(t.$slots,"clear",{search:t.search}),V("div",Ll,[pe(t.$slots,"selection",{search:t.search,remove:t.removeElement,values:b.visibleValues,isOpen:t.isOpen},()=>[q(V("div",Il,[(m(!0),le(Ue,null,Ge(b.visibleValues,(v,y)=>pe(t.$slots,"tag",{option:v,search:t.search,remove:t.removeElement},()=>[(m(),le("span",{class:"multiselect__tag",key:y},[V("span",{textContent:l(t.getOptionLabel(v))},null,8,["textContent"]),V("i",{tabindex:"1",onKeypress:Be(ie(B=>t.removeElement(v),["prevent"]),["enter"]),onMousedown:ie(B=>t.removeElement(v),["prevent"]),class:"multiselect__tag-icon"},null,40,["onKeypress","onMousedown"])]))])),256))],512),[[Ze,b.visibleValues.length>0]]),t.internalValue&&t.internalValue.length>o.limit?pe(t.$slots,"limit",{key:0},()=>[V("strong",{class:"multiselect__strong",textContent:l(o.limitText(t.internalValue.length-o.limit))},null,8,["textContent"])]):A("v-if",!0)]),V(Ft,{name:"multiselect__loading"},{default:ue(()=>[pe(t.$slots,"loading",{},()=>[q(V("div",Ol,null,512),[[Ze,o.loading]])])]),_:3}),t.searchable?(m(),le("input",{key:0,ref:"search",name:o.name,id:t.id,type:"text",autocomplete:"off",spellcheck:"false",placeholder:t.placeholder,style:b.inputStyle,value:t.search,disabled:o.disabled,tabindex:o.tabindex,onInput:s[2]||(s[2]=v=>t.updateSearch(v.target.value)),onFocus:s[3]||(s[3]=ie(v=>t.activate(),["prevent"])),onBlur:s[4]||(s[4]=ie(v=>t.deactivate(),["prevent"])),onKeyup:s[5]||(s[5]=Be(v=>t.deactivate(),["esc"])),onKeydown:[s[6]||(s[6]=Be(ie(v=>t.pointerForward(),["prevent"]),["down"])),s[7]||(s[7]=Be(ie(v=>t.pointerBackward(),["prevent"]),["up"])),s[9]||(s[9]=Be(ie(v=>t.removeLastElement(),["stop"]),["delete"]))],onKeypress:s[8]||(s[8]=Be(ie(v=>t.addPointerElement(v),["prevent","stop","self"]),["enter"])),class:"multiselect__input","aria-controls":"listbox-"+t.id},null,44,["name","id","placeholder","value","disabled","tabindex","aria-controls"])):A("v-if",!0),b.isSingleLabelVisible?(m(),le("span",{key:1,class:"multiselect__single",onMousedown:s[10]||(s[10]=ie((...v)=>t.toggle&&t.toggle(...v),["prevent"]))},[pe(t.$slots,"singleLabel",{option:b.singleValue},()=>[Ce(l(t.currentOptionLabel),1)])],32)):A("v-if",!0),b.isPlaceholderVisible?(m(),le("span",{key:2,class:"multiselect__placeholder",onMousedown:s[11]||(s[11]=ie((...v)=>t.toggle&&t.toggle(...v),["prevent"]))},[pe(t.$slots,"placeholder",{},()=>[Ce(l(t.placeholder),1)])],32)):A("v-if",!0)],512),V(Ft,{name:"multiselect"},{default:ue(()=>[q(V("div",{class:"multiselect__content-wrapper",onFocus:s[12]||(s[12]=(...v)=>t.activate&&t.activate(...v)),tabindex:"-1",onMousedown:s[13]||(s[13]=ie(()=>{},["prevent"])),style:{maxHeight:t.optimizedHeight+"px"},ref:"list"},[V("ul",{class:"multiselect__content",style:b.contentStyle,role:"listbox",id:"listbox-"+t.id},[pe(t.$slots,"beforeList"),t.multiple&&t.max===t.internalValue.length?(m(),le("li",Tl,[V("span",Fl,[pe(t.$slots,"maxElements",{},()=>[Ce("Maximum of "+l(t.max)+" options selected. First remove a selected option to select another.",1)])])])):A("v-if",!0),!t.max||t.internalValue.length<t.max?(m(!0),le(Ue,{key:1},Ge(t.filteredOptions,(v,y)=>(m(),le("li",{class:"multiselect__element",key:y,id:t.id+"-"+y,role:v&&(v.$isLabel||v.$isDisabled)?null:"option"},[v&&(v.$isLabel||v.$isDisabled)?A("v-if",!0):(m(),le("span",{key:0,class:[t.optionHighlight(y,v),"multiselect__option"],onClick:ie(B=>t.select(v),["stop"]),onMouseenter:ie(B=>t.pointerSet(y),["self"]),"data-select":v&&v.isTag?t.tagPlaceholder:b.selectLabelText,"data-selected":b.selectedLabelText,"data-deselect":b.deselectLabelText},[pe(t.$slots,"option",{option:v,search:t.search,index:y},()=>[V("span",null,l(t.getOptionLabel(v)),1)])],42,["onClick","onMouseenter","data-select","data-selected","data-deselect"])),v&&(v.$isLabel||v.$isDisabled)?(m(),le("span",{key:1,"data-select":t.groupSelect&&b.selectGroupLabelText,"data-deselect":t.groupSelect&&b.deselectGroupLabelText,class:[t.groupHighlight(y,v),"multiselect__option"],onMouseenter:ie(B=>t.groupSelect&&t.pointerSet(y),["self"]),onMousedown:ie(B=>t.selectGroup(v),["prevent"])},[pe(t.$slots,"option",{option:v,search:t.search,index:y},()=>[V("span",null,l(t.getOptionLabel(v)),1)])],42,["data-select","data-deselect","onMouseenter","onMousedown"])):A("v-if",!0)],8,["id","role"]))),128)):A("v-if",!0),q(V("li",null,[V("span",Ql,[pe(t.$slots,"noResult",{search:t.search},()=>[Nl])])],512),[[Ze,o.showNoResults&&t.filteredOptions.length===0&&t.search&&!o.loading]]),q(V("li",null,[V("span",Vl,[pe(t.$slots,"noOptions",{},()=>[Kl])])],512),[[Ze,o.showNoOptions&&t.options.length===0&&!t.search&&!o.loading]]),pe(t.$slots,"afterList")],12,["id"])],36),[[Ze,t.isOpen]])]),_:3})],42,["tabindex","aria-owns"])}Jt.render=Ul;const Ml="/assets/file-picker-cross-icon.d8abf5bd.svg";const{t:ze}=St.global,Wl={name:"Season",components:{Calender:yt,VueMultiselect:Jt,SearchVideo:Vt,WatchStream:Ut,PopUpModal:gt},props:{site_language:String,seasonId:Number,saveIdList:Object},mixins:[vt,Xe,Ye,_t],emits:["updatedMenu","selectedId","isEditOn"],setup(t,{emit:s}){const o=i(!1),e=mt(),f=pt(),b=i(e.params.id),v=i(!0),y=i([]),B=i(!1),h=i(null),n=i([]),r=new wt,E=new Et,J=i([]),W=i([]),P=i([]),$=i([]),ee=i([]),ce=i([]),oe=i([]),he=i(!1),c=ta({title:"",season_no:"",release_date:"",release_date_to:"",total_episode:1,plot:"",aka:"",search_key:"",news_key:"",selected_channels:[],selected_connections:[]}),Ae=i(""),fe=i(""),Me=i(""),O=i(null),T=i([]),K=i([]),Z=i([]),ve=i([]),w=i([]),ge=i([]);i([]),i([]);const Le=i(0),j=i({}),De=i(!1),te=i("tv"),Ie=i(""),_e=i(0),ye=i(""),We=i("MM.DD.YYYY"),Oe=i(e.params.type=="internal"?e.params.external_id:""),Pe=i(""),Fe=i(!1),Qe=i(null),Ne=i("");Ct(()=>{var F,R,ae,ne,Se;e.params.type=="internal"&&(Fe.value=!0);const u=JSON.parse(localStorage.getItem("draft_ids")||"[]");u[0]?b.value=((F=u[0])==null?void 0:F.primaryDetails[te.value])&&((ae=(R=u[0])==null?void 0:R.primaryDetails[te.value][t.site_language])==null?void 0:ae.draft_request_id)?(Se=(ne=u[0])==null?void 0:ne.primaryDetails[te.value][t.site_language])==null?void 0:Se.draft_request_id:"":b.value=b.value,Ve()}),Je(()=>t.site_language,function(u,F){var R,ae,ne,Se,Q;if(u&&u!=F){const N=JSON.parse(localStorage.getItem("draft_ids")||"[]");N[0]?b.value=((R=N[0])==null?void 0:R.primaryDetails[te.value])&&((ne=(ae=N[0])==null?void 0:ae.primaryDetails[te.value][t.site_language])==null?void 0:ne.draft_request_id)?(Q=(Se=N[0])==null?void 0:Se.primaryDetails[te.value][t.site_language])==null?void 0:Q.draft_request_id:"":b.value=b.value,Ve()}});const Ve=()=>{let u;e.params.type=="internal"?u=E.getSeasonList(Oe.value,t.site_language,b.value):u=r.getSeasonDetails(b.value,t.site_language),(b.value||Oe.value)&&u.then(F=>{F.status==200?J.value=F.data.results:J.value=[]}).catch(F=>{})},ke=async(u,F,R,ae)=>{var Se;let ne;e.params.type=="internal"?ne=E.getEditTVSeasonDetails(Oe.value,F,b.value,u,t.site_language):ne=r.seasonDetails(t.site_language,b.value,u,R,ae);try{let Q=await ne;Q&&(p(),G(),C(),U()),v.value=!1,Pe.value=Q.data.season_id,c.season_no=Q.data.season_no,c.title=Q.data.season_name,c.total_episode=Q.data.total_episode,c.release_date=Q.data.release_date,c.release_date_to=Q.data.release_date_to,c.plot=Q.data.plot,_e.value=(Se=c.plot)==null?void 0:Se.length,c.aka=Q.data.aka,c.search_key=Q.data.search_keyword_details?Q.data.search_keyword_details.map(N=>N.search_keyword).join(","):[],c.news_key=Q.data.news_keyword_details?Q.data.news_keyword_details.map(N=>N.news_keyword).join(","):"",O.value=Q.data.display_image,Ae.value=Q.data.tmdb_season_name,Me.value=Q.data.tmdb_plot,fe.value=Q.data.tmdb_aka,W.value=Q.data.getstream_list?Q.data.getstream_list:[],Array.from(W.value).forEach(N=>{e.params.type=="internal"?ee.value.push({ott_provider_id:N.provider_id,ott_provider_provided_id:N.movie_id,id:N.id}):ee.value.push({ott_provider_id:N.provider_id,ott_provider_provided_id:N.movie_id})}),P.value=Q.data.getrent_list?Q.data.getrent_list:[],Array.from(P.value).forEach(N=>{e.params.type=="internal"?ce.value.push({ott_provider_id:N.provider_id,ott_provider_provided_id:N.movie_id,id:N.id}):ce.value.push({ott_provider_id:N.provider_id,ott_provider_provided_id:N.movie_id})}),$.value=Q.data.getbuy_list?Q.data.getbuy_list:[],Array.from($.value).forEach(N=>{e.params.type=="internal"?oe.value.push({ott_provider_id:N.provider_id,ott_provider_provided_id:N.movie_id,id:N.id}):oe.value.push({ott_provider_id:N.provider_id,ott_provider_provided_id:N.movie_id})}),Ie.value=Q.data.request_season_id?Q.data.request_season_id:[],Array.from(Q.data.getChannel_list).forEach(N=>{y.value.push({name:N.tv_network_name,tv_id:N.tv_network_id})}),e.params.type=="internal"?Array.from(Q.data.getChannel_list).forEach(N=>{c.selected_channels.push({id:N.id,tv_network_id:N.tv_network_id})}):c.selected_channels=Q.data.getChannel_list?Q.data.getChannel_list.map(N=>N.tv_network_id):[]}catch(Q){console.warn(Q)}},at=u=>{let F=u.target.files[0];/(\.jpg|\.jpeg|\.png)$/i.exec(F.name)?Math.round(F.size/1024/1024)>25?(ye.value=ze("Error.uploadFileSize"),document.querySelector("#img-upload").value=""):(ye.value="",Ne.value=F.name,O.value={image_file:F,image_url:URL.createObjectURL(F)}):(ye.value=ze("Error.onlyJpg"),document.querySelector("#img-upload").value="")},st=()=>{O.value=null,Ne.value="",document.querySelector("#img-upload").files=[]},it=u=>{const F=(R,ae)=>{let ne;return ne=(ae.getFullYear()-R.getFullYear())*12,ne-=R.getMonth(),ne+=ae.getMonth(),ne<=0?0:ne};J.value.length>0?J.value.map(R=>{R.release_date?F(new Date(R.release_date),new Date(u))>0?(c.release_date=u,j.value.release_date=i("")):(c.release_date="",j.value.release_date=ct(()=>ze("Error.properReleaseDate"))):c.release_date=u}):c.release_date=u},xe=u=>c.release_date_to=u,_=u=>{u=="add"&&c.total_episode<999&&c.total_episode++,u=="sub"&&c.total_episode>1&&c.total_episode--},p=async()=>{try{let u=await r.getSeasonOTTList(t.site_language,te.value);T.value=u.data.results}catch(u){console.warn("OTT-ERROR",u)}},C=async()=>{try{let u=await r.getSeasonOTTList(t.site_language,te.value);K.value=u.data.results}catch(u){console.warn("OTT-ERROR",u)}},U=async()=>{try{let u=await r.getSeasonOTTList(t.site_language,te.value);Z.value=u.data.results}catch(u){console.warn("OTT-ERROR",u)}},G=async()=>{try{let u=await r.getChannelList();Array.from(u.data.results).forEach(F=>n.value.push({name:F.network_name,tv_id:F.tv_network_id}))}catch(u){console.warn(u)}},z=u=>{if(Qe.value=u,u==null)return;let F=Number(u);if(!c.selected_channels.includes(F)){e.params.type=="internal"?c.selected_channels.push({tv_network_id:F,id:""}):c.selected_channels.push(F);let R=n.value.find(ae=>ae.tv_id==F);y.value.push(R)}},we=u=>{let F=y.value.findIndex(R=>R.tv_id==u);if(F>-1&&y.value.splice(F,1),e.params.type=="internal"){let R=c.selected_channels.findIndex(ae=>ae.tv_network_id==u);R>-1&&c.selected_channels.splice(R,1)}else{let R=c.selected_channels.findIndex(ae=>ae==u);R>-1&&c.selected_channels.splice(R,1)}document.querySelector("#channel").selectedIndex=0,console.log(c.selected_channels)},Ee=()=>{Fe.value=!1,s("isEditOn",!1)},Re=()=>{Ie.value="",Pe.value="",v.value=!1,p(),G(),C(),U(),be()},Te=()=>{if(c.season_no&&(isNaN(c.season_no)?j.value.season_number=ct(()=>ze("Error.onlyNumberReq")):j.value.season_number=i("")),c.season_no==""&&!/[0-9]+/.test(c.season_no)&&(j.value.season_number=ct(()=>ze("Error.seasonNumber"))),c.title==""?j.value.season_title=ct(()=>ze("Error.seasonTitle")):j.value.season_title=i(""),Object.values(j.value).filter(u=>u.length>0).length!=0)return window.scroll({top:0,left:0,behavior:"smooth"}),!1;De.value=!0},L=async()=>{var ae,ne,Se,Q,N,lt,ot,nt,rt;let u=new FormData;const F=JSON.parse(localStorage.getItem("draft_ids")||"[]");F[0]&&e.params.type=="internal"&&(b.value=((ae=F[0])==null?void 0:ae.primaryDetails[te.value])&&((Se=(ne=F[0])==null?void 0:ne.primaryDetails[te.value][t.site_language])==null?void 0:Se.draft_request_id)?(N=(Q=F[0])==null?void 0:Q.primaryDetails[te.value][t.site_language])==null?void 0:N.draft_request_id:(lt=F[0])!=null&&lt.primaryDetails[te.value].draft_relation_id?(ot=F[0])==null?void 0:ot.primaryDetails[te.value].draft_relation_id:""),e.params.type=="internal"&&(u.append("title_id",Oe.value),u.append("season_id",Pe.value)),O.value==null?u.append("image_action",""):(nt=O.value)!=null&&nt.image_file?(u.append("image",O.value.image_file),u.append("image_action","")):u.append("image_action","unchanged"),u.append("site_language",t.site_language),u.append("draft_request_id",b.value?Number(b.value):0),u.append("draft_season_id",Ie.value),u.append("season_no",c.season_no),u.append("season_name",c.title),c.release_date&&u.append("release_date",c.release_date),c.release_date_to&&u.append("release_date_to",c.release_date_to),u.append("episode_count",c.total_episode),u.append("search_keyword",c.search_key),u.append("summary",c.plot),u.append("aka",c.aka),u.append("news_search_keyword",c.news_key),c.selected_channels.forEach((se,me)=>u.append(`channel[${me}]`,JSON.stringify(se))),ee.value.forEach((se,me)=>u.append(`watch_on_stream[${me}]`,JSON.stringify(se))),ce.value.forEach((se,me)=>u.append(`watch_on_rent[${me}]`,JSON.stringify(se))),oe.value.forEach((se,me)=>u.append(`watch_on_buy[${me}]`,JSON.stringify(se)));let R;e.params.type=="internal"?R=E.editSeasonDeatils(u):R=r.addSeasonDeatils(u);try{let se=await R;if(j.value={},se.status==200){if(t.saveIdList.season_id=se.data.data[0].draft_season_id,b.value=se.data.data[0].draft_request_id,s("selectedId",t.saveIdList),De.value=!1,v.value=!0,ee.value=[],ce.value=[],oe.value=[],c.selected_channels=[],c.selected_connections=[],y.value=[],Ve(),e.params.type=="internal"){Fe.value=!0,s("isEditOn",!0);const me=JSON.parse(localStorage.getItem("draft_ids")||"[]");if(me[0])((rt=me[0].primaryDetails[te.value][t.site_language])==null?void 0:rt.draft_request_id)||(me[0].primaryDetails[te.value][t.site_language]=se.data.data[0]);else{const dt={primaryDetails:{[te.value]:{[t.site_language]:{draft_request_id:se.data.data[0].draft_request_id},draft_relation_id:se.data.data[0].draft_request_id}}};me.push(dt)}localStorage.setItem("draft_ids",JSON.stringify(me)),f.push(`/add-tv-details/${Oe.value}/internal/${se.data.data[0].draft_request_id}`)}}else se.response.status==400&&(je.fire({title:se.response.data.error}),De.value=!1)}catch(se){console.log(se)}},be=()=>{c.season_no="",c.title="",c.release_date="",c.release_date_to="",c.total_episode=1,c.plot="",c.aka="",c.search_key="",c.news_key="",c.selected_channels=[],ee.value=[],ce.value=[],oe.value=[],O.value=null,y.value=[],W.value=[],P.value=[],$.value=[],_e.value=0,document.querySelector("#channel").selectedIndex=0,Le.value++,setTimeout(()=>{he.value=!1},200)};return{deleteSeasonData:be,getWatchBuyList:u=>{oe.value=u},getWatchRentList:u=>{ce.value=u},getWatchStreamList:u=>{ee.value=u},removeChannelNames:we,removeImage:st,changeEpisodeNumber:_,selectedChannels:z,getInitialDate:it,getLastDate:xe,getThumbnailImage:at,showSec:v,addSeason:L,addNewSeaon:Re,channelValue:y,tooltipHover:B,selected:h,channelOptions:n,seasonRequestList:J,seasonOttList:T,toogleStream:o,selectedStream:ve,selectedRent:w,selectedBuy:ge,seasonData:c,thumbnailImage:O,getstream_list:W,getrent_list:P,getbuy_list:$,watch_on_stream:ee,watch_on_rent:ce,watch_on_buy:oe,resetComponents:Le,deleteWatch:he,tmdb_name:Ae,tmdb_aka:fe,tmdb_plot:Me,error:j,seasonDetailsEdit:ke,isSubmit:De,addSeasonModal:Te,seasonOttRentList:K,seasonOttBuyList:Z,remainingCount:_e,countdown:()=>{_e.value=c.plot.length},imgErr:ye,datePlaceholder:We,isCharWithComma:vt,isIntegerNumber:Xe,isCharWithSpeailChar:Ye,isCharWithCommaNumber:_t,routeId:b,isEdit:Fe,isEditBtn:Ee,channel_id:Qe,fileName:Ne}}},jt=t=>(Wt("data-v-ca0784b2"),t=t(),Pt(),t),Pl={key:0,class:"primary-details-from"},Rl={class:"page-heading-area page-main-heading"},ql={class:"login-wrap"},Hl={class:"custom-table-wrapper"},Jl={class:"custom-table tv-show-table"},jl={class:"table-head"},Gl={class:"table-head-row"},xl={class:"table-head-cell"},zl={class:"table-head-cell"},Zl={class:"table-head-cell"},Xl={class:"table-head-cell"},Yl={class:"table-body"},$l=["onClick"],eo={class:"table-body-cell"},to={class:"cell-name"},ao={class:"table-body-cell"},so={class:"cell-name"},io={class:"table-body-cell"},lo={class:"cell-name"},oo={class:"table-body-cell"},no={class:"cell-name"},ro=["disabled"],uo={key:1,class:"primary-details-from"},co={class:"page-heading-area"},vo={class:"login-wrap"},_o={class:"box"},ho={class:"divRows"},go={class:"div1colmns"},mo={class:"form-group"},po=["placeholder","disabled"],Ao={class:"error-txt"},fo={class:"instruction-text"},bo={class:"divRows"},yo={class:"heads-area"},wo={class:"div1colmns"},Eo={class:"form-group"},So=["placeholder","disabled"],Co={class:"error-txt"},Do={class:"text-hint"},ko={class:"divRows"},Bo={class:"div1colmns"},Lo={class:"form-group image-uploader"},Io=["placeholder","disabled"],Oo={class:"img-display"},To=["src"],Fo={class:"error-txt"},Qo={class:"divRows"},No={class:"div1colmns two-calender"},Vo={class:"error-txt"},Ko={class:"divRows"},Uo={class:"div1colmns"},Mo={class:"form-group"},Wo={class:"number-input"},Po=["disabled"],Ro=["disabled"],qo={class:"divRows"},Ho={class:"div1colmns"},Jo={class:"form-group"},jo=["placeholder","disabled"],Go={class:"divRows"},xo={class:"div1colmns"},zo={class:"form-group"},Zo=["placeholder","disabled"],Xo={class:"numbers"},Yo={class:"text-hint"},$o={class:"divRows"},en={class:"heads-area"},tn=jt(()=>a("img",{src:Nt,alt:"question"},null,-1)),an=[tn],sn={class:"div1colmns"},ln={class:"form-group"},on=["placeholder","disabled"],nn={class:"text-hint"},rn={class:"divRows"},dn={class:"div1colmns"},un={class:"togglewatch-area"},cn={class:"form-group"},vn={class:"selectTags-area"},_n={class:"icon-txt"},hn=["onClick"],gn={class:"divRows"},mn={class:"div1colmns"},pn={class:"form-group"},An=["placeholder","disabled"],fn=jt(()=>a("div",{class:"divider"},null,-1)),bn={class:"divRows"},yn={class:"div1colmns"},wn={class:"togglewatch-area"},En={class:"form-group"},Sn={class:"divRows"},Cn={class:"div1colmns"},Dn={class:"togglewatch-area"},kn={class:"form-group"},Bn={class:"divRows"},Ln={class:"div1colmns"},In={class:"togglewatch-area"},On={class:"form-group"},Tn={class:"btn-grp"},Fn=["disabled"],Qn={class:"new-cast-modal center-popup-modal"},Nn=["innerHTML"],Vn={class:"button-group"};function Kn(t,s,o,e,f,b){var n;const v=de("Calender"),y=de("SearchDropdown"),B=de("WatchStream"),h=de("PopUpModal");return m(),k(Ue,null,[e.showSec?(m(),k("div",Pl,[a("div",Rl,[a("h2",null,l(t.$t("season.season")),1)]),a("div",ql,[a("div",Hl,[a("div",Jl,[a("div",jl,[a("div",Gl,[a("div",xl,l(t.$t("season.seasonNo")),1),a("div",zl,l(t.$t("season.seasonName")),1),a("div",Zl,l(t.$t("season.noOfEpisodes")),1),a("div",Xl,l(t.$t("season.releaseDate")),1)])]),a("div",Yl,[(m(!0),k(Ue,null,Ge(e.seasonRequestList,({season_no:r,season_name:E,total_episode:J,release_date:W,draft_season_id:P,season_id:$,tmdb_id:ee},ce)=>(m(),k("div",{class:"table-body-row",key:ce,onClick:oe=>e.seasonDetailsEdit(P,$,ee,r)},[a("div",eo,[a("span",to,l(t.$t("season.seasonNo")),1),Ce(l(r),1)]),a("div",ao,[a("span",so,l(t.$t("season.seasonName")),1),Ce(l(E),1)]),a("div",io,[a("span",lo,l(t.$t("season.noOfEpisodes")),1),Ce(l(J),1)]),a("div",oo,[a("span",no,l(t.$t("season.releaseDate")),1),Ce(l(W),1)])],8,$l))),128))])])]),a("button",{class:I(["add-season-btn",e.routeId==""&&t.$route.params.type!="internal"?"isDisabled":""]),onClick:s[0]||(s[0]=(...r)=>e.addNewSeaon&&e.addNewSeaon(...r)),disabled:e.routeId==""&&t.$route.params.type!="internal"},l(t.$t("season.+addNewSeason")),11,ro),A(' <button class="save-button">Save</button> ')])])):(m(),k("div",uo,[a("div",co,[a("h2",null,l(t.$t("season.addNewSeason")),1)]),a("div",vo,[a("div",_o,[a("form",{onSubmit:s[18]||(s[18]=ie(()=>{},["prevent"]))},[a("div",ho,[a("h3",null,l(t.$t("season.seasonNo")),1),a("div",go,[a("div",mo,[q(a("input",{type:"text",class:I(["form-control",e.error.season_number?"error-border":""]),placeholder:t.$t("season.seasonNumber"),"onUpdate:modelValue":s[1]||(s[1]=r=>e.seasonData.season_no=r),onKeypress:s[2]||(s[2]=r=>e.isIntegerNumber(r)),maxlength:"3",disabled:e.isEdit},null,42,po),[[Y,e.seasonData.season_no]]),a("span",Ao,l(e.error.season_number),1),a("p",fo,l(t.$t("season.seasonRegularseason")),1)])])]),a("div",bo,[a("div",yo,[a("h3",null,l(t.$t("season.seasonName")),1)]),a("div",wo,[a("div",Eo,[q(a("input",{type:"text",class:I(["form-control",e.error.season_title?"error-border":""]),placeholder:t.$t("season.seasonTitle"),"onUpdate:modelValue":s[3]||(s[3]=r=>e.seasonData.title=r),maxlength:"150",disabled:e.isEdit},null,10,So),[[Y,e.seasonData.title]]),a("span",Co,l(e.error.season_title),1)]),a("div",Do,[a("p",null,l(t.$t("addNewPeople.primaryDetails.tmdb"))+" : "+l(e.tmdb_name),1)])])]),a("div",ko,[a("h3",null,l(t.$t("season.displayImage")),1),a("div",Bo,[a("div",Lo,[a("input",{type:"file",id:"img-upload",class:"form-control",placeholder:t.$t("season.imageName"),onChange:s[4]||(s[4]=r=>e.getThumbnailImage(r)),disabled:e.isEdit},null,40,Io),a("p",{class:I([e.imgErr?"error-border":"","file-name"])},l(e.fileName?e.fileName:t.$t("season.imageName")),3),a("label",{for:"img-upload",class:I(["file-pick-btn",e.isEdit?"isDisabled":""])},l(t.$t("season.chooseImage")),3)]),q(a("div",Oo,[a("img",{src:((n=e.thumbnailImage)==null?void 0:n.image_url)||e.thumbnailImage,alt:"",class:"img-preview",id:"imgPreviewSeason"},null,8,To),a("img",{class:I([e.isEdit?"pointer-events-none":"","cross-icon"]),onClick:s[5]||(s[5]=(...r)=>e.removeImage&&e.removeImage(...r)),src:Ml,alt:""},null,2)],512),[[Ze,e.thumbnailImage]]),a("span",Fo,l(e.imgErr),1)])]),a("div",Qo,[a("h3",null,l(t.$t("filterCard.releaseDate")),1),a("div",No,[(m(),le(v,{onDate:e.getInitialDate,key:e.resetComponents,input_date:e.seasonData.release_date,datePlaceholder:e.datePlaceholder,disabled:e.isEdit,isError:!!e.error.release_date},null,8,["onDate","input_date","datePlaceholder","disabled","isError"])),A(" <span></span> "),A(` <Calender\r
                @date="getLastDate"\r
                :key="resetComponents"\r
                :input_date="seasonData.release_date_to"\r
                :disabled="seasonData.release_date ? false : true"\r
                :min_date="\r
                  seasonData.release_date ? seasonData.release_date : new Date()\r
                "\r
                :datePlaceholder="datePlaceholder"\r
              /> `)]),a("span",Vo,l(e.error.release_date),1)]),a("div",Ko,[a("h3",null,l(t.$t("season.numberOfTotalEpisode")),1),a("div",Uo,[a("div",Mo,[a("div",Wo,[A(` <button\r
                    onclick="this.parentNode.querySelector('input[type=number]').stepDown()"\r
                    class="minus"\r
                  ></button> `),a("button",{disabled:e.isEdit,onClick:s[6]||(s[6]=r=>e.changeEpisodeNumber("sub")),class:I(["minus",e.isEdit?"isDisabled":""])},null,10,Po),q(a("input",{class:"quantity form-control",min:"0",name:"quantity",id:"episode_num",type:"number","onUpdate:modelValue":s[7]||(s[7]=r=>e.seasonData.total_episode=r),disabled:""},null,512),[[Y,e.seasonData.total_episode]]),a("button",{disabled:e.isEdit,onClick:s[8]||(s[8]=r=>e.changeEpisodeNumber("add")),class:I(["plus",e.isEdit?"isDisabled":""])},null,10,Ro),A(` <button\r
                    onclick="this.parentNode.querySelector('input[type=number]').stepUp()"\r
                    class="plus"\r
                  ></button> `)]),A(' <span class="error-txt">hhhh</span> ')])])]),a("div",qo,[a("h3",null,l(t.$t("addNewPeople.primaryDetails.searchKeyword")),1),a("div",Ho,[a("div",Jo,[q(a("input",{type:"text",class:"form-control",placeholder:t.$t("season.typeKeyword"),"onUpdate:modelValue":s[9]||(s[9]=r=>e.seasonData.search_key=r),maxlength:"100",disabled:e.isEdit},null,8,jo),[[Y,e.seasonData.search_key]])])])]),a("div",Go,[a("h3",null,l(t.$t("season.plot")),1),a("div",xo,[a("div",zo,[q(a("textarea",{rows:"5",class:"form-control",placeholder:t.$t("season.typePlotSummary"),"onUpdate:modelValue":s[10]||(s[10]=r=>e.seasonData.plot=r),onKeyup:s[11]||(s[11]=(...r)=>e.countdown&&e.countdown(...r)),maxlength:"230",disabled:e.isEdit},null,40,Zo),[[Y,e.seasonData.plot]]),a("span",Xo,l(e.remainingCount)+"/230",1)]),a("div",Yo,[a("p",null,l(t.$t("addNewPeople.primaryDetails.tmdb"))+" : "+l(e.tmdb_plot),1)])])]),a("div",$o,[a("div",en,[a("h3",null,l(t.$t("addNewMoviesForm.AKA")),1),a("span",{onMouseover:s[12]||(s[12]=r=>e.tooltipHover=!0),onMouseleave:s[13]||(s[13]=r=>e.tooltipHover=!1)},an,32),A(' <div class="hoverTxt" v-if="tooltipHover">hello</div> ')]),a("div",sn,[a("div",ln,[q(a("input",{type:"test",class:"form-control",placeholder:t.$t("addNewMoviesForm.typeMovieAKA"),"onUpdate:modelValue":s[14]||(s[14]=r=>e.seasonData.aka=r),maxlength:"150",disabled:e.isEdit},null,8,on),[[Y,e.seasonData.aka]])]),a("div",nn,[a("p",null,l(t.$t("addNewPeople.primaryDetails.tmdb"))+" : "+l(e.tmdb_aka.toString()),1)])])]),a("div",rn,[a("h3",null,l(t.$t("season.channel")),1),a("div",dn,[a("div",un,[a("div",cn,[A(` <select\r
                    class="form-control"\r
                    @change="selectedChannels($event)"\r
                    id="channel"\r
                  >\r
                    <option selected value="">\r
                      {{ $t("season.selectChannels") }}\r
                    </option>\r
                    <option\r
                      v-for="(channel, index) in channelOptions"\r
                      :key="index"\r
                      :value="channel.tv_id"\r
                      :disabled="isEdit"\r
                    >\r
                      {{ channel.name }}\r
                    </option>\r
                  </select> `),V(y,{onDropdownValue:e.selectedChannels,search_type:e.channel_id,searchTitleListItem:e.channelOptions,searchtitle:"name",searchvalue:"tv_id",disabled:e.isEdit,labelItem:t.$t("season.selectChannels")},null,8,["onDropdownValue","search_type","searchTitleListItem","disabled","labelItem"])]),a("div",vn,[(m(!0),k(Ue,null,Ge(e.channelValue,(r,E)=>(m(),k("div",{class:"watchTags",key:E},[a("div",_n,[a("span",null,l(r.name),1)]),a("div",{class:I([e.isEdit?"isDisabled":"","corss"]),onClick:J=>e.removeChannelNames(r.tv_id)},[a("img",{src:Rt,class:I(e.isEdit?"pointer-events-none":"")},null,2)],10,hn)]))),128))])])])]),a("div",gn,[a("h3",null,l(t.$t("season.newsSearchKeyword")),1),a("div",mn,[a("div",pn,[q(a("input",{type:"text",class:"form-control",placeholder:t.$t("season.newsSearchKeyword"),"onUpdate:modelValue":s[15]||(s[15]=r=>e.seasonData.news_key=r),maxlength:"100",disabled:e.isEdit},null,8,An),[[Y,e.seasonData.news_key]])])])]),fn,a("div",bn,[a("h3",null,l(t.$t("season.watch")),1),a("div",yn,[a("div",wn,[a("div",En,[a("label",null,l(t.$t("season.stream")),1),(m(),le(B,{key:e.resetComponents,ottList:e.seasonOttList,onWatchInput:e.getWatchStreamList,selectText:t.$t("addNewMoviesForm.selectStream"),belowList:e.getstream_list,watchstream:e.watch_on_stream,isEdit:e.isEdit},null,8,["ottList","onWatchInput","selectText","belowList","watchstream","isEdit"]))])])])]),a("div",Sn,[a("div",Cn,[a("div",Dn,[a("div",kn,[a("label",null,l(t.$t("season.rent")),1),(m(),le(B,{key:e.resetComponents,ottList:e.seasonOttRentList,onWatchInput:e.getWatchRentList,selectText:t.$t("addNewMoviesForm.selectRent"),belowList:e.getrent_list,watchstream:e.watch_on_rent,isEdit:e.isEdit},null,8,["ottList","onWatchInput","selectText","belowList","watchstream","isEdit"]))])])])]),a("div",Bn,[a("div",Ln,[a("div",In,[a("div",On,[a("label",null,l(t.$t("season.buy")),1),(m(),le(B,{key:e.resetComponents,ottList:e.seasonOttBuyList,onWatchInput:e.getWatchBuyList,selectText:t.$t("addNewMoviesForm.selectOTTProvider"),belowList:e.getbuy_list,watchstream:e.watch_on_buy,isEdit:e.isEdit},null,8,["ottList","onWatchInput","selectText","belowList","watchstream","isEdit"]))])])])]),A(` <div class="divRows">\r
            <h3>Connections</h3>\r
            <div class="div1colmns nogap">\r
              <SearchVideo\r
                :key="resetComponents"\r
                @searchInput="getConnectionSearch"\r
                :list="connectionList"\r
                :connectionBelowList="belowListConnection"\r
                @connectionInput="getSearchInput"\r
                :connectionValue="seasonData.selected_connections"\r
              />\r
            </div>\r
          </div> `),a("div",Tn,[a("a",{href:"javascript:void(0)",class:"saveBtn",onClick:s[16]||(s[16]=r=>e.isEdit==!0?e.isEditBtn():e.addSeasonModal())},l(e.isEdit?t.$t("button.edit"):t.$t("button.save")),1),a("button",{class:I(["delete-btn",e.isEdit?"isDisabled":""]),type:"button",disabled:e.isEdit,onClick:s[17]||(s[17]=(...r)=>e.deleteSeasonData&&e.deleteSeasonData(...r))},l(t.$t("button.delete")),11,Fn)])],32)])])])),A(" submit modal "),a("div",Qn,[V(h,{isModal:e.isSubmit},{header:ue(()=>[a("h1",{class:"text-center",innerHTML:t.$t("addNewMoviesForm.youShouldSubmitToSendTheAdd")},null,8,Nn)]),body:ue(()=>[]),footer:ue(()=>[a("div",Vn,[a("button",{class:"black-outline-btn",onClick:s[19]||(s[19]=(...r)=>e.addSeason&&e.addSeason(...r))},l(t.$t("button.ok")),1),a("button",{class:"red-fill-btn",onClick:s[20]||(s[20]=r=>e.isSubmit=!1)},l(t.$t("button.cancel")),1)])]),_:1},8,["isModal"])])],64)}const Un=ht(Wl,[["render",Kn],["__scopeId","data-v-ca0784b2"],["__file","D:/11-db-frontend/11_db/src/components/AddNewTv/Season.vue"]]),Mn={name:"AddNewTVDetails",emits:["on-current-theme-change"],components:{LeftMenuPanel:Gt,PrimaryDetails:vi,MediaDetails:xt,CreditDetails:zt,TagsDetails:Zt,Episode:wl,Season:Un,PopUpModal:gt},setup(){const t=mt(),s=pt(),o=i(!1),e=i([]),f=i(""),b=new aa,v=new Kt,y=new Xt,B=i("primary"),h=i("tv"),n=i({}),r=i({}),E=i(!1),J=i(!1),W=i(t.params.id),P=i(!1),$=()=>{b.languageDropdown().then(O=>{O.status==200&&(e.value=O.data.results,f.value=localStorage.getItem("site_language")?localStorage.getItem("site_language"):e.value[0].language_code,e.value.forEach(T=>{T.language_name=T.language_name.charAt(0).toUpperCase()+T.language_name.slice(1)}),localStorage.setItem("site_language",f.value))}).catch(O=>{})},ee=O=>{f.value=O,localStorage.setItem("site_language",f.value)};return $(),{requiredId:r,languageList:e,language:f,saveIdList:n,getMenudata:O=>{B.value=O},getId:O=>{n.value=O,r.value={request_id:O.request_id,season_request_id:O.season_id,episode_request_id:O.episode_request_id}},menu:B,type:h,submitAllData:()=>{var K,Z,ve,w;let O;P.value=!0;const T=JSON.parse(localStorage.getItem("draft_ids")||"[]");T[0]?W.value=(Z=(K=T[0])==null?void 0:K.primaryDetails.tv)!=null&&Z.draft_relation_id?(w=(ve=T[0])==null?void 0:ve.primaryDetails.tv)==null?void 0:w.draft_relation_id:"":W.value=W.value,t.params.type=="internal"?O=y.submitData(W.value,t.params.external_id,"tv"):O=v.submitData(W.value),O.then(ge=>{ge.status==200?(J.value=!1,E.value=!0,P.value=!1,localStorage.removeItem("site_language"),localStorage.removeItem("draft_ids")):P.value=!1}).catch(ge=>{})},goPageBack:()=>{E.value=!1,s.push(localStorage.getItem("tvBackPage")?localStorage.getItem("tvBackPage"):"/add-new-tv"),localStorage.removeItem("tvBackPage")},submitData:()=>{J.value=!0},closeModal:()=>{J.value=!1,E.value=!1},isSubmit:J,isSuccess:E,issubmitAllData:P,getSelctedLang:ee,getEdit:O=>{o.value=!O},isEdittable:o}}},Wn={class:"add-new-movie-form"},Pn={class:"new-container"},Rn={class:"page-heads-area"},qn=["innerHTML"],Hn=["innerHTML"],Jn={class:"filter-section"},jn={class:"select-option"},Gn={class:"mypage-wrapper"},xn={class:"mypage-rght"},zn={class:"new-cast-modal center-popup-modal"},Zn={class:"cast-details"},Xn={class:"button-group"},Yn=["disabled"],$n={class:"new-cast-modal center-popup-modal"},er={class:"text-center"},tr={class:"button-group"};function ar(t,s,o,e,f,b){const v=de("Dropdown"),y=de("LeftMenuPanel"),B=de("PrimaryDetails"),h=de("MediaDetails"),n=de("Season"),r=de("Episode"),E=de("CreditDetails"),J=de("TagsDetails"),W=de("PopUpModal");return m(),k("div",null,[a("div",Wn,[a("div",Pn,[a("div",Rn,[t.$route.params.type!=="internal"?(m(),k("h1",{key:0,class:"heading",innerHTML:t.$t("header.addSection.addNewTvShows")},null,8,qn)):(m(),k("h1",{key:1,class:"heading",innerHTML:t.$t("tvShows.editTvShows.editTvShow")},null,8,Hn)),a("div",Jn,[a("div",jn,[A(` <select\r
                class="select-style"\r
                v-model="language"\r
                @change="getSelctedLang"\r
              >\r
                <option\r
                  v-for="(lang, index) in languageList"\r
                  :key="index"\r
                  :value="lang.language_code"\r
                >\r
                  {{\r
                    lang.language_name.charAt(0).toUpperCase() +\r
                    lang.language_name.slice(1)\r
                  }}\r
                </option>\r
              </select> `),V(v,{onDropdownValue:e.getSelctedLang,search_type:e.language,searchTitleListItem:e.languageList,searchtitle:"language_name",searchvalue:"language_code"},null,8,["onDropdownValue","search_type","searchTitleListItem"])])])]),a("div",Gn,[V(y,{onMovieMenudata:e.getMenudata,saveIdList:e.saveIdList,selectedMenu:e.menu,menuType:e.type,onSubmitData:e.submitData,onTabChanged:s[0]||(s[0]=P=>e.isEdittable=!1),isEdittable:e.isEdittable},null,8,["onMovieMenudata","saveIdList","selectedMenu","menuType","onSubmitData","isEdittable"]),a("div",xn,[e.languageList.length>0&&e.menu=="primary"?(m(),le(B,{key:0,site_language:e.language,onSelectedId:e.getId,onIsEditOn:e.getEdit},null,8,["site_language","onSelectedId","onIsEditOn"])):A("v-if",!0),e.languageList.length>0&&e.menu=="media"?(m(),le(h,{key:1,site_language:e.language,itemType:e.type,saveIdList:e.saveIdList,onSelectedId:e.getId,onIsEditOn:e.getEdit},null,8,["site_language","itemType","saveIdList","onSelectedId","onIsEditOn"])):A("v-if",!0),e.languageList.length>0&&e.menu=="season"?(m(),le(n,{key:2,site_language:e.language,saveIdList:e.saveIdList,onSelectedId:e.getId,onIsEditOn:e.getEdit},null,8,["site_language","saveIdList","onSelectedId","onIsEditOn"])):A("v-if",!0),A(` @updatedMenu="menu = 'episode'" `),e.languageList.length>0&&e.menu=="episode"?(m(),le(r,{key:3,site_language:e.language,requiredId:e.requiredId,saveIdList:e.saveIdList,onSelectedId:e.getId,onIsEditOn:e.getEdit},null,8,["site_language","requiredId","saveIdList","onSelectedId","onIsEditOn"])):A("v-if",!0),e.languageList.length>0&&e.menu=="credit"?(m(),le(E,{key:4,site_language:e.language,saveIdList:e.saveIdList,itemType:e.type,onSelectedId:e.getId,onIsEditOn:e.getEdit},null,8,["site_language","saveIdList","itemType","onSelectedId","onIsEditOn"])):A("v-if",!0),e.languageList.length>0&&e.menu=="tag"?(m(),le(J,{key:5,site_language:e.language,saveIdList:e.saveIdList,itemType:e.type,onSelectedId:e.getId,onIsEditOn:e.getEdit},null,8,["site_language","saveIdList","itemType","onSelectedId","onIsEditOn"])):A("v-if",!0)])])])]),A(" submit modal "),a("div",zn,[V(W,{isModal:e.isSubmit},{header:ue(()=>[a("h1",null,l(t.$t("addNewMoviesForm.confirmationOfSubmit")),1)]),body:ue(()=>[a("div",Zn,[a("p",null,l(t.$t("addNewMoviesForm.submitEditing")),1)])]),footer:ue(()=>[a("div",Xn,[a("button",{class:I(["black-outline-btn",e.issubmitAllData?"isDisabled":""]),onClick:s[1]||(s[1]=(...P)=>e.submitAllData&&e.submitAllData(...P)),disabled:e.issubmitAllData},l(t.$t("button.ok")),11,Yn),a("button",{class:"red-fill-btn",onClick:s[2]||(s[2]=(...P)=>e.closeModal&&e.closeModal(...P))},l(t.$t("button.cancel")),1)])]),_:1},8,["isModal"])]),A(" success modal "),a("div",$n,[V(W,{isModal:e.isSuccess},{header:ue(()=>[a("h1",er,l(t.$t("addNewPeople.submitSuccess")),1)]),body:ue(()=>[]),footer:ue(()=>[a("div",tr,[a("button",{class:"black-outline-btn",onClick:s[3]||(s[3]=(...P)=>e.goPageBack&&e.goPageBack(...P))},l(t.$t("button.ok")),1)])]),_:1},8,["isModal"])])])}const hr=ht(Mn,[["render",ar],["__file","D:/11-db-frontend/11_db/src/views/AddNewTV/AddNewTVDetails.vue"]]);export{hr as default};
