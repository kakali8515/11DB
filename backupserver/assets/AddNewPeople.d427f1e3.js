import{A as M}from"./AddNewMovieService.ec155d7b.js";import{A as F}from"./AddNewPeopleService.c5deff5f.js";import{_ as H,r as V,o as a,c as d,a as e,t as l,p as m,w as U,v as j,n as _,b as n,F as h,s as u,W as b,l as R,k,B as v}from"./index.3434c1c6.js";import{_ as g}from"./checkbox-unchecked.ede38fc3.js";import{_ as f}from"./checkbox-checked.c6ca7d68.js";const w="/assets/birthday.a37a8cd3.svg",q={name:"AddNewPeople",components:{},emits:["on-current-theme-change"],inject:["common"],data(){return{searchTitleList:"",search_type:"",search_text:"",sort_by:"newest",page:1,limit:20,chunkPage:{chunk:5},isSearch:!1,internal_data:[],tmdb_data:[],kobis_data:[],no_internal_people:!1,isTmdbData:!1,no_tmdb_people:!1,isKobisData:!1,no_Kobis_people:!1,total_internal_data:0,total_tmdb_data:0,total_kobis_data:0,isInterRadioButton:!1,isTmdbRadioButton:!1,isKobisRadioButton:!1,peopleId:"",searchTitleListItem:[],title_type:"people"}},created(){this.AddNewMovieService=new M,this.AddNewPeopleService=new F},watch:{"common.state.SelectedLang":function(t,i){t&&t!=i&&this.searchTitleDropdown()}},mounted(){localStorage.removeItem("site_language"),localStorage.removeItem("draft_ids"),this.searchTitleDropdown()},methods:{searchTitleDropdown(){this.searchTitleListItem=[],this.AddNewMovieService.getTitleSearchList(this.title_type).then(t=>{t.status==200&&(this.searchTitleList=t.data.search_by_list,this.search_type=Object.keys(this.searchTitleList)[0],Object.entries(this.searchTitleList).forEach(([i,y])=>{this.searchTitleListItem.push({serchvalue:`${i}`,searchtitle:`${y}`})}))}).catch(t=>{})},getDropdownValue(t){this.search_type=t},getPeople(t){this.sort_by=t,this.searchPeople()},getsearchPeople(){this.isSearch=!0,this.isTmdbData=!1,this.isKobisData=!1,this.page=1,this.searchPeople()},directSearch(t){(t.keyCode||t.which)==13&&(this.isSearch=!0,this.isTmdbData=!1,this.isKobisData=!1,this.page=1,this.searchPeople())},searchPeople(){this.search_text!=""&&this.AddNewPeopleService.searchPeople(this.search_type,this.search_text,this.sort_by,this.page,this.limit).then(t=>{t.status==200&&(this.internal_data=t.data.internal_data,this.tmdb_data=t.data.tmdb_data,this.kobis_data=t.data.kobis_data,this.total_internal_data=t.data.internal_data.total_records,this.total_tmdb_data=t.data.tmdb_data.total_records,this.total_kobis_data=t.data.kobis_data.total_records,this.internal_data.results.length==0&&(this.no_internal_people=!0),(!this.tmdb_data.results||!this.tmdb_data||this.tmdb_data.results.length==0)&&(this.no_tmdb_people=!0),(!this.kobis_data.results||!this.kobis_data||this.kobis_data.results.length==0)&&(this.no_Kobis_people=!0))}).catch(t=>{})},internalCheckbox(t){t.target.checked?this.no_internal_people=!0:this.no_internal_people=!1;let i=document.querySelector("input[type=radio][name=each-radio-movie]:checked");i&&(i.checked=!1),this.isInterRadioButton=!1},internalDataNext(){this.isInterRadioButton?(this.$router.push("/AddNewPeopleForm/"+this.peopleId+"/internal"),localStorage.setItem("peopleBackPage","/AddNewPeople")):(this.isTmdbData=!0,this.page=1,this.searchPeople())},clickInternalPage(t){this.page=t,this.searchPeople()},checkInternalRadioButton(t){this.isInterRadioButton=!0,this.no_internal_people=!0,this.$refs.internalCheckbox.checked=!1,this.peopleId=t},tmdbCheckbox(t){t.target.checked?this.no_tmdb_people=!0:this.no_tmdb_people=!1;let i=document.querySelector("input[type=radio][name=each-radio-movie]:checked");i&&(i.checked=!1),this.isTmdbRadioButton=!1},tmdbDataNext(){this.isTmdbRadioButton?(this.$router.push("/AddNewPeopleForm/"+this.peopleId+"/tmdb"),localStorage.setItem("peopleBackPage","/AddNewPeople")):(this.isKobisData=!0,this.page=1,this.searchPeople())},clickTmdbPage(t){this.page=t,this.searchPeople()},checkTmdbRadioButton(t){this.isTmdbRadioButton=!0,this.no_tmdb_people=!0,this.$refs.tmdbCheckbox.checked=!1,this.peopleId=t},KobisCheckbox(t){t.target.checked?this.no_Kobis_people=!0:this.no_Kobis_people=!1;let i=document.querySelector("input[type=radio][name=each-radio-movie]:checked");i&&(i.checked=!1),this.isKobisRadioButton=!1},kobisDataNext(){this.isKobisRadioButton?(this.$router.push("/AddNewPeopleForm/"+this.peopleId+"/kobis"),localStorage.setItem("movieBackPage","/AddNewMovie")):(this.$router.push("/AddNewPeopleForm/"+0+"/new"),localStorage.setItem("peopleBackPage","/AddNewPeople"))},clickKobisPage(t){this.page=t,this.searchPeople()},checkKobisRadioButton(t){this.isKobisRadioButton=!0,this.no_Kobis_people=!0,this.$refs.kobisCheckbox.checked=!1,this.peopleId=t}}},O={class:"add-new-movie new-movie-add-sec"},z={class:"new-container"},E=["innerHTML"],W={class:"search-section"},G={class:"serch-title"},J={class:"search-form"},Q={class:"select-option"},X={class:"search-field"},Y=["placeholder"],Z=["disabled"],$={class:"filter-section"},ee={class:"select-option"},te={class:"movie-list-section"},se={class:"data-title"},oe={key:0,class:"movie-list-wrapper"},ie={class:"movie-radio-list"},ae=["for"],le={class:"check-circle"},de=["onClick","id"],ce=e("div",{class:"radio-circle"},[e("div",{class:"inner-circle"})],-1),ne={class:"movie-content"},re={class:"movie-image people-image"},he=["src"],_e={key:1,src:v,alt:""},pe={class:"movie-details"},me={class:"title-date"},ue={class:"title"},be={class:"title-date no-flex"},ke={class:"sub-sub"},ve={class:"date b-day"},ge=e("img",{src:w},null,-1),fe={class:"no-data-text"},we={key:0,class:"checkbox-section"},ye={for:"new-movie-check"},Pe=e("div",{class:"checkbox"},[e("img",{src:g,alt:"",class:"unchecked-icon"}),e("img",{src:f,alt:"",class:"checked-icon"})],-1),Ne={class:"check-text"},De={class:"button-section"},Te=["disabled"],Ie={class:"movie-list-section"},xe={class:"data-title"},Be={key:0,class:"movie-list-wrapper"},Ce={class:"movie-radio-list"},Se=["for"],Ke={class:"check-circle"},Ae=["id","onClick"],Le=e("div",{class:"radio-circle"},[e("div",{class:"inner-circle"})],-1),Ve={class:"movie-content"},Re={class:"movie-image"},Me=["src"],Fe={key:1,src:v,alt:""},He={class:"movie-details"},Ue={class:"title-date"},je={class:"title"},qe={class:"title-date no-flex"},Oe={class:"sub-sub"},ze={class:"date b-day"},Ee=e("img",{src:w},null,-1),We={class:"no-data-text"},Ge={key:0,class:"checkbox-section"},Je={for:"new-movie-check"},Qe=e("div",{class:"checkbox"},[e("img",{src:g,alt:"",class:"unchecked-icon"}),e("img",{src:f,alt:"",class:"checked-icon"})],-1),Xe={class:"check-text"},Ye={class:"button-section"},Ze=["disabled"],$e={class:"movie-list-section"},et={class:"data-title"},tt={key:0,class:"movie-list-wrapper"},st={class:"movie-radio-list"},ot=["for"],it={class:"check-circle"},at=["id","onClick"],lt=e("div",{class:"radio-circle"},[e("div",{class:"inner-circle"})],-1),dt={class:"movie-content"},ct={class:"movie-image"},nt=["src"],rt={key:1,src:v,alt:""},ht={class:"movie-details"},_t={class:"title-date"},pt={class:"title"},mt={class:"title-date no-flex"},ut={class:"sub-sub"},bt={class:"date b-day"},kt=e("img",{src:w},null,-1),vt={class:"no-data-text"},gt={key:0,class:"checkbox-section"},ft={for:"new-movie-check"},wt=e("div",{class:"checkbox"},[e("img",{src:g,alt:"",class:"unchecked-icon"}),e("img",{src:f,alt:"",class:"checked-icon"})],-1),yt={class:"check-text"},Pt={class:"button-section"},Nt=["disabled"];function Dt(t,i,y,Tt,s,c){var N,D,T,I,x,B,C,S,K,A;const P=V("Dropdown"),p=V("pagination");return a(),d("div",O,[e("div",z,[e("h1",{class:"heading",innerHTML:t.$t("addNewPeople.header")},null,8,E),e("div",W,[e("h6",G,l(t.$t("button.search")),1),e("div",J,[e("div",Q,[m(P,{onDropdownValue:c.getDropdownValue,search_type:s.search_type,searchTitleListItem:s.searchTitleListItem,searchtitle:"searchtitle",searchvalue:"serchvalue"},null,8,["onDropdownValue","search_type","searchTitleListItem"])]),e("div",X,[U(e("input",{type:"text",placeholder:t.$t("addNewPeople.searchPlaceholder"),class:"form-control","onUpdate:modelValue":i[0]||(i[0]=o=>s.search_text=o),onKeydown:i[1]||(i[1]=o=>c.directSearch(o))},null,40,Y),[[j,s.search_text]])]),e("button",{class:_(["search-btn",s.search_text==""?"isDisabled":""]),onClick:i[2]||(i[2]=(...o)=>c.getsearchPeople&&c.getsearchPeople(...o)),disabled:s.search_text==""},l(t.$t("button.search")),11,Z)])]),e("div",$,[e("div",ee,[m(P,{onDropdownValue:c.getPeople,search_type:s.sort_by,searchTitleListItem:[{name:t.$t("addNewMovies.latest"),value:"newest"},{name:t.$t("addNewMovies.oldest"),value:"oldest"}],searchtitle:"name",searchvalue:"value"},null,8,["onDropdownValue","search_type","searchTitleListItem"])])]),n(" for internal data "),s.isSearch&&s.isTmdbData==!1?(a(),d(h,{key:0},[e("div",te,[e("h1",se,l(t.$t("addNewPeople.internalDataHeader")),1),s.internal_data.results?(a(),d("div",oe,[e("ul",ie,[(a(!0),d(h,null,u(s.internal_data.results,(o,r)=>(a(),d("li",{class:"movie-radio-item",key:r},[e("label",{for:"radio-movie-1"+r},[e("div",le,[e("input",{onClick:L=>c.checkInternalRadioButton(o.id),type:"radio",name:"each-radio-movie",id:"radio-movie-1"+r,ref_for:!0,ref:"addInternalMovieOption"},null,8,de),ce]),e("div",ne,[e("div",re,[o.profile_image?(a(),d("img",{key:0,src:o.profile_image,alt:""},null,8,he)):(a(),d("img",_e))]),e("div",pe,[e("div",me,[e("h3",ue,l(o.people_name),1)]),e("div",be,[e("p",ke,l(o.role_name),1),e("p",ve,[ge,k(" "+l(o.birth_day),1)])])])])],8,ae)]))),128))])])):n("v-if",!0),m(p,{modelValue:s.page,"onUpdate:modelValue":i[3]||(i[3]=o=>s.page=o),records:s.total_internal_data,"per-page":s.limit,options:s.chunkPage,onPaginate:c.clickInternalPage},null,8,["modelValue","records","per-page","options","onPaginate"]),e("div",{class:"no-data-block",style:b(((N=s.internal_data.results)==null?void 0:N.length)==0?"":"display: none")},[e("p",fe,l(t.$t("addNewPeople.noData")),1)],4)]),((D=s.internal_data.results)==null?void 0:D.length)>0?(a(),d("div",we,[e("label",ye,[e("input",{type:"checkbox",onClick:i[4]||(i[4]=o=>c.internalCheckbox(o)),id:"new-movie-check",ref:"internalCheckbox"},null,512),Pe,e("p",Ne,l(t.$t("addNewPeople.peopleNotInList")),1)])])):n("v-if",!0),e("div",De,[e("button",{disabled:s.no_internal_people==!1,class:_([s.no_internal_people==!1?"isDisabled":"","orange-pill-button"]),onClick:i[5]||(i[5]=(...o)=>c.internalDataNext&&c.internalDataNext(...o))},l(t.$t("addNewPeople.nextButton")),11,Te)])],64)):n("v-if",!0),n(" for tmdb data "),s.isTmdbData&&s.isKobisData==!1?(a(),d(h,{key:1},[e("div",Ie,[e("h1",xe,l(t.$t("addNewPeople.tmdbDataHeader")),1),((T=s.tmdb_data.results)==null?void 0:T.length)>0?(a(),d("div",Be,[e("ul",Ce,[(a(!0),d(h,null,u(s.tmdb_data.results,(o,r)=>(a(),d("li",{class:"movie-radio-item",key:r},[e("label",{for:"radio-movie-1"+r},[e("div",Ke,[e("input",{type:"radio",name:"each-radio-movie",id:"radio-movie-1"+r,onClick:L=>c.checkTmdbRadioButton(o.tmdb_id)},null,8,Ae),Le]),e("div",Ve,[e("div",Re,[o.profile_image?(a(),d("img",{key:0,src:o.profile_image,alt:""},null,8,Me)):(a(),d("img",Fe))]),e("div",He,[e("div",Ue,[e("h3",je,l(o.people_name),1)]),e("div",qe,[e("p",Oe,l(o.role_name),1),e("p",ze,[Ee,k(" "+l(o.birth_day),1)])])])])],8,Se)]))),128))])])):n("v-if",!0),((I=s.tmdb_data.results)==null?void 0:I.length)>0?(a(),R(p,{key:1,modelValue:s.page,"onUpdate:modelValue":i[6]||(i[6]=o=>s.page=o),records:s.total_tmdb_data,"per-page":s.limit,options:s.chunkPage,onPaginate:c.clickTmdbPage},null,8,["modelValue","records","per-page","options","onPaginate"])):n("v-if",!0),e("div",{class:"no-data-block",style:b(!s.tmdb_data.results||!s.tmdb_data||((x=s.tmdb_data.results)==null?void 0:x.length)==0?"":"display: none")},[e("p",We,l(t.$t("addNewPeople.noData")),1)],4)]),((B=s.tmdb_data.results)==null?void 0:B.length)>0?(a(),d("div",Ge,[e("label",Je,[e("input",{type:"checkbox",onClick:i[7]||(i[7]=o=>c.tmdbCheckbox(o)),id:"new-movie-check",ref:"tmdbCheckbox"},null,512),Qe,e("p",Xe,l(t.$t("addNewPeople.peopleNotInList")),1)])])):n("v-if",!0),e("div",Ye,[e("button",{disabled:s.no_tmdb_people==!1,class:_([s.no_tmdb_people==!1?"isDisabled":"","orange-pill-button"]),onClick:i[8]||(i[8]=(...o)=>c.tmdbDataNext&&c.tmdbDataNext(...o))},l(t.$t("addNewPeople.nextButton")),11,Ze)])],64)):n("v-if",!0),n(" for kobis data "),s.isKobisData?(a(),d(h,{key:2},[e("div",$e,[e("h1",et,l(t.$t("addNewPeople.kobisDataHeader")),1),((C=s.kobis_data.results)==null?void 0:C.length)>0?(a(),d("div",tt,[e("ul",st,[(a(!0),d(h,null,u(s.kobis_data.results,(o,r)=>(a(),d("li",{class:"movie-radio-item",key:r},[e("label",{for:"radio-movie-1"+r},[e("div",it,[e("input",{type:"radio",name:"each-radio-movie",id:"radio-movie-1"+r,onClick:L=>c.checkKobisRadioButton(o.kobis_id)},null,8,at),lt]),e("div",dt,[e("div",ct,[o.profile_image?(a(),d("img",{key:0,src:o.profile_image,alt:""},null,8,nt)):(a(),d("img",rt))]),e("div",ht,[e("div",_t,[e("h3",pt,l(o.film_name),1)]),e("div",mt,[e("p",ut,l(o.role_name),1),e("p",bt,[kt,k(" "+l(o.birth_day),1)])])])])],8,ot)]))),128))])])):n("v-if",!0),((S=s.kobis_data.results)==null?void 0:S.length)>0?(a(),R(p,{key:1,modelValue:s.page,"onUpdate:modelValue":i[9]||(i[9]=o=>s.page=o),records:s.total_kobis_data,"per-page":s.limit,options:s.chunkPage,onPaginate:c.clickKobisPage},null,8,["modelValue","records","per-page","options","onPaginate"])):n("v-if",!0),e("div",{class:"no-data-block",style:b(!s.kobis_data.results||!s.kobis_data||((K=s.kobis_data.results)==null?void 0:K.length)==0?"":"display: none")},[e("p",vt,l(t.$t("addNewPeople.noData")),1)],4)]),((A=s.kobis_data.results)==null?void 0:A.length)>0?(a(),d("div",gt,[e("label",ft,[e("input",{type:"checkbox",onClick:i[10]||(i[10]=o=>c.KobisCheckbox(o)),id:"new-movie-check",ref:"kobisCheckbox"},null,512),wt,e("p",yt,l(t.$t("addNewPeople.peopleNotInList")),1)])])):n("v-if",!0),e("div",Pt,[e("button",{disabled:s.no_Kobis_people==!1,class:_([s.no_Kobis_people==!1?"isDisabled":"","orange-pill-button"]),onClick:i[11]||(i[11]=(...o)=>c.kobisDataNext&&c.kobisDataNext(...o))},l(t.$t("addNewPeople.nextButton")),11,Nt)])],64)):n("v-if",!0)])])}const Kt=H(q,[["render",Dt],["__file","D:/workspace/11-db-frontend/11_db/src/views/AddPeople/AddNewPeople.vue"]]);export{Kt as default};
