import{_ as y,P as T,aG as h,r as b,o as d,c as r,a as s,F as M,s as V,n as v,t as n,b as c,p as k,q as p,k as w,af as I,ag as S,w as g,m as C,l as $,I as N,A}from"./index.d6ed331f.js";const E={components:{PopUpModal:T},name:"LeftMenuPanel",props:{selectedMenu:String,menuType:String,saveIdList:Object,isEdittable:Boolean},emits:["movieMenudata","submitData"],data(){return{activeItem:0,routeId:this.$route.params.id,menudata:this.fetchMenuType(),isChange:!1,targetMenuItem:{}}},watch:{saveIdList:{handler(e,t){e.media_request_id&&(this.$route.name=="AddNewTVDetails"?this.menudata[3].isSaved=!0:this.menudata[1].isSaved=!0),e.credit_request_id&&(this.$route.name=="AddNewTVDetails"?this.menudata[4].isSaved=!0:this.menudata[2].isSaved=!0),e.tag_request_id&&(this.$route.name=="AddNewTVDetails"?this.menudata[5].isSaved=!0:this.menudata[3].isSaved=!0),e.request_id&&(this.menudata[0].isSaved=!0),e.episode_request_id&&this.$route.name=="AddNewTVDetails"&&(this.menudata[2].isSaved=!0),e.season_id&&this.$route.name=="AddNewTVDetails"&&(this.menudata[1].isSaved=!0)},deep:!0,immediate:!0}},methods:{fetchMenuData(e,t){t!=0&&!this.menudata[0].isSaved&&this.$route.params.type!="internal"||this.menuType=="tv"&&e!="tag"&&e!="season"&&e!="primary"&&!this.menudata[1].isSaved&&this.$route.params.type!="internal"||(this.$route.params.type=="internal"&&this.isEdittable?(this.isChange=!0,this.targetMenuItem={val:e,i:t}):(this.activeItem=t,this.$emit("movieMenudata",e)))},onConfirm(){this.activeItem=this.targetMenuItem.i,this.$emit("movieMenudata",this.targetMenuItem.val),this.isChange=!1,this.$emit("tabChanged",!0)},onCancel(){this.isChange=!1},submitAllData(){this.$emit("submitData")},fetchMenuType(){let e=[{title:h(()=>this.$t("addNewMoviesForm.primaryDetails")),value:"primary",isSaved:!1},{title:h(()=>this.$t("addNewMoviesForm.media")),value:"media",isSaved:!1}];if(this.menuType=="movie"&&(e.push({title:h(()=>this.$t("credit.credit")),value:"credit",isSaved:!1}),e.push({title:h(()=>this.$t("tagDetails.tags")),value:"tag",isSaved:!1})),this.menuType=="tv"){let t=e.pop();e.push({title:h(()=>this.$t("season.season")),value:"season",isSaved:!1}),e.push({title:h(()=>this.$t("episode.episode")),value:"episode",isSaved:!1}),e.push(t),e.push({title:h(()=>this.$t("credit.credit")),value:"credit",isSaved:!1}),e.push({title:h(()=>this.$t("tagDetails.tags")),value:"tag",isSaved:!1})}return e}},updated(){var t,o,u,i,a;const e=JSON.parse(localStorage.getItem("draft_ids")||"[]");e[0]?this.routeId=((t=e[0])==null?void 0:t.primaryDetails[this.menuType])&&((u=(o=e[0])==null?void 0:o.primaryDetails[this.menuType])==null?void 0:u.draft_relation_id)?(a=(i=e[0])==null?void 0:i.primaryDetails[this.menuType])==null?void 0:a.draft_relation_id:"":this.routeId=this.routeId}},P={class:"left-panel-menu"},q={class:"left-menu"},F=["onClick"],L=["disabled"],U={class:"new-cast-modal center-popup-modal"},O={class:"cast-details"},j=s("br",null,null,-1),B={class:"button-group"};function R(e,t,o,u,i,a){const _=b("PopUpModal");return d(),r("div",P,[s("div",q,[s("ul",null,[(d(!0),r(M,null,V(i.menudata,(l,f)=>(d(),r("li",{key:f,onClick:m=>a.fetchMenuData(l.value,f),class:v([f==i.activeItem?"active":"",l.isSaved?"complete":""])},[s("a",{class:v([f!=0&&!i.menudata[0].isSaved&&e.$route.params.type!="internal"?"isDisabled":"",o.menuType=="tv"&&l.value!="tag"&&l.value!="season"&&l.value!="primary"&&e.$route.params.type!="internal"&&!i.menudata[1].isSaved?"isDisabled":""])},n(l.title),3)],10,F))),128))])]),s("button",{onClick:t[0]||(t[0]=(...l)=>a.submitAllData&&a.submitAllData(...l)),class:v(["submit-movie-form",i.routeId?"":"isDisabled"]),type:"submit",disabled:!i.routeId},n(e.$t("addNewMoviesForm.submitAllData")),11,L),c(" Warning modal "),s("div",U,[k(_,{isModal:i.isChange},{header:p(()=>[s("h1",null,n(e.$t("addNewMoviesForm.warningModelTitle")),1)]),body:p(()=>[s("div",O,[s("p",null,[w(n(e.$t("addNewMoviesForm.warningModelSubText1")),1),j,w(" "+n(e.$t("addNewMoviesForm.warningModelSubText2")),1)])])]),footer:p(()=>[s("div",B,[s("button",{class:"black-outline-btn",onClick:t[1]||(t[1]=(...l)=>a.onConfirm&&a.onConfirm(...l))},n(e.$t("button.ok")),1),s("button",{class:"red-fill-btn",onClick:t[2]||(t[2]=(...l)=>a.onCancel&&a.onCancel(...l))},n(e.$t("addNewMoviesForm.cancel")),1)])]),_:1},8,["isModal"])])])}const pe=y(E,[["render",R],["__file","D:/11-db-frontend/11_db/src/components/LeftMenuPanel.vue"]]),ge="/assets/question.89edd6a9.svg",G="/assets/vid-tags.243523a3.svg",D="/assets/ovel-icon.060900ab.svg",J={name:"VideoThumb",components:{PopUpModal:T},inject:["common"],data(){return{show:!1,toggle:!1,isImageModal:!1,selectedUrl:"",thumbnail:"",duration:0,youtubeComponent:0,isVideo:!0,myTimeout:null}},watch:{"common.state.SelectedLang":function(e,t){e&&e!=t&&(this.myTimeout!=null&&(clearTimeout(this.myTimeout),this.myTimeout=null),this.isVideo=!1,this.delay(3e3))}},props:{video:Object,isEdit:Boolean},emits:["removeVideoItem","setTrailer"],directives:{clickOutside:I.directive},mounted(){setTimeout(()=>{this.youtubeComponent++},.1)},methods:{delay(e){this.myTimeout==null&&(this.myTimeout=setTimeout(()=>{this.isVideo=!0},e))},removeItem(){this.$emit("removeVideoItem",this.video),this.toggle=!1,this.show=!1},setTrailer(){this.$emit("setTrailer",this.video),this.toggle=!1,this.show=!1},youtube_parser(e){if(e.type=="youtube"){let o=/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/,u=e.video_url.match(o);u&&(this.thumbnail=`https://img.youtube.com/vi/${u[1]}/hqdefault.jpg`)}else{let o=`https://vimeo.com/api/oembed.json?url=${e.video_url}`;var t=new XMLHttpRequest;t.open("GET",o,!0),t.send(),t.onreadystatechange=()=>{t.readyState==4&&t.status==200&&this.callback(t.response)}}},callback(e){var t=JSON.parse(e);this.thumbnail=t.thumbnail_url,this.duration=t.duration},openVideo(e){this.isImageModal=!0,e.type=="youtube"?this.selectedUrl="https://www.youtube.com/embed/"+e.id:this.selectedUrl=`https://player.vimeo.com/video/${e.id}`},secondsToHms(e){var t=Math.floor(e/3600);t>=1?e=e-t*3600:t="";var o=Math.floor(e/60);return o>=1?e=e-o*60:o="00",(e<1||e==null)&&(e="00"),o.toString().length==1&&(o="0"+o),e.toString().length==1&&(e="0"+e),t==""?o+":"+e:t+":"+o+":"+e},onReady(){this.duration=this.$refs.youtube.getDuration(),this.$refs.youtube.setVolume(0)}}},Y={class:"video-thumb"},z={class:"vidposter"},W=["src"],X={key:0,class:"defaults"},K=s("img",{src:G},null,-1),Q=[K],Z=s("img",{src:N,alt:"play"},null,-1),H={key:0,class:"overlay"},x=s("img",{src:D,alt:"play"},null,-1),ee=[x],te={class:"dropstxt"},se={class:"new-cast-modal add-img-modal"},ie=s("img",{src:A,alt:""},null,-1),oe=[ie],ae={class:"video-pannel"},le=["src"];function ne(e,t,o,u,i,a){const _=b("YouTube"),l=b("PopUpModal"),f=S("click-outside");return d(),r(M,null,[g((d(),r("div",Y,[s("div",{class:"vidthumb",onDblclick:t[4]||(t[4]=m=>i.show=!i.show)},[s("div",z,[s("img",{src:a.youtube_parser(o.video)||i.thumbnail,alt:"",class:"video-img"},null,8,W),o.video.is_official_trailer=="y"?(d(),r("span",X,Q)):c("v-if",!0),s("div",{class:"play-btn",onClick:t[0]||(t[0]=m=>a.openVideo(o.video))},[Z,s("p",null,n(a.secondsToHms(i.duration)),1)])]),i.show?(d(),r("div",H)):c("v-if",!0),i.show?(d(),r("div",{key:1,class:v(["optionmenu",o.isEdit?"isDisabled":""])},[s("span",{onClick:t[1]||(t[1]=m=>i.toggle=!i.toggle),class:v(o.isEdit?"pointer-events-none":"")},ee,2),g(s("div",te,[s("span",{onClick:t[2]||(t[2]=(...m)=>a.setTrailer&&a.setTrailer(...m))},n(e.$t("videoThumb.setofficialTrailer")),1),s("span",{onClick:t[3]||(t[3]=(...m)=>a.removeItem&&a.removeItem(...m))},n(e.$t("videoThumb.Deleted")),1)],512),[[C,i.toggle]])],2)):c("v-if",!0)],32),s("p",null,n(o.video.video_title),1),s("template",null,[o.video.type=="youtube"&&i.isVideo?(d(),$(_,{src:"https://www.youtube.com/watch?v="+o.video.id,onReady:a.onReady,ref:"youtube",key:i.youtubeComponent},null,8,["src","onReady"])):c("v-if",!0)])])),[[f,()=>(i.show=!1,i.toggle=!1)]]),s("div",se,[k(l,{isModal:i.isImageModal},{header:p(()=>[s("h1",null,n(e.$t("videoThumb.videoPreview")),1),s("button",{onClick:t[5]||(t[5]=m=>i.isImageModal=!1)},oe)]),body:p(()=>[s("div",ae,[s("iframe",{src:i.selectedUrl+"?autoplay=1",width:"100%",height:"100%",frameborder:"0",allow:"autoplay; fullscreen; picture-in-picture"},null,8,le)])]),_:1},8,["isModal"])])],64)}const be=y(J,[["render",ne],["__file","D:/11-db-frontend/11_db/src/components/VideoThumb.vue"]]),de={name:"ImageThumb",components:{},props:{image:Object,isEdit:Boolean},data(){return{show:!1,toggle:!1}},directives:{clickOutside:I.directive},methods:{removeItem(){this.$emit("removeItem",this.image),this.toggle=!1,this.show=!1}}},re={class:"thumbs"},ue=["src"],me={key:0,class:"overlay"},he=s("img",{src:D,alt:"play"},null,-1),ce=[he],ve={class:"dropstxt"};function fe(e,t,o,u,i,a){const _=S("click-outside");return g((d(),r("div",re,[s("div",{class:"imgs-area",onClick:t[0]||(t[0]=l=>i.show=!i.show)},[s("img",{src:o.image.image_path,alt:"img"},null,8,ue)]),i.show?(d(),r("div",me)):c("v-if",!0),i.show?(d(),r("div",{key:1,class:v(["optionmenu",o.isEdit?"isDisabled":""])},[s("span",{onClick:t[1]||(t[1]=l=>i.toggle=!i.toggle),class:v(o.isEdit?"pointer-events-none":"")},ce,2),g(s("div",ve,[s("p",{onClick:t[2]||(t[2]=(...l)=>a.removeItem&&a.removeItem(...l))},n(e.$t("button.delete")),1)],512),[[C,i.toggle]])],2)):c("v-if",!0)])),[[_,()=>(i.show=!1,i.toggle=!1)]])}const ye=y(de,[["render",fe],["__file","D:/11-db-frontend/11_db/src/components/ImageThumb.vue"]]),we="/assets/modal-checkbox-unchecked.5bbd6156.svg",Te="/assets/modal-img-cross.2d8e73c5.svg";export{ye as I,pe as L,be as V,ge as _,D as a,Te as b,we as c};
