import{_ as p,aJ as f,d as n,T as I,ay as k,r as h,o as l,c as g,p as c,a,k as T,t as o,b as u,w as m,v as y,n as b}from"./index.ace3f588.js";import{D as d,_ as v}from"./tag-data.2a22c0b0.js";const S={name:"EditTag",components:{Sidebar:f},data(){return{tagId:this.$route.params.id,tag_id:0,tag_name_en:"",tag_name_ko:"",currentCategoryId:null,currentSubCategoryId:null,adminCategoryList:[],subCategoryList:[],error:{tag_name_en:"",tag_name_ko:"",currentCategoryId:"",currentSubCategoryId:""},specialChars:/[`!@#$%^&*()_+\-=\[\]{};':"\\|.,<>\/?~]/}},mounted(){this.getTagDetails(),this.getAdminDictionaryCategoryList()},methods:{empty(t){this.error[t]=n(()=>"")},getSubCat(t){this.currentSubCategoryId=t,this.error.currentSubCategoryId=n(()=>"")},getAdminDictionaryCategoryList(){d.getAdminDictionaryCategoryList().then(t=>{t.status==200&&(this.adminCategoryList=t.data.results)}).catch(t=>{})},getCurrentcategoryId(t){this.currentCategoryId=t,this.currentSubCategoryId=null,this.error.currentCategoryId=n(()=>""),this.subCategoryList=[],this.currentCategoryId&&this.getSubCategoryList()},getSubCategoryList(){d.getSubCategoryList(this.currentCategoryId).then(t=>{t.status==200&&(this.subCategoryList=t.data.results)}).catch(t=>{})},getTagDetails(){d.getTagDetails(this.tagId).then(t=>{t.status==200&&(this.tag_id=t.data.tag_id,this.tag_name_en=t.data.tag_name_en,this.tag_name_ko=t.data.tag_name_ko,this.currentCategoryId=t.data.category_id,this.currentSubCategoryId=t.data.sub_category_id.toString(),this.getSubCategoryList())}).catch(t=>{})},updateTagDetails(){if(this.currentCategoryId==null&&(this.error.currentCategoryId=n(()=>this.$t("Error.fieldRequired"))),this.currentSubCategoryId==null&&(this.error.currentSubCategoryId=n(()=>this.$t("Error.fieldRequired"))),this.tag_name_en==""?this.error.tag_name_en=n(()=>this.$t("Error.fieldRequired")):/[0-9]+/.test(this.tag_name_en)?this.error.tag_name_en=n(()=>this.$t("Error.numberNotAll")):this.specialChars.test(this.tag_name_en),this.tag_name_ko==""?this.error.tag_name_ko=n(()=>this.$t("Error.fieldRequired")):/[0-9]+/.test(this.tag_name_ko)?this.error.tag_name_ko=n(()=>this.$t("Error.numberNotAll")):this.specialChars.test(this.tag_name_ko)&&(this.error.tag_name_ko=n(()=>this.$t("Error.specialCharacter"))),Object.values(this.error).filter(e=>e.length>0).length!=0)return window.scroll({top:0,left:0,behavior:"smooth"}),!1;let t={parent_id:this.currentCategoryId,sub_category_id:this.currentSubCategoryId,tag_id:this.tag_id,tag_name_en:this.tag_name_en,tag_name_ko:this.tag_name_ko};d.updateTagDetails(t).then(e=>{e.status==200&&(this.$router.push({name:"TagData"}),I.fire({title:this.$t("Error.success")}))}).catch(e=>{})},backToPreviousScreen(){this.$router.push({name:"TagData"})},isChar:k}},D={class:"admin-otr"},E={class:"admin-right"},L={class:"heading"},w=a("span",null,[a("img",{src:v,alt:""})],-1),V={class:"cm-bck"},N={class:"frm-innr"},A={class:"form-group"},q={key:0,class:"error-txt"},K={class:"form-group"},R={key:0,class:"error-txt"},B={class:"form-group"},P=["placeholder"],j={key:0,class:"error-txt"},U={class:"form-group"},x=["placeholder"],z={key:0,class:"error-txt"},J={class:"btn-group justify-btwn"},M=["value"];function O(t,e,F,G,r,i){const C=h("Sidebar"),_=h("SearchDropdown");return l(),g("div",D,[c(C),a("div",E,[a("h2",L,[w,T(o(t.$t("dictionary.tagTitle")),1)]),a("div",V,[a("h3",null,o(t.$t("dictionary.editTag.title")),1),a("div",N,[a("div",A,[a("label",null,o(t.$t("dictionary.addTag.mainCategory")),1),c(_,{onDropdownValue:i.getCurrentcategoryId,search_type:r.currentCategoryId,searchTitleListItem:r.adminCategoryList,searchtitle:"category_name",searchvalue:"category_id",labelItem:t.$t("dictionary.select"),isError:!!r.error.currentCategoryId,disabled:""},null,8,["onDropdownValue","search_type","searchTitleListItem","labelItem","isError"]),r.error.currentCategoryId?(l(),g("span",q,o(r.error.currentCategoryId),1)):u("v-if",!0)]),a("div",K,[a("label",null,o(t.$t("dictionary.editTag.subCategory")),1),c(_,{onDropdownValue:i.getSubCat,search_type:r.currentSubCategoryId,searchTitleListItem:r.subCategoryList,searchtitle:"category_name",searchvalue:"sub_category_id",labelItem:t.$t("dictionary.select"),isError:!!r.error.currentSubCategoryId,disabled:""},null,8,["onDropdownValue","search_type","searchTitleListItem","labelItem","isError"]),r.error.currentSubCategoryId?(l(),g("span",R,o(r.error.currentSubCategoryId),1)):u("v-if",!0)]),a("div",B,[a("label",null,o(t.$t("dictionary.addTag.englishTag")),1),m(a("input",{type:"text",placeholder:t.$t("Error.enterTag"),class:b(["form-control",r.error.tag_name_en?"error-border":""]),"onUpdate:modelValue":e[0]||(e[0]=s=>r.tag_name_en=s),onKeypress:e[1]||(e[1]=s=>i.isChar(s)),maxlength:"150",onKeyup:e[2]||(e[2]=s=>i.empty("tag_name_en"))},null,42,P),[[y,r.tag_name_en]]),r.error.tag_name_en?(l(),g("span",j,o(r.error.tag_name_en),1)):u("v-if",!0)]),a("div",U,[a("label",null,o(t.$t("dictionary.addTag.koreanTag")),1),m(a("input",{type:"text",placeholder:t.$t("Error.enterTag"),class:b(["form-control",r.error.tag_name_ko?"error-border":""]),"onUpdate:modelValue":e[3]||(e[3]=s=>r.tag_name_ko=s),onKeypress:e[4]||(e[4]=s=>i.isChar(s)),maxlength:"150",onKeyup:e[5]||(e[5]=s=>i.empty("tag_name_ko"))},null,42,x),[[y,r.tag_name_ko]]),r.error.tag_name_ko?(l(),g("span",z,o(r.error.tag_name_ko),1)):u("v-if",!0)])]),a("div",J,[a("input",{type:"submit",class:"btn org-btn",value:t.$t("button.save"),onClick:e[6]||(e[6]=(...s)=>i.updateTagDetails&&i.updateTagDetails(...s))},null,8,M),a("button",{type:"button",class:"btn outline blk-btn",onClick:e[7]||(e[7]=(...s)=>i.backToPreviousScreen&&i.backToPreviousScreen(...s))},o(t.$t("button.back")),1)])])])])}const W=p(S,[["render",O],["__file","D:/workspace/11-db-frontend/11_db/src/admin/views/Dictionary/EditTag.vue"]]);export{W as default};
