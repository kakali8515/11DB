import{_ as W,y as U,z as I,P as A,T as R,U as B,V,J as q,r as _,o,c as a,a as s,t as l,F as k,b as d,s as w,W as E,p as h,q as u,l as f,B as K,X as G}from"./index.ace3f588.js";import{S as z}from"./share-icon.466a153b.js";import{C as H,M as O}from"./MediaSection.f23d7b92.js";import{S as Y}from"./SocialIconCard.8a6c0c3f.js";import{G as j,_ as J,a as X}from"./settings.8b525e11.js";import{R as Q}from"./RelatedArticle.97b89c33.js";import{C as Z}from"./CastCrewCard.b4916b9b.js";import{C as x}from"./CastCrewSection.93bfa84b.js";import{P as b}from"./PeopleDetailsService.85b4c403.js";import{M as T}from"./MoviesDetailsService.83e4baeb.js";import{_ as $,a as ee,b as te,c as se,d as ie}from"./link.6f5ec47b.js";import{_ as oe,a as le}from"./blk-icon3.23aad102.js";import"./user-icon-gray.c8f7d18d.js";import"./ImageCard.f0d09581.js";import"./play-btn.b7dd2e78.js";import"./PosterCard.e0af8418.js";const re={name:"PeopleDetails",emits:["on-current-theme-change"],inject:["common"],components:{Tabs:U,TabWrapper:I,Slider:z,CommunityCard:H,SocialIconCard:Y,GoogleAdd:j,RelatedArticle:Q,MediaSection:O,CastCrewCard:Z,CastCrewSection:x,PopUpModal:A},watch:{"common.state.SelectedLang":function(e,i){(e=="KO"&&i=="EN"||e=="EN"&&i=="KO")&&(this.page=1,this.getPeopleDetails(),this.getRelatedArticles(this.person_id,this.page,this.limit),this.getKnownForList(),this.getPeopleWorkList("movie","crew"))}},data(){return{componentType:"people",workTab:"crew",background_image:"",person_id:this.$route.params.id,name:"",birth_day:"",role:[],gender:"",countries:[],likeNumber:0,biography:"",aka:"",poster_image:"",isFavourite:!1,isShare:!1,is_like:"",baseUrl:"https://elvndb-frnt.dvconsulting.org",videos:[],images:[],facebookLink:"",instagramLink:"",twitterLink:"",article:[],knownForList:[],workList:[],page:1,limit:3,crewLength:0,castLength:0,crewList:[],castList:[],related_articles_details_url:""}},mounted(){localStorage.removeItem("site_language"),localStorage.removeItem("draft_ids"),this.getPeopleDetails(),this.getRelatedArticles(this.person_id,this.page,this.limit),this.getKnownForList(),this.getPeopleWorkList("movie","crew"),this.userLog()},methods:{getPeopleDetails(){b.getPeopleDetails(this.$route.params.id).then(e=>{e.status==200&&(this.background_image=e.data.bg_image?e.data.bg_image:e.data.poster_image?e.data.poster_image:"",this.name=e.data.name,this.birth_day=e.data.dob,this.role=e.data.profession,this.gender=e.data.gender,this.countries=e.data.countries,this.likeNumber=e.data.no_of_likes,this.biography=e.data.biography,this.aka=e.data.aka,this.poster_image=e.data.poster_image,this.is_like=e.data.is_liked,this.videos=e.data.media.videos,this.videos=this.videos.map(i=>({link:i.path,title:i.title,id:i.video_id})),Array.from(this.videos).forEach((i,m)=>{this.videos[m].videoid=this.validateVimeoURL(i.link)||this.matchYoutubeUrl(i.link),this.validateVimeoURL(i.link)?this.videos[m].type="vimeo":this.videos[m].type="youtube"}),this.images=e.data.media.images,this.images=this.images.map(i=>({link:i.path,title:i.title,id:i.image_id})),this.facebookLink=e.data.social_media.facebook,this.instagramLink=e.data.social_media.instagram,this.twitterLink=e.data.social_media.twitter)}).catch(e=>{})},toEditPeople(){this.$router.push({name:"AddNewPeopleForm",params:{external_id:this.$route.params.id,type:"internal"}}),localStorage.setItem("peopleBackPage","/people/details/"+this.$route.params.id)},addToFavorite(){T.addToFavorite(this.$route.params.id,"people").then(e=>{e.status==200&&(this.isFavourite=!1,this.getPeopleDetails())}).catch(e=>{})},onClick(e){const i=this.$refs.myHiddenInput;i.value=e,i.style.display="block",i.select(),document.execCommand("copy"),i.style.display="none",R.fire({title:this.$t("addNewPeople.primaryDetails.linkCopied")})},navigate(e){this.$router.push({name:e,params:{person_id:this.$route.params.id}})},getRelatedArticles(e,i,m){b.getRelatedArticles(e,i,m).then(c=>{c.status==200&&(this.article=c.data.results,this.related_articles_details_url=c.data.related_articles_details_url)}).catch(c=>{})},getKnownForList(){b.getKnownForList(this.person_id).then(e=>{e.status==200&&(this.knownForList=e.data.results.map(i=>({image:i.poster_image,title:i.title_name,id:i.title_id,title_type:i.title_type})))}).catch(e=>{})},async getPeopleWorkList(e,i){this.workTab=i;let m={person_id:this.person_id,title_type:e,list_type:"crew"};await b.getWorkList(m).then(c=>{if(c.status==200){this.crewList=c.data.results.map(r=>{let g=r.list;return r.list=g.map(p=>({image:p.poster_image,name:p.title_name,id:p.title_id,designation:p.character_name})),r});let t=c.data.results.reduce((r,g)=>(r=r+g.list.length,r),0);this.crewLength=t}}).catch(c=>{}),m={person_id:this.person_id,title_type:e,list_type:"cast"},await b.getWorkList(m).then(c=>{if(c.status==200){this.castList=c.data.results.map(r=>{let g=r.list;return r.list=g.map(p=>({image:p.poster_image,name:p.title_name,id:p.title_id,designation:p.character_name})),r});let t=c.data.results.reduce((r,g)=>(r=r+g.list.length,r),0);this.castLength=t,i=="crew"?this.workList=this.crewList:this.workList=this.castList}}).catch(c=>{})},selectedTab(e){e=="header.mainMenu.Movies"?this.getPeopleWorkList("movie",this.workTab):this.getPeopleWorkList("tv",this.workTab)},userLog(){T.userLog(this.$route.params.id,"people",this.$cookies.get("userCookie")).then(e=>{e.status==200}).catch(e=>{})},matchYoutubeUrl:B,validateVimeoURL:V,dateformat:q}},ae={class:"container"},ne={class:"people-dtl-otr"},de={class:"people-dtl-left"},ce=["src"],pe={key:1,src:K,alt:""},he={class:"people-dtl-right flex-dr"},ue={class:"edit-otr"},me={class:"big-hdr"},_e={class:"edit-innr"},ge={key:0,src:$},ke=s("img",{src:J,alt:"",class:"dark-th"},null,-1),ve=s("img",{src:oe,alt:"",class:"light-th"},null,-1),we=s("img",{src:X,alt:"",class:"dark-th"},null,-1),be=s("img",{src:le,alt:"",class:"light-th"},null,-1),fe=[we,be],Le={class:"people-date-list"},ye={key:0},Pe={key:1},Ne={key:2},Ce={key:3},Te={class:"detl-bt-content"},Se={class:"people-details-btm-sec"},Fe={class:"container"},De={class:"people-details-btm-otr"},Me={class:"people-details-btm-left"},We={class:"mb-10 small-hdr"},Ue={class:"work-otr mr-bb2"},Ie={class:"mb-10 small-hdr"},Ae={class:"tab-outr small"},Re=s("div",{class:"divider"},null,-1),Be={key:0},Ve={class:"works-list-sec-innr"},qe={class:"image-otr cast-crew"},Ee=s("div",{class:"divider"},null,-1),Ke={key:1,class:"no-data-wrapper"},Ge=s("div",{class:"divider"},null,-1),ze={key:0},He={class:"works-list-sec-innr"},Oe={class:"image-otr cast-crew"},Ye={key:1,class:"no-data-wrapper"},je={class:"people-details-btm-right"},Je={key:0,class:"mb-10 small-hdr"},Xe={key:2,class:"mb-10 small-hdr"},Qe={key:3,class:"slider-otr"},Ze={key:4,class:"mb-10 small-hdr"},xe={class:"new-cast-modal center-popup-modal"},$e={class:"cast-details"},et={class:"button-group"},tt={class:"new-cast-modal center-popup-modal smallbx-modal"},st={class:"cast-details"},it=s("img",{src:ee,alt:""},null,-1),ot=s("img",{src:te,alt:""},null,-1),lt=s("img",{src:se,alt:""},null,-1),rt=["href"],at=s("img",{src:ie,alt:""},null,-1),nt=[at],dt={type:"text",hidden:"",ref:"myHiddenInput"},ct={class:"button-group"};function pt(e,i,m,c,t,r){const g=_("MediaSection"),p=_("Dropdown"),P=_("CastCrewCard"),N=_("Tabs"),S=_("TabWrapper"),F=_("SocialIconCard"),D=_("Slider"),M=_("RelatedArticle"),C=_("PopUpModal"),L=_("ShareNetwork");return o(),a("div",null,[s("div",{class:"people-details-sec",style:E({backgroundImage:"url("+t.background_image+")"})},[s("div",ae,[s("div",ne,[s("div",de,[s("figure",null,[t.poster_image?(o(),a("img",{key:0,src:t.poster_image,alt:""},null,8,ce)):(o(),a("img",pe))])]),s("div",he,[s("div",ue,[s("h2",me,l(t.name),1),s("div",_e,[s("a",{onClick:i[0]||(i[0]=(...n)=>r.toEditPeople&&r.toEditPeople(...n)),class:"btn solid"},l(e.$t("addNewPeople.editButton")),1),s("a",{onClick:i[1]||(i[1]=n=>t.isFavourite=!0),class:"sc-icon"},[t.is_like=="y"?(o(),a("img",ge)):(o(),a(k,{key:1},[ke,ve],64))]),s("a",{onClick:i[2]||(i[2]=n=>t.isShare=!0),class:"sc-icon"},fe)])]),s("ul",Le,[t.birth_day?(o(),a("li",ye,l(r.dateformat(t.birth_day)),1)):d("v-if",!0),t.role.length?(o(),a("li",Pe,[s("ul",null,[(o(!0),a(k,null,w(t.role,n=>(o(),a("li",{key:n},l(n),1))),128))])])):d("v-if",!0),t.gender?(o(),a("li",Ne,l(e.$t(t.gender)),1)):d("v-if",!0),t.countries.length?(o(),a("li",Ce,l(t.countries.toString()),1)):d("v-if",!0),s("li",null,l(e.$t("addNewPeople.likes"))+" : "+l(t.likeNumber),1)]),s("div",Te,[s("h5",null,l(e.$t("addNewPeople.primaryDetails.biography")),1),s("p",null,l(t.biography?t.biography:"-"),1),s("h5",null,l(e.$t("addNewPeople.aka")),1),s("p",null,l(t.aka?t.aka:"-"),1),d(` <div class="awd-list-outr">\r
                <ul class="award-list">\r
                  <li>\r
                    <span><img src="@/assets/icons/award.svg" alt="" /></span>\r
                    <em>{{ $t("addNewPeople.award") }}</em>\r
                  </li>\r
                  <li>\r
                    <ul>\r
                      <li>0 {{ $t("addNewPeople.wins") }}</li>\r
                      <li>0 {{ $t("addNewPeople.nominations") }}</li>\r
                    </ul>\r
                  </li>\r
                </ul>\r
                <a href="#">\r
                  <img\r
                    src="@/assets/icons/arrow-right-wh.svg"\r
                    class="dark-th"\r
                    alt=""\r
                  />\r
                  <img\r
                    src="@/assets/icons/arrow-right-blk.svg"\r
                    class="light-th"\r
                    alt=""\r
                  />\r
                </a>\r
              </div> `)])])])])],4),s("div",Se,[s("div",Fe,[s("div",De,[s("div",Me,[s("h2",We,l(e.$t("addNewPeople.media")),1),h(g,{videos:t.videos,images:t.images,isPeoplePoster:!0,onNavigation:i[3]||(i[3]=n=>r.navigate("PeopleMedia"))},null,8,["videos","images"]),s("div",Ue,[s("h2",Ie,l(e.$t("addNewPeople.works")),1),s("div",Ae,[h(S,{onSelectedTab:r.selectedTab},{default:u(()=>[h(N,{title:"header.mainMenu.Movies"},{default:u(()=>[d(` <select\r
                      class="form-control select-style"\r
                      v-model="workTab"\r
                      @change="getPeopleWorkList('movie', workTab)"\r
                    >\r
                      <option value="crew">\r
                        {{ $t("addNewPeople.crew") }} ({{ crewLength }})\r
                      </option>\r
                      <option value="cast">\r
                        {{ $t("addNewPeople.cast") }} ({{ castLength }})\r
                      </option>\r
                    </select> `),h(p,{search_type:t.workTab,onDropdownValue:i[4]||(i[4]=n=>r.getPeopleWorkList("movie",n)),searchTitleListItem:[{key:"crew",value:e.$t("addNewPeople.crew")+"("+t.crewLength+")"},{key:"cast",value:e.$t("addNewPeople.cast")+"("+t.castLength+")"}],searchtitle:"value",searchvalue:"key"},null,8,["search_type","searchTitleListItem"]),Re,t.workList.length?(o(),a("div",Be,[(o(!0),a(k,null,w(t.workList,n=>(o(),a("div",{class:"works-list-sec",key:n},[s("div",Ve,[s("h5",null,l(n.year),1),s("div",qe,[(o(!0),a(k,null,w(n.list,(v,y)=>(o(),f(P,{key:y,castList:v,redirectLink:`/movies/details/${v.id}`},null,8,["castList","redirectLink"]))),128))])]),Ee]))),128))])):(o(),a("div",Ke,[s("p",null,l(e.$t("addNewPeople.noData")),1)]))]),_:1}),h(N,{title:"header.mainMenu.TVShows"},{default:u(()=>[d(` <select\r
                      class="form-control select-style"\r
                      v-model="workTab"\r
                      @change="getPeopleWorkList('tv', workTab)"\r
                    >\r
                      <option value="crew">\r
                        {{ $t("addNewPeople.crew") }} ({{ crewLength }})\r
                      </option>\r
                      <option value="cast">\r
                        {{ $t("addNewPeople.cast") }} ({{ castLength }})\r
                      </option>\r
                    </select> `),h(p,{search_type:t.workTab,onDropdownValue:i[5]||(i[5]=n=>r.getPeopleWorkList("tv",n)),searchTitleListItem:[{key:"crew",value:e.$t("addNewPeople.crew")+"("+t.crewLength+")"},{key:"cast",value:e.$t("addNewPeople.cast")+"("+t.castLength+")"}],searchtitle:"value",searchvalue:"key"},null,8,["search_type","searchTitleListItem"]),Ge,t.workList.length?(o(),a("div",ze,[(o(!0),a(k,null,w(t.workList,n=>(o(),a("div",{class:"works-list-sec",key:n},[s("div",He,[s("h5",null,l(n.year),1),s("div",Oe,[(o(!0),a(k,null,w(n.list,(v,y)=>(o(),f(P,{key:y,castList:v,redirectLink:`/tvshows/details/${v.id}`},null,8,["castList","redirectLink"]))),128))])])]))),128))])):(o(),a("div",Ye,[s("p",null,l(e.$t("addNewPeople.noData")),1)]))]),_:1})]),_:1},8,["onSelectedTab"])]),d(` <h2 class="mb-10 small-hdr">\r
                {{ $t("addNewPeople.community") }}\r
              </h2>\r
              <CommunityCard type="people" famous_line_type="title" :season_id="0" /> `)])]),s("div",je,[t.facebookLink||t.instagramLink||t.twitterLink?(o(),a("h2",Je,l(e.$t("addNewPeople.socialMedia")),1)):d("v-if",!0),t.facebookLink||t.instagramLink||t.twitterLink?(o(),f(F,{key:1,facebookLink:t.facebookLink,instagramLink:t.instagramLink,twitterLink:t.twitterLink},null,8,["facebookLink","instagramLink","twitterLink"])):d("v-if",!0),t.knownForList.length?(o(),a("h2",Xe,l(e.$t("addNewPeople.knownFor")),1)):d("v-if",!0),t.knownForList.length?(o(),a("div",Qe,[h(D,{connection_list:t.knownForList,componentType:t.componentType},null,8,["connection_list","componentType"])])):d("v-if",!0),d(" <GoogleAdd /> "),t.article.length?(o(),a("h2",Ze,l(e.$t("addNewPeople.relatedArticles")),1)):d("v-if",!0),t.article.length?(o(),f(M,{key:5,article:t.article,related_articles_details_url:t.related_articles_details_url},null,8,["article","related_articles_details_url"])):d("v-if",!0)])])])]),d(" favorite modal "),s("div",xe,[h(C,{isModal:t.isFavourite},{header:u(()=>[s("h1",null,l(e.$t("addNewPeople.favorite")),1)]),body:u(()=>[s("div",$e,[s("p",null,l(e.$t("addNewPeople.goWishlist")),1)])]),footer:u(()=>[s("div",et,[s("button",{class:"black-outline-btn",onClick:i[6]||(i[6]=n=>t.isFavourite=!1)},l(e.$t("addNewPeople.mediadetails.cancelButton")),1),s("button",{class:"red-fill-btn",onClick:i[7]||(i[7]=(...n)=>r.addToFavorite&&r.addToFavorite(...n))},l(e.$t("button.ok")),1)])]),_:1},8,["isModal"])]),d(" share modal "),s("div",tt,[h(C,{isModal:t.isShare},{header:u(()=>[s("h1",null,l(e.$t("addNewPeople.share")),1)]),body:u(()=>[s("div",st,[h(L,{network:"facebook",url:t.baseUrl+e.$route.fullPath,title:t.name,description:t.biography,quote:t.aka},{default:u(()=>[it]),_:1},8,["url","title","description","quote"]),h(L,{network:"twitter",url:t.baseUrl+e.$route.fullPath,title:t.name,description:t.biography,quote:t.aka},{default:u(()=>[ot]),_:1},8,["url","title","description","quote"]),h(L,{network:"email",url:t.baseUrl+e.$route.fullPath,title:t.name,description:t.biography,quote:t.aka},{default:u(()=>[lt]),_:1},8,["url","title","description","quote"]),s("a",{href:t.baseUrl+e.$route.fullPath,onClick:i[8]||(i[8]=G(n=>r.onClick(t.baseUrl+e.$route.fullPath),["prevent","stop"]))},nt,8,rt),s("input",dt,null,512)])]),footer:u(()=>[s("div",ct,[s("button",{class:"black-outline-btn",onClick:i[9]||(i[9]=n=>t.isShare=!1)},l(e.$t("addNewPeople.mediadetails.cancelButton")),1)])]),_:1},8,["isModal"])])])}const St=W(re,[["render",pt],["__file","D:/workspace/11-db-frontend/11_db/src/views/People/PeopleDetails.vue"]]);export{St as default};
