import{_ as I,y as W,z as F,N as O,O as V,E as s,L as j,G as H,a7 as U,K as q,r as p,o,c as m,p as w,q as g,a as n,t as f,b as h,k as x,F as N,s as L,l as M}from"./index.d6ed331f.js";import{B as z}from"./BannerCardTwo.e1dc7c44.js";import{C as A}from"./CastCrewCard.fbfc50eb.js";import{M as G}from"./MoviesDetailsService.75e9ea61.js";import"./left-arrow-gray.5b681dc2.js";const K={name:"MoviesDetailsCast&Crew",emits:["on-current-theme-change"],components:{Tabs:W,TabWrapper:F,BannerCardTwo:z,CastCrewCard:A},setup(){const i=O(),y=V(),C=s([]),e=s(""),D=s(""),a=i.params.id,b=s(""),k=s(""),r=s([]),T=s(1),_=s(""),c=j("common"),d=s(!1),u=async(l,v,P)=>{let S={id:Number(l),type:v,page:P,limit:20};try{let t=await G.getCastDetails(S);t.status==200&&(d.value=!0,C.value=t.data.results,e.value=t.data.poster_image,D.value=t.data.title,b.value=t.data.background_image?t.data.background_image:t.data.poster_image?t.data.poster_image:"",k.value=t.data.total_records,r.value.push(...C.value),setTimeout(()=>{d.value=!1},1e3))}catch(t){console.warn(t)}},B=l=>{r.value=[],_.value=l,l=="addNewPeople.crew"?u(a,"crew",1):u(a,"cast",1)},E=()=>{y.push({name:"AddNewMovieForm",params:{external_id:a,type:"internal"}}),localStorage.setItem("movieBackPage","/movies/movies-details-cast&crew/"+a)};H(()=>{u(a,"cast",1),window.addEventListener("scroll",R)}),U(()=>{window.removeEventListener("scroll",R)}),q(()=>c.state.SelectedLang,function(l,v){l&&l!=v&&(r.value=[],_.value=="addNewPeople.crew"?u(a,"crew",1):u(a,"cast",1))});const R=()=>{if(document.documentElement.offsetHeight+document.documentElement.scrollTop>=document.documentElement.scrollHeight&&k.value>r.value.length){let v=++T.value;setTimeout(()=>{_.value=="addNewPeople.crew"?u(a,"crew",v):u(a,"cast",v)},100)}};return{castDetails:C,posterImage:e,title:D,selectedTab:B,toEditMovieCredit:E,background_image:b,newResult:r,onScroll:R,isData:d}}},J={class:"tvepisodes-btm"},Q={class:"container"},X={class:"tvepisodes-content"},Y={class:"top-head"},Z={class:"tab-outr small"},$={key:0,class:"tvimage-otr"},ee={key:1,class:"no-data-wrapper"},te={key:0,class:"tvimage-otr"},ae={key:1,class:"no-data-wrapper"};function se(i,y,C,e,D,a){const b=p("BannerCardTwo"),k=p("router-link"),r=p("CastCrewCard"),T=p("Tabs"),_=p("TabWrapper");return o(),m("div",null,[w(b,{bannerInfo:{imgUrl:e.posterImage,link:"MoviesDetails",id:i.$route.params.id,background_image:e.background_image}},{default:g(()=>[n("h3",null,f(e.title),1)]),_:1},8,["bannerInfo"]),n("section",J,[n("div",Q,[n("div",X,[n("div",Y,[n("h2",null,f(i.$t("searchResults.searchRight.movieDetails.cast&Crew")),1),h(' <a href="javascript">Edit</a> '),w(k,{to:"",onClick:e.toEditMovieCredit},{default:g(()=>[x(f(i.$t("general.editButton")),1)]),_:1},8,["onClick"])]),n("div",Z,[w(_,{onSelectedTab:e.selectedTab},{default:g(()=>[w(T,{title:"addNewPeople.cast"},{default:g(()=>[e.newResult.length>0?(o(),m("div",$,[(o(!0),m(N,null,L(e.newResult,(c,d)=>(o(),M(r,{key:d,castList:c,redirectLink:`/people/details/${c.id}`},null,8,["castList","redirectLink"]))),128))])):h("v-if",!0),e.isData&&e.newResult.length==0?(o(),m("div",ee,[n("p",null,f(i.$t("searchResults.noData")),1)])):h("v-if",!0)]),_:1}),w(T,{title:"addNewPeople.crew"},{default:g(()=>[e.newResult.length>0?(o(),m("div",te,[(o(!0),m(N,null,L(e.newResult,(c,d)=>(o(),M(r,{key:d,castList:c,redirectLink:`/people/details/${c.id}`},null,8,["castList","redirectLink"]))),128))])):h("v-if",!0),e.isData&&e.newResult.length==0?(o(),m("div",ae,[n("p",null,f(i.$t("searchResults.noData")),1)])):h("v-if",!0)]),_:1})]),_:1},8,["onSelectedTab"])])])])])])}const ce=I(K,[["render",se],["__file","D:/11-db-frontend/11_db/src/views/Movies/MoviesDetailsCast&Crew.vue"]]);export{ce as default};
