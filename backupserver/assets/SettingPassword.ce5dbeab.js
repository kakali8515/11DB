import{i as P,d as i,_ as g,C as _,T as k,o as d,c,a as e,t as p,n as w,w as f,v as u,b as v}from"./index.ace3f588.js";import{v as m}from"./index.27c0800c.js";const{t:n}=P.global;P.global.locale="en";const C=r=>{let s={};const{password:t,confirmPassword:l}=r;return m.isEmpty(t)?s.password=i(()=>n("Error.requiredField")):t.match(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{8,15}$/)||(s.password=i(()=>n("Error.PasswordFormat"))),m.isEmpty(l)?s.confirmPassword=i(()=>n("Error.requiredField")):m.equals(t,l)||(s.confirmPassword=i(()=>n("Error.checkPassword"))),{isInvalid:Object.keys(s).length>0,error:s}},E={name:"SettingPassword",data(){return{password:"",confirmPassword:"",error:{},validateOnce:!1}},created(){this.CommonService=new _},watch:{"common.state.SelectedLang":function(r,s){r&&r!=s&&this.validateOnce==!0&&this.passWordCheck()}},methods:{checkError(){let r={password:this.password,confirmPassword:this.confirmPassword};const{isInvalid:s,error:t}=C(r);return this.validateOnce=!0,s?(this.error=t,!1):(this.error={},!0)},passWordCheck(){if(this.checkError())this.startsWithCapital(this.password)?this.CommonService.setPassword(this.$route.params.id,this.$route.params.code,this.password).then(s=>{s.status==200?(k.fire({title:s.data.message}),this.$router.push({name:"Login"})):s.response.status==400}):this.error.password=i(()=>this.$t("Error.isCorrectPassword"));else return},startsWithCapital(r){return/[A-Z]/.test(r.charAt(0))}}},b={class:"login-wrap"},y={class:"small-container"},S={class:"box"},W=["placeholder"],x={key:0,class:"error-txt"},A=["placeholder"],O={key:0,class:"error-txt"},T={class:"btn-innr"},V=["value"];function q(r,s,t,l,o,h){return d(),c("div",b,[e("div",y,[e("div",S,[e("h2",null,p(r.$t("forgotPassword.settingPassTitle")),1),e("form",null,[e("div",{class:w(["form-group",o.error.password?"error":""])},[f(e("input",{type:"password",placeholder:r.$t("placeholder.Enterpassword"),class:"form-control","onUpdate:modelValue":s[0]||(s[0]=a=>o.password=a),minlength:"8",maxlength:"15"},null,8,W),[[u,o.password]]),o.error.password?(d(),c("span",x,p(o.error.password),1)):v("v-if",!0)],2),e("div",{class:w(["form-group",o.error.confirmPassword?"error":""])},[f(e("input",{type:"password",placeholder:r.$t("placeholder.confirmPassword"),class:"form-control","onUpdate:modelValue":s[1]||(s[1]=a=>o.confirmPassword=a),minlength:"8",maxlength:"15"},null,8,A),[[u,o.confirmPassword]]),o.error.confirmPassword?(d(),c("span",O,p(o.error.confirmPassword),1)):v("v-if",!0)],2),e("div",T,[e("input",{readonly:"",onClick:s[2]||(s[2]=(...a)=>h.passWordCheck&&h.passWordCheck(...a)),class:"btn",value:r.$t("button.check")},null,8,V)])])])])])}const D=g(E,[["render",q],["__file","D:/workspace/11-db-frontend/11_db/src/views/LoginPages/SettingPassword.vue"]]);export{D as default};
