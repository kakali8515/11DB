import{_ as O,y as F,z as H,N as U,O as j,E as o,L as q,G as x,a7 as z,K as A,r as p,o as n,c,p as h,q as f,a as r,t as _,b as v,k as S,F as L,s as B,l as E}from"./index.3434c1c6.js";import{B as G}from"./BannerCardTwo.6a313ac0.js";import{C as K}from"./CastCrewCard.d3888d41.js";import{T as J}from"./TVShowsDetailsService.5c7261ee.js";import"./left-arrow-gray.5b681dc2.js";const Q={name:"TvShowsDetailsCast&Crew",emits:["on-current-theme-change"],components:{Tabs:F,TabWrapper:H,BannerCardTwo:G,CastCrewCard:K},setup(){const l=U(),N=j(),a=l.params.id,e=l.params.season_id,g=o([]),D=o(""),C=o(""),k=o(""),w=o(""),b=o(1),T=o(""),s=o([]),d=o(""),P=q("common"),R=o(!1);x(()=>{u(a,"cast",1),window.addEventListener("scroll",y)}),z(()=>{window.removeEventListener("scroll",y)}),A(()=>P.state.SelectedLang,function(i,m){i&&i!=m&&(s.value=[],d.value=="addNewPeople.crew"?u(a,"crew",1):u(a,"cast",1))});const u=async(i,m,W)=>{let M={id:Number(i),season_id:Number(e),type:m,page:W,limit:20};try{let t=await J.getCastDetails(M);t.status==200&&(R.value=!0,g.value=t.data.results,D.value=t.data.poster_image,C.value=t.data.title,k.value=t.data.background_image?t.data.background_image:t.data.poster_image?t.data.poster_image:"",w.value=t.data.season_name,T.value=t.data.total_records,s.value.push(...g.value),setTimeout(()=>{R.value=!1},1e3))}catch(t){console.warn(t)}},I=i=>{s.value=[],d.value=i,i=="addNewPeople.crew"?u(a,"crew",1):u(a,"cast",1)},V=()=>{N.push({name:"AddNewTVDetails",params:{external_id:a,type:"internal"}}),localStorage.setItem("tvBackPage","/tvshows/details-media/"+a+"/"+e)},y=()=>{if(document.documentElement.offsetHeight+document.documentElement.scrollTop>=document.documentElement.scrollHeight&&T.value>s.value.length){let m=++b.value;setTimeout(()=>{d.value=="addNewPeople.crew"?u(a,"crew",m):u(a,"cast",m)},100)}};return{season_id:e,tvId:a,castDetails:g,posterImage:D,title:C,selectedTab:I,toEditMovieCredit:V,background_image:k,season_name:w,newResult:s,onScroll:y,isData:R}}},X={key:0},Y={class:"tvepisodes-btm"},Z={class:"container"},$={class:"tvepisodes-content"},ee={class:"top-head"},te={class:"tab-outr small"},ae={key:0,class:"tvimage-otr"},se={key:1,class:"no-data-wrapper"},oe={key:0,class:"tvimage-otr"},ne={key:1,class:"no-data-wrapper"};function re(l,N,a,e,g,D){const C=p("BannerCardTwo"),k=p("router-link"),w=p("CastCrewCard"),b=p("Tabs"),T=p("TabWrapper");return n(),c("div",null,[h(C,{bannerInfo:{imgUrl:e.posterImage,link:"TvShowsDetails",id:l.$route.params.id,background_image:e.background_image}},{default:f(()=>[r("h3",null,[S(_(e.title),1),e.season_name?(n(),c("span",X,_(e.season_name),1)):v("v-if",!0)])]),_:1},8,["bannerInfo"]),r("section",Y,[r("div",Z,[r("div",$,[r("div",ee,[r("h2",null,_(l.$t("searchResults.searchRight.movieDetails.cast&Crew")),1),v(' <a href="#">Edit</a> '),h(k,{to:"",onClick:e.toEditMovieCredit},{default:f(()=>[S(_(l.$t("general.editButton")),1)]),_:1},8,["onClick"])]),r("div",te,[h(T,{onSelectedTab:e.selectedTab},{default:f(()=>[h(b,{title:"addNewPeople.cast"},{default:f(()=>[e.newResult.length>0?(n(),c("div",ae,[(n(!0),c(L,null,B(e.newResult,(s,d)=>(n(),E(w,{key:d,castList:s,redirectLink:`/people/details/${s.id}`},null,8,["castList","redirectLink"]))),128))])):v("v-if",!0),e.isData&&e.newResult.length==0?(n(),c("div",se,[r("p",null,_(l.$t("searchResults.noData")),1)])):v("v-if",!0)]),_:1}),h(b,{title:"addNewPeople.crew"},{default:f(()=>[e.newResult.length>0?(n(),c("div",oe,[(n(!0),c(L,null,B(e.newResult,(s,d)=>(n(),E(w,{key:d,castList:s,redirectLink:`/people/details/${s.id}`},null,8,["castList","redirectLink"]))),128))])):v("v-if",!0),e.isData&&e.newResult.length==0?(n(),c("div",ne,[r("p",null,_(l.$t("searchResults.noData")),1)])):v("v-if",!0)]),_:1})]),_:1},8,["onSelectedTab"])])])])])])}const me=O(Q,[["render",re],["__file","D:/workspace/11-db-frontend/11_db/src/views/TvShows/TvShowsDetailsCast&Crew.vue"]]);export{me as default};
