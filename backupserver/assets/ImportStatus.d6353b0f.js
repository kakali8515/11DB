import{B as k,_ as b}from"./import.4f83fba1.js";import{_ as v,aJ as f,r as c,o as n,c as d,p as m,a as t,k as a,t as i,w as S,aK as $,F as L,s as I,n as y}from"./index.ace3f588.js";import{_ as u}from"./ud-arrow-icon.5808a584.js";const C={name:"ImportStatus",components:{Sidebar:f},created(){this.BulkWorkingService=new k},mounted(){this.getImportStatusList()},data(){return{statusList:[],totalRecords:0,totalPages:0,limit:10,page:1,statusId:this.$route.params.id,sort_by:"",sort_order:""}},methods:{getImportStatusList(){let s={id:this.statusId,page:this.page,limit:this.limit,sort_by:this.sort_by,sort_order:this.sort_order};this.BulkWorkingService.getImportStatusList(s).then(o=>{this.statusList=o.data.list,this.totalRecords=o.data.total_records,this.totalPages=o.data.total_pages}).catch(o=>{})},redirect(s,o,p){if(p!="failure"&&p!="duplicate")if(s=="people")this.$router.push(`/${s}/details/${o}`);else if(s=="movie")this.$router.push(`/movies/details/${o}`);else if(s=="tv")this.$router.push(`/tvshows/details/${o}`);else return},sorting(s){this.sort_by!=s?(this.sort_by=s,this.sort_order="asc"):this.sort_order=="asc"?this.sort_order="desc":this.sort_order="asc",this.getImportStatusList()}}},w={class:"admin-otr"},B={class:"admin-right"},V={class:"heading"},D=t("span",null,[t("img",{src:b,alt:""})],-1),P={class:"cm-bck mt-30"},R={class:"material-sort"},W={class:"sort-innr"},N={class:"frm-innr"},F={class:"form-group"},M={value:"10"},U={value:"20"},z={value:"50"},E={class:"table-inner-scroll"},J={class:"table-otr table-innr lastmsg"},K={class:"data-hdr"},T=t("img",{src:u,alt:""},null,-1),j=[T],q={class:"data-hdr"},A=t("img",{src:u,alt:""},null,-1),G=[A],H={class:"data-hdr"},O=t("img",{src:u,alt:""},null,-1),Q=[O],X={class:"data-hdr"},Y=t("img",{src:u,alt:""},null,-1),Z=[Y],x=["onClick"],tt={key:1},st={colspan:"6"},ot={class:"no-data-import-status"};function et(s,o,p,it,r,l){const h=c("Sidebar"),g=c("pagination");return n(),d("div",w,[m(h),t("div",B,[t("h2",V,[D,a(i(s.$t("bulk.import.header")),1)]),t("div",P,[t("h3",null,i(s.$t("bulk.import.importStatus")),1),t("div",R,[t("div",W,[t("p",null,i(s.$t("bulk.worklist.total"))+" "+i(r.totalRecords),1),t("div",N,[t("div",F,[S(t("select",{"onUpdate:modelValue":o[0]||(o[0]=e=>r.limit=e),onChange:o[1]||(o[1]=e=>{r.page=1,l.getImportStatusList()}),class:"form-control"},[t("option",M,i(s.$t("bulk.export.pageLimit10")),1),t("option",U,i(s.$t("bulk.export.pageLimit20")),1),t("option",z,i(s.$t("bulk.export.pageLimit50")),1)],544),[[$,r.limit]])])])])]),t("div",E,[t("table",J,[t("thead",null,[t("tr",null,[t("th",null,i(s.$t("bulk.worklist.no")),1),t("th",null,[t("div",K,[a(i(s.$t("bulk.worklist.title"))+" ",1),t("span",{onClick:o[2]||(o[2]=e=>l.sorting("title_name"))},j)])]),t("th",null,[t("div",q,[a(i(s.$t("bulk.import.programCode")),1),t("span",{onClick:o[3]||(o[3]=e=>l.sorting("program_code"))},G)])]),t("th",null,[t("div",H,[a(i(s.$t("bulk.import.tmdbId")),1),t("span",{onClick:o[4]||(o[4]=e=>l.sorting("tmdb_id"))},Q)])]),t("th",null,[t("div",X,[a(i(s.$t("bulk.export.status"))+" ",1),t("span",{onClick:o[5]||(o[5]=e=>l.sorting("status"))},Z)])]),t("th",null,i(s.$t("bulk.import.importMessage")),1)])]),t("tbody",null,[r.statusList.length?(n(!0),d(L,{key:0},I(r.statusList,(e,_)=>(n(),d("tr",{key:_},[t("td",null,i((r.page-1)*r.limit+_+1),1),t("td",{onClick:rt=>l.redirect(e.type,e.item_id,e.status)},i(e.title_name),9,x),t("td",null,i(e.program_code),1),t("td",null,i(e.tmdb_id),1),t("td",null,[t("span",{class:y(["status-btn",e.status=="complete"?"green":e.status=="failure"?"red":"blue"])},i(e.status=="failure"?s.$t("bulk.import.faild"):e.status=="duplicate"?s.$t("bulk.import.duplicate"):s.$t("bulk.import.complete")),3)]),t("td",null,i(e.import_message),1)]))),128)):(n(),d("tr",tt,[t("td",st,[t("span",ot,i(s.$t("dictionary.noData")),1)])]))])])]),m(g,{modelValue:r.page,"onUpdate:modelValue":o[6]||(o[6]=e=>r.page=e),records:r.totalRecords,"per-page":r.limit,options:{chunk:5},onPaginate:l.getImportStatusList},null,8,["modelValue","records","per-page","onPaginate"])])])])}const dt=v(C,[["render",et],["__file","D:/workspace/11-db-frontend/11_db/src/admin/views/BulkWorking/ImportStatus.vue"]]);export{dt as default};
