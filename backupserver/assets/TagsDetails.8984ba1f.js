import{R as S,af as Xe,_ as ye,ag as $e,o as c,c as u,w as R,a,t as r,n as f,F as U,s as Y,m as je,b,y as Fe,z as Ue,P as Re,aG as ue,T as x,V as kt,U as Ct,aB as It,r as G,p as V,q as D,l as Pe,k as he,v as ne,a3 as Ye,B as ee,ab as et,ac as tt,i as Lt,ay as xe,aC as Qe,N as Mt,O as Dt,E as w,K as Tt,G as St,aF as Ae,d as fe}from"./index.ace3f588.js";import{_ as it}from"./close.0afef835.js";import{a as Et,V as Nt,I as Vt,b as qt,c as st}from"./modal-img-cross.5f54684c.js";import{A as ze}from"./AddNewMovieService.191e4888.js";import{M as Je}from"./Modal.465c8d49.js";import{_ as at}from"./checkbox-checked.c6ca7d68.js";class lt{async getSeasonList(e,l,t){return await S.post("/title/edit/season-request-list",{title_id:e,draft_request_id:t,site_language:l}).then(o=>o).catch(o=>o)}async getEditTVPrimaryDetails(e,l,t,o){return await S.get("/title/edit/get-tv-primary-details",{params:{title_id:e,request_id:l,site_language:t,tmdb_id:o}}).then(d=>d).catch(d=>d)}async editTVPrimaryDetails(e){return await S.post("/title/edit/tv-primary-details",{...e}).then(l=>l).catch(l=>l)}async getEditTVSeasonDetails(e,l,t,o,d){return await S.get("/title/edit/get-tv-request-season-details",{params:{title_id:e,season_id:l,draft_request_id:t,draft_season_id:o,language:d}}).then(g=>g).catch(g=>g)}async editSeasonDeatils(e){return await S.post("/title/edit/season-details",e).then(l=>l).catch(l=>l)}async getEditSeasonList(e,l,t){return await S.post("/title/edit/season-list",{title_id:e,draft_request_id:l,site_language:t}).then(o=>o).catch(o=>o)}async searchEditEpisodes(e){return await S.post("/title/edit/episode-request-list",{...e}).then(l=>l).catch(l=>l)}async editEpisodeDetails(e){return await S.post("/title/edit/edit-episode-details",e).then(l=>l).catch(l=>l)}async saveEditEpisode(e){return await S.post("/title/edit/save-episode-details",{...e}).then(l=>l).catch(l=>l)}async getEditEpisodeDetails(e,l,t,o,d,g,k,I){return await S.get("/title/edit/get-tv-request-episode-details/",{params:{language:e,request_id:l,episode_id:t,episode_number:o,title_id:d,season_id:g,draft_season_id:k,draft_episode_id:I}}).then(L=>L).catch(L=>L)}}const At={name:"WatchStream",props:{ottList:Array,selectText:String,belowList:Array,watchstream:Array,errorValue:String,isEdit:Boolean},data(){return{toggle:!1}},computed:{addedList(){return this.watchstream}},directives:{clickOutside:Xe.directive},emits:["watchInput"],methods:{addItem(s){this.belowList.find(l=>l.ott_service_provider_id==s.ott_service_provider_id||l.provider_id==s.ott_service_provider_id)||(this.belowList.push(s),this.$route.params.type=="internal"?this.addedList.push({ott_provider_id:s.ott_service_provider_id,ott_provider_provided_id:"",id:""}):this.addedList.push({ott_provider_id:s.ott_service_provider_id,ott_provider_provided_id:""}),this.$emit("watchInput",this.addedList))},removeItem(s){if(this.belowList.find(l=>l.ott_service_provider_id==s.ott_service_provider_id||l.provider_id==s.ott_service_provider_id)){this.belowList.splice(this.belowList.indexOf(s),1);for(let l=0;l<this.addedList.length;l++)(this.addedList[l].ott_provider_id==s.ott_service_provider_id||this.addedList[l].ott_provider_id==s.provider_id)&&this.addedList.splice(l,1);this.ottList.map(l=>{l.movie_id=""}),this.$emit("watchInput",this.addedList)}},addInputItem(s,e){let l=this.addedList.find(o=>o.ott_provider_id==e.ott_service_provider_id||o.ott_provider_id==e.provider_id);l&&(l.ott_provider_provided_id=s.target.value,this.$emit("watchInput",this.addedList));let t=this.belowList.find(o=>o==e);t&&(t.movie_id=s.target.value)}}},jt={class:"dropdown_wrap"},Bt=a("span",{class:"arows"},[a("svg",{width:"8",height:"6",viewBox:"0 0 8 6",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.234315 0.834412C0.546734 0.521993 1.05327 0.521993 1.36569 0.834412L4 3.46873L6.63432 0.834412C6.94673 0.521993 7.45327 0.521993 7.76569 0.834412C8.0781 1.14683 8.0781 1.65336 7.76569 1.96578L4.56569 5.16578C4.25327 5.4782 3.74673 5.4782 3.43431 5.16578L0.234315 1.96578C-0.0781049 1.65336 -0.0781049 1.14683 0.234315 0.834412Z",fill:"white"})])],-1),Ot={class:"watch-list-area"},Pt=["onClick","disabled"],Ft={class:"selectTags-area"},Ut={class:"icon-txt"},Rt=["src"],zt=["value","placeholder","onChange","disabled"],Jt=["onClick"];function Ht(s,e,l,t,o,d){const g=$e("click-outside");return c(),u(U,null,[R((c(),u("div",jt,[a("div",{class:f(["togglesdrop",l.errorValue?"error-border":""]),onClick:e[0]||(e[0]=k=>o.toggle=!o.toggle)},[a("p",null,r(l.selectText),1),Bt],2),R(a("div",Ot,[a("ul",null,[(c(!0),u(U,null,Y(l.ottList,(k,I)=>(c(),u("li",{key:I},[a("span",null,r(k.ott_service_provider_name),1),a("a",{onClick:L=>l.isEdit?"":d.addItem(k),disabled:l.isEdit,class:f(l.isEdit?"isDisabled":"")},r(s.$t("addNewPeople.mediadetails.add+")),11,Pt)]))),128))])],512),[[je,o.toggle]])])),[[g,()=>o.toggle=!1]]),a("div",Ft,[(c(!0),u(U,null,Y(l.belowList,(k,I)=>(c(),u("div",{class:"watchTags",key:I},[a("div",Ut,[a("img",{src:k.ott_logo_path},null,8,Rt),b(" <span></span> "),a("input",{value:k.movie_id,type:"text",placeholder:s.$t("addNewMoviesForm.EntermovieID"),onChange:L=>d.addInputItem(L,k),disabled:l.isEdit},null,40,zt)]),a("div",{class:f(["corss",l.isEdit?"isDisabled":""]),onClick:L=>d.removeItem(k)},[a("img",{src:it,class:f(l.isEdit?"pointer-events-none":"")},null,2)],10,Jt)]))),128))])],64)}const id=ye(At,[["render",Ht],["__file","D:/workspace/11-db-frontend/11_db/src/components/AddNewmovie/WatchStream.vue"]]);class He{async getEditMoviePrimaryDetails(e,l,t,o,d){return await S.get("/title/edit/get-movie-primary-details",{params:{title_id:e,request_id:l,site_language:t,tmdb_id:o,kobis_id:d}}).then(g=>g).catch(g=>g)}async editMoviePrimaryDetails(e){return await S.post("/title/edit/movie-primary-details",{...e}).then(l=>l).catch(l=>l)}async getTagDetails(e,l,t){return await S.post("/title/edit/tag-request-list",{title_id:t,draft_request_id:e,site_language:l}).then(o=>o).catch(o=>o)}async saveTag(e){return await S.post("/title/edit/save-tag-details",{...e}).then(l=>l).catch(l=>l)}async uploadMediaImages(e){return await S.post("/title/edit/upload-image",e,{headers:{"Content-Type":"multipart/form-data"}}).then(l=>l).catch(l=>l)}async uploadBackgroundImages(e){return await S.post("/title/edit/upload-background-image",e).then(l=>l).catch(l=>l)}async uploadPosterImages(e){return await S.post("/title/edit/upload-poster-image",e).then(l=>l).catch(l=>l)}async creditRequestList(e,l,t,o,d,g,k){return await S.post("/title/edit/cast-crew-request-list",{title_id:e,draft_request_id:l,title_type:t,site_language:o,credit_type:d,season_id:g,draft_season_id:k}).then(I=>I).catch(I=>I)}async editCreditDetails(e){return await S.post("/title/edit/credit-details",{...e}).then(l=>l).catch(l=>l)}async createNewCredit(e){return await S.post("/title/edit/create-new-credit",e).then(l=>l).catch(l=>l)}async editMediaRequestList(e,l,t,o,d,g,k){return await S.post("/title/edit/media-request-list",{title_id:e,draft_request_id:l,site_language:t,title_type:o,media_type:d,season_id:g,draft_season_id:k}).then(I=>I).catch(I=>I)}async editMediaDetails(e){return await S.post("/title/edit/media-details",{...e}).then(l=>l).catch(l=>l)}async submitData(e,l,t){return await S.post("/title/edit/submit-all-save-title",{draft_relation_id:e,title_id:l,title_type:t}).then(o=>o).catch(o=>o)}}const Zt="/assets/img-tags.6db0371d.svg",Wt={name:"PosterThumb",components:{},props:{poster:Object},data(){return{shows:!1,toggle:!1}},directives:{clickOutside:Xe.directive},methods:{removeItem(){this.$emit("removeItem",this.poster),this.toggle=!1,this.shows=!1},setMainPoster(){this.$emit("setPoster",this.poster),this.toggle=!1,this.shows=!1}}},Kt={class:"thumbs"},Gt=["src"],Yt={key:0,class:"defaults"},xt=a("img",{src:Zt},null,-1),Qt=[xt],Xt={key:0,class:"overlay"},$t={key:1,class:"optionmenu"},ei=a("img",{src:Et,alt:"play"},null,-1),ti=[ei],ii={class:"dropstxt"};function si(s,e,l,t,o,d){const g=$e("click-outside");return R((c(),u("div",Kt,[a("div",{class:"imgs-area",onClick:e[0]||(e[0]=k=>o.shows=!o.shows)},[a("img",{src:l.poster.poster_path,alt:"img"},null,8,Gt),l.poster.is_main_poster=="y"?(c(),u("span",Yt,Qt)):b("v-if",!0)]),o.shows?(c(),u("div",Xt)):b("v-if",!0),o.shows?(c(),u("div",$t,[a("span",{onClick:e[1]||(e[1]=k=>o.toggle=!o.toggle)},ti),R(a("div",ii,[a("p",{onClick:e[2]||(e[2]=(...k)=>d.setMainPoster&&d.setMainPoster(...k))},r(s.$t("videoThumb.setMainPoster")),1),a("p",{onClick:e[3]||(e[3]=(...k)=>d.removeItem&&d.removeItem(...k))},r(s.$t("button.delete")),1)],512),[[je,o.toggle]])])):b("v-if",!0)])),[[g,()=>(o.shows=!1,o.toggle=!1)]])}const ai=ye(Wt,[["render",si],["__file","D:/workspace/11-db-frontend/11_db/src/components/PosterThumb.vue"]]);class ot{async getSeasonDetails(e,l){return await S.post("/title/season-request-list",{draft_request_id:e,site_language:l}).then(t=>t).catch(t=>t)}async addPrimaryDetails(e){return await S.post("/title/add-tv-primary-details",{...e}).then(l=>l).catch(l=>l)}async getPrimaryDetails(e,l,t){return await S.get("/title/get-tv-primary-details",{params:{site_language:l,request_id:e,tmdb_id:t}}).then(o=>o).catch(o=>o)}async getSeasonList(e,l){return await S.post("/title/episode/season-list",{draft_request_id:e,site_language:l}).then(t=>t).catch(t=>t)}async seasonDetails(e,l,t,o,d){return await S.get(`/title/get-tv-request-season-details/${l}?language=${e}&season_id=${t}&tmdb_id=${o}&season_no=${d}`).then(g=>g).catch(g=>g)}async getSeasonOTTList(e,l){return await S.get(`/title/ott-service-provider-list?site_language=${e}&type=${l}`).then(t=>t).catch(t=>t)}async getChannelList(){return await S.get("/title/tv-network-list").then(e=>e).catch(e=>e)}async addSeasonDeatils(e){return await S.post("/title/add-season-details",e).then(l=>l).catch(l=>l)}async searchConnections(e){return await S.get("/title/title-search-for-connections",{params:{...e}}).then(l=>l).catch(l=>l)}async searchEpisodes(e){return await S.post("/title/episode-request-list",{...e}).then(l=>l).catch(l=>l)}async saveEpisode(e){return await S.post("/title/save-episode-details",{...e}).then(l=>l).catch(l=>l)}async getEpisodeDetails(e,l,t,o,d,g){return await S.get(`/title/get-tv-request-episode-details/${l}?language=${e}&episode_id=${t}&episode_number=${o}&tmdb_id=${d}&season_no=${g}`).then(k=>k).catch(k=>k)}async addEpisodeDetails(e){return await S.post("/title/add-episode-details",e).then(l=>l).catch(l=>l)}}const li="/assets/img-upload.d673f6e3.svg";const oi={name:"MediaDetails",components:{Tabs:Fe,TabWrapper:Ue,VideoThumb:Nt,ImageThumb:Vt,PosterThumb:ai,PopUpModal:Re,Modal:Je},props:{site_language:{type:String},itemType:{type:String},saveIdList:{type:Object}},emits:["selectedId","isEditOn"],created(){this.AddNewMovieService=new ze,this.addNewTVService=new ot,this.EditMovieService=new He,this.EditTVService=new lt},data(){return{isEdit:!1,toggle:!1,hover:!1,hover2:!1,isVideoModal:!1,isImageModal:!1,isPosterModal:!1,video_url:"",video_title:"",is_official_trailer:"",error:{},video_list:[],background_image:"",background_image_url:"",background_error_msg:"",multipleImages:[],images:[],title_type:this.itemType=="tv"?"tv":"movie",video_details:[],image_details:[],poster_details:[],is_main_poster:"",poster_url:"",poster_image:"",poster_image_list:[],routeId:this.$route.params.id,draft_media_id:"",image_list:[],seasonData:[],season_id:"",isSubmit:!1,background_image_object:[],isAddNewImages:!1,isAddNewPoster:!1,title_id:this.$route.params.type=="internal"?this.$route.params.external_id:"",exist_season_id:"",isOKOnceClick:!1,selectSeason:""}},mounted(){var e,l,t,o;this.$route.params.type=="internal"&&(this.isEdit=!0);const s=JSON.parse(localStorage.getItem("draft_ids")||"[]");s[0]?this.routeId=(l=(e=s[0])==null?void 0:e.primaryDetails[this.title_type][this.site_language])!=null&&l.draft_request_id?(o=(t=s[0])==null?void 0:t.primaryDetails[this.title_type][this.site_language])==null?void 0:o.draft_request_id:"":this.routeId=this.routeId,this.itemType=="tv"&&this.seasonList(),setTimeout(()=>{this.getVideoList(),this.getImageList(),this.getPosterList()},1e3)},watch:{site_language:function(s,e){var l,t,o,d;if(s&&s!=e){const g=JSON.parse(localStorage.getItem("draft_ids")||"[]");g[0]?this.routeId=(t=(l=g[0])==null?void 0:l.primaryDetails[this.title_type][this.site_language])!=null&&t.draft_request_id?(d=(o=g[0])==null?void 0:o.primaryDetails[this.title_type][this.site_language])==null?void 0:d.draft_request_id:"":this.routeId=this.routeId,this.itemType=="tv"&&this.seasonList(),this.video_details=[],this.background_image="",this.image_list=[],this.poster_image_list=[],this.background_image_object=[],this.background_image_url="",setTimeout(()=>{this.getVideoList(),this.getImageList(),this.getPosterList()},1e3)}}},methods:{seasonList(){let s;this.$route.params.type=="internal"?s=this.EditTVService.getEditSeasonList(this.title_id,this.routeId,this.site_language):s=this.addNewTVService.getSeasonList(this.routeId,this.site_language),(this.routeId||this.title_id)&&s.then(e=>{e.status==200?(this.seasonData=e.data.results,this.selectSeason=e.data.results[0],this.season_id=e.data.results[0].draft_season_id,this.exist_season_id=e.data.results[0].season_id?e.data.results[0].season_id:""):(this.seasonData=[],this.selectSeason="",this.season_id="",this.exist_season_id="",this.video_details=[],this.background_image="",this.image_list=[],this.poster_image_list=[],this.background_image_object=[],this.background_image_url="")}).catch(e=>{})},getSeasonId(s){this.season_id=s.draft_season_id?s.draft_season_id:"",this.exist_season_id=s.season_id?s.season_id:"",this.selectSeason=s,this.video_details=[],this.background_image="",this.image_list=[],this.poster_image_list=[],this.background_image_object=[],this.background_image_url="",this.getVideoList(),this.getImageList(),this.getPosterList()},getVideoList(){let s;this.$route.params.type=="internal"?s=this.EditMovieService.editMediaRequestList(this.title_id,this.routeId,this.site_language,this.title_type,"video",this.exist_season_id,this.season_id?this.season_id:""):s=this.AddNewMovieService.mediaRequestList(this.routeId,this.site_language,this.title_type,"video",this.season_id),(this.routeId||this.title_id)&&s.then(e=>{var l,t;e.status==200&&(this.video_details=e.data.video_details||e.data.result,this.draft_media_id=(l=e.data.video_details[0])!=null&&l.draft_media_id?(t=e.data.video_details[0])==null?void 0:t.draft_media_id:this.draft_media_id,Array.from(e.data.video_details).forEach((o,d)=>{this.video_details[d].video_id=o.id?o.id:"",this.video_details[d].id=this.validateVimeoURL(o.video_url)||this.matchYoutubeUrl(o.video_url),this.validateVimeoURL(o.video_url)?this.video_details[d].type="vimeo":this.video_details[d].type="youtube",this.video_details[d].action_type="e",this.video_list.push({video_url:o.video_url,video_title:o.video_title,is_official_trailer:o.is_official_trailer,action_type:"e"})}))}).catch(e=>{})},getImageList(){let s;this.$route.params.type=="internal"?s=this.EditMovieService.editMediaRequestList(this.title_id,this.routeId,this.site_language,this.title_type,"image",this.exist_season_id,this.season_id):s=this.AddNewMovieService.mediaRequestList(this.routeId,this.site_language,this.title_type,"image",this.season_id),(this.routeId||this.title_id)&&s.then(e=>{var l,t,o,d;e.status==200&&(this.image_details=e.data.image_details||e.data.result,this.draft_media_id=(l=e.data.bg_image_details[0])!=null&&l.draft_media_id?(t=e.data.bg_image_details[0])==null?void 0:t.draft_media_id:this.draft_media_id,this.draft_media_id=(o=e.data.image_details[0])!=null&&o.draft_media_id?(d=e.data.image_details[0])==null?void 0:d.draft_media_id:this.draft_media_id,this.background_image_url=e.data.bg_image_details[0].image_path,this.background_image_object.push({action_type:"e",originalname:e.data.bg_image_details[0].image_original_name,filename:e.data.bg_image_details[0].image_file_name||e.data.bg_image_details[0].image_original_name,path:e.data.bg_image_details[0].image_path,size:"",mime_type:""}),this.$route.params.type=="internal"&&(this.background_image_object[0].id=e.data.bg_image_details[0].id?e.data.bg_image_details[0].id:""),Array.from(this.image_details).forEach((g,k)=>{this.image_list.push({originalname:g.image_file_name||g.image_original_name,path:g.image_path,size:"",mime_type:"",filename:g.image_file_name,action_type:"e",id:g.id?g.id:""}),this.image_details[k].action_type="e",this.image_details[k].filename=g.image_file_name||g.image_original_name,this.image_details[k].size="",this.image_details[k].mime_type="",this.image_details[k].id=g.id?g.id:""}))}).catch(e=>{})},getPosterList(){let s;this.$route.params.type=="internal"?s=this.EditMovieService.editMediaRequestList(this.title_id,this.routeId,this.site_language,this.title_type,"poster",this.exist_season_id,this.season_id):s=this.AddNewMovieService.mediaRequestList(this.routeId,this.site_language,this.title_type,"poster",this.season_id),(this.routeId||this.title_id)&&s.then(e=>{var l,t;e.status==200&&(this.poster_details=e.data.poster_details||e.data.result,this.draft_media_id=(l=e.data.poster_details[0])!=null&&l.draft_media_id?(t=e.data.poster_details[0])==null?void 0:t.draft_media_id:this.draft_media_id,Array.from(e.data.poster_details).forEach((o,d)=>{this.poster_image_list.push({poster_id:o.id?o.id:"",originalname:o.poster_original_name,path:o.poster_path,is_main_poster:o.is_main_poster,action_type:o.action_type,filename:o.poster_file_name,size:"",mime_type:""}),this.poster_details[d].poster_id=o.id?o.id:"",this.poster_details[d].id=d+1,this.poster_details[d].action_type="e",this.poster_details[d].filename=o.poster_file_name,this.poster_details[d].size="",this.poster_details[d].mime_type=""}))}).catch(e=>{})},AddVideo(){this.error.isValidUrl=ue(()=>""),this.error.isURLExist="",this.error.isValidUrlName=ue(()=>"");let s=this.matchYoutubeUrl(this.video_url),e=this.validateVimeoURL(this.video_url);if(this.isValidUrl(this.video_url))if(e!=!1||s!=!1){let t=s?"youtube":"vimeo";this.video_details.find(d=>d.video_url==this.video_url)?this.error.isURLExist=this.$t("addNewMoviesForm.videoAlreadyUploaded"):(this.video_details.push({video_url:this.video_url,video_title:this.video_title,is_official_trailer:this.is_official_trailer==!0?"y":"n",id:s||e,type:t,action_type:"a"}),this.isVideoModal=!1,this.video_url="",this.video_title="",this.is_official_trailer=!1)}else this.error.isValidUrl=ue(()=>this.$t("Error.youtubeVomeo"));else this.error.isValidUrlName=ue(()=>this.$t("Error.validEnterUrl"))},cancelVideo(){this.isVideoModal=!1,this.video_url="",this.video_title="",this.is_official_trailer="",this.error.isValidUrl=ue(()=>""),this.error.isURLExist="",this.error.isValidUrlName=ue(()=>"")},onFileChange(s){let e,l=s.target.files||s.dataTransfer.files;if(!l.length)return;this.background_image=l[0];let t=s.target.files[0].size,o=/(\.jpg|\.jpeg|\.png)$/i;if(o.exec(this.background_image.name)){if(t>1024*1024*25)return this.background_error_msg="\uC5C5\uB85C\uB4DC \uD30C\uC77C \uC6A9\uB7C9\uC740 \uCD5C\uB300 25mb\uC785\uB2C8\uB2E4",x.fire({title:this.$t("Error.uploadFileSize")}),document.querySelector("#bg-picker-1").value="",this.background_image_url="",!1;if(o.exec(this.background_image.name)){this.background_error_msg="",this.background_image_url=URL.createObjectURL(s.target.files[0]);let d=new FormData;d.append("site_language",this.site_language),d.append("image",this.background_image),this.itemType=="tv"?this.background_image_object.map(g=>{g.action_type="d"}):this.background_image_object=[],this.$route.params.type=="internal"?e=this.EditMovieService.uploadBackgroundImages(d):(d.append("draft_request_id",this.routeId),e=this.AddNewMovieService.uploadBackgroundImages(d)),e.then(g=>{g.status==200&&(this.background_image_url=g.data.bg_image_details.location,this.background_image_object.push({action_type:"a",originalname:g.data.bg_image_details.originalname,filename:g.data.bg_image_details.filename,path:g.data.bg_image_details.location,size:g.data.bg_image_details.size,mime_type:g.data.bg_image_details.mime_type}),this.$route.params.type=="internal"&&(this.background_image_object[0].id=""))}).catch(g=>{})}}else return this.background_error_msg="jpg, jpeg, png \uD30C\uC77C\uB9CC \uC5C5\uB85C\uB4DC \uAC00\uB2A5\uD569\uB2C8\uB2E4",x.fire({title:this.$t("Error.onlyJpg")}),document.querySelector("#bg-picker-1").value="",this.background_image_url="",!1;this.background_error_msg=""},selectMultipleImages(s){let e=s.target.files||s.dataTransfer.files;if(!e.length)return;let l=e.length,t=this.multipleImages.length+l,o=/(\.jpg|\.jpeg|\.png)$/i;for(let d=0;d<l;d++)if(o.exec(e[d].name)){if(s.target.files[d].size>1024*1024*25)return x.fire({title:this.$t("Error.uploadFileSize")}),document.querySelector("#image-pick").value="",!1;o.exec(e[d].name)&&(t>5?(x.fire({title:this.$t("addNewPeople.mediadetails.Maximum5imagesuploaded")}),document.querySelector("#image-pick").value=""):(this.images.push(e[d]),this.multipleImages.push({url:URL.createObjectURL(s.target.files[d]),file:e[d]})))}else return x.fire({title:this.$t("Error.onlyJpg")}),document.querySelector("#image-pick").value="",!1},removeImages(s){let e=this.multipleImages.find(t=>t.url==s.url);e&&this.multipleImages.splice(this.multipleImages.indexOf(e),1);let l=this.images.find(t=>t==s.file);l&&this.images.splice(this.images.indexOf(l),1)},addNewImages(){let s;this.isAddNewImages=!0;let e=new FormData;this.images.forEach((l,t)=>e.append("images",l)),this.$route.params.type=="internal"?s=this.EditMovieService.uploadMediaImages(e):(e.append("draft_request_id",this.routeId),s=this.AddNewMovieService.uploadMediaImages(e)),s.then(l=>{l.status==200?(this.isAddNewImages=!1,Array.from(l.data.image_list).forEach((t,o)=>{this.image_list.push({originalname:t.originalname,path:t.location,size:t.size,mime_type:t.mime_type,filename:t.filename,action_type:"a",id:""}),this.image_details.push({draft_request_id:t.request_id,image_original_name:t.originalname,image_path:t.location,draft_media_id:this.draft_media_id,size:t.size,mime_type:t.mime_type,filename:t.filename,action_type:"a",id:""})}),this.isImageModal=!1,this.images=[],this.multipleImages=[]):this.isAddNewImages=!1}).catch(l=>{})},selectPosterImage(s){let e=s.target.files||s.dataTransfer.files;if(!e.length)return;this.poster_image=e[0];let l=s.target.files[0].size,t=/(\.jpg|\.jpeg|\.png)$/i;if(t.exec(this.poster_image.name)){if(l>1024*1024*25)return x.fire({title:this.$t("Error.uploadFileSize")}),document.querySelector("#poster-pick").value="",this.poster_url="",this.poster_image="",!1;t.exec(this.poster_image.name)&&(this.poster_url=URL.createObjectURL(s.target.files[0]))}else return x.fire({title:this.$t("Error.onlyJpg")}),document.querySelector("#poster-pick").value="",this.poster_url="",this.poster_image="",!1},AddPoster(){let s;this.isAddNewPoster=!0;let e=new FormData;e.append("is_main_poster",this.is_main_poster==!0?"y":"n"),e.append("image",this.poster_image),this.$route.params.type=="internal"?s=this.EditMovieService.uploadPosterImages(e):(e.append("draft_request_id",this.routeId),s=this.AddNewMovieService.uploadPosterImages(e)),s.then(l=>{l.status==200?(this.isPosterModal=!1,this.isAddNewPoster=!1,this.poster_details.push({draft_request_id:l.data.poster_image_list[0].request_id,poster_original_name:l.data.poster_image_list[0].originalname,poster_path:l.data.poster_image_list[0].location,is_main_poster:l.data.poster_image_list[0].is_main_poster,id:this.poster_details.length+1,action_type:"a",filename:l.data.poster_image_list[0].filename,size:l.data.poster_image_list[0].size,mime_type:l.data.poster_image_list[0].mime_type,poster_id:""}),this.poster_image_list=[],Array.from(this.poster_details).forEach((t,o)=>{l.data.poster_image_list[0].is_main_poster=="y"&&t.id!==this.poster_details.length&&(t.is_main_poster="n"),this.poster_image_list.push({originalname:t.poster_original_name,path:t.poster_path,is_main_poster:t.is_main_poster,action_type:t.action_type,filename:t.filename,size:t.size,mime_type:t.mime_type,poster_id:""})}),this.poster_image="",this.poster_url="",this.is_main_poster=!1):this.isAddNewPoster=!1}).catch(l=>{})},cancelPoster(){this.isPosterModal=!1,this.poster_url=""},AddMediaDetails(){this.isSubmit=!0},submitMediaDetails(){this.saveMediaDetails()},isEditBtn(){this.isEdit=!1,this.$emit("isEditOn",!1)},saveMediaDetails(){var g,k,I,L,_,C;let s=[],e=[],l=[];this.$route.params.type=="internal"?(Array.from(this.video_details).forEach((m,h)=>{s.push({video_url:m.video_url,video_title:m.video_title,is_official_trailer:m.is_official_trailer,action_type:m.action_type,id:m.video_id?m.video_id:""})}),Array.from(this.image_list).forEach((m,h)=>{e.push({id:m.id?m.id:"",originalname:m.originalname,filename:m.filename?m.filename:m.originalname,path:m.path,size:m.size?m.size:0,mime_type:m.mime_type,action_type:m.action_type})}),Array.from(this.poster_image_list).forEach((m,h)=>{l.push({originalname:m.originalname,path:m.path,is_main_poster:m.is_main_poster,action_type:m.action_type,filename:m.filename?m.filename:m.originalname,size:m.size,mime_type:m.mime_type,id:m.poster_id?m.poster_id:""})})):(Array.from(this.video_details).forEach((m,h)=>{s.push({video_url:m.video_url,video_title:m.video_title,is_official_trailer:m.is_official_trailer,action_type:m.action_type})}),Array.from(this.image_list).forEach(m=>{e.push({originalname:m.originalname,filename:m.filename?m.filename:m.originalname,path:m.path,size:m.size,mime_type:m.mime_type,action_type:m.action_type})}),Array.from(this.poster_image_list).forEach((m,h)=>{l.push({originalname:m.originalname,path:m.path,is_main_poster:m.is_main_poster,action_type:m.action_type,filename:m.filename,size:m.size,mime_type:m.mime_type})}));const t=JSON.parse(localStorage.getItem("draft_ids")||"[]");t[0]&&this.$route.params.type=="internal"&&(this.routeId=(k=(g=t[0])==null?void 0:g.primaryDetails[this.title_type][this.site_language])!=null&&k.draft_request_id?(L=(I=t[0])==null?void 0:I.primaryDetails[this.title_type][this.site_language])==null?void 0:L.draft_request_id:(_=t[0])!=null&&_.primaryDetails[this.title_type].draft_relation_id?(C=t[0])==null?void 0:C.primaryDetails[this.title_type].draft_relation_id:"");let o={draft_request_id:this.routeId,draft_media_id:this.draft_media_id,title_type:this.title_type,site_language:this.site_language,video_list:s,background_image:this.background_image_object,image_list:e,poster_image_list:l||[],season_id:this.season_id||""};this.$route.params.type=="internal"&&(o.title_id=this.title_id,o.season_id=this.exist_season_id,o.draft_season_id=this.season_id);let d;this.$route.params.type=="internal"?d=this.EditMovieService.editMediaDetails(o):d=this.AddNewMovieService.addMediaDetails(o),d.then(m=>{var h;if(m.status==200){if(this.saveIdList.media_request_id=m.data.data[0].draft_media_id,this.$emit("selectedId",this.saveIdList),this.isOKOnceClick=!1,this.$route.params.type=="internal"){const z=JSON.parse(localStorage.getItem("draft_ids")||"[]");if(z[0])((h=z[0].primaryDetails[this.itemType][this.site_language])==null?void 0:h.draft_request_id)||(z[0].primaryDetails[this.itemType][this.site_language]=m.data.data[0]);else{const te={primaryDetails:{[this.itemType]:{[this.site_language]:{draft_request_id:m.data.data[0].draft_request_id},draft_relation_id:m.data.data[0].draft_request_id}}};z.push(te)}localStorage.setItem("draft_ids",JSON.stringify(z)),this.itemType=="movie"?this.$router.push(`/AddNewMovieForm/${this.$route.params.external_id}/internal/${m.data.data[0].draft_request_id}`):this.$router.push(`/add-tv-details/${this.$route.params.external_id}/internal/${m.data.data[0].draft_request_id}`)}this.video_list=[],s=[],e=[],l=[],this.poster_image_list=[],this.background_image_object=[],this.image_list=[],this.getVideoList(),this.getImageList(),this.getPosterList(),this.isSubmit=!1,x.fire({title:this.$t("Error.success")})}else this.isOKOnceClick=!1}).catch(m=>{})},removePosterItem(s){let e=this.poster_details.find(l=>l==s);e&&(this.itemType=="tv"?e.action_type=="a"?this.poster_details.splice(this.poster_details.indexOf(s),1):e.action_type="d":this.poster_details.splice(this.poster_details.indexOf(s),1)),this.poster_image_list=[],Array.from(this.poster_details).forEach((l,t)=>{this.poster_image_list.push({originalname:l.poster_original_name,path:l.poster_path,is_main_poster:l.is_main_poster,action_type:l.action_type,filename:l.filename,size:l.size,mime_type:l.mime_type,poster_id:l.poster_id?l.poster_id:""})})},setMainPoster(s){let e=this.poster_details.find(l=>l==s);e&&(e.is_main_poster="y"),this.poster_image_list=[],Array.from(this.poster_details).forEach((l,t)=>{l.id!=s.id&&(l.is_main_poster="n"),this.poster_image_list.push({originalname:l.poster_original_name,path:l.poster_path,is_main_poster:l.is_main_poster,action_type:l.action_type,filename:l.filename,size:l.size,mime_type:l.mime_type,poster_id:l.poster_id?l.poster_id:""})})},removeVideoItem(s){let e=this.video_details.find(l=>l==s);e&&(this.itemType=="tv"?e.action_type=="a"?this.video_details.splice(this.video_details.indexOf(s),1):e.action_type="d":this.video_details.splice(this.video_details.indexOf(s),1))},setOfficialTrailer(s){let e=this.video_details.find(l=>l==s);e&&(e.is_official_trailer="y")},removeImagesItem(s){let e=this.image_details.find(l=>l==s);e&&(this.itemType=="tv"?e.action_type=="a"?this.image_details.splice(this.image_details.indexOf(s),1):e.action_type="d":this.image_details.splice(this.image_details.indexOf(s),1)),this.image_list=[],Array.from(this.image_details).forEach((l,t)=>{this.image_list.push({originalname:l.originalname,path:l.image_path,size:l.size,mime_type:l.mime_type,filename:l.filename,action_type:l.action_type,id:l.id})})},validateVimeoURL:kt,matchYoutubeUrl:Ct,isValidUrl:It,computed:ue}},$=s=>(et("data-v-163ee53d"),s=s(),tt(),s),di={class:"media-from-details"},ri={class:"media-tabber-area"},ni={class:"title-area inner-sub-heading"},_i={class:"thumb-grid-area"},ci={key:1,class:"tv-no-data"},ui={key:1,class:"tv-no-data"},hi={class:"image-upload-show-area"},vi={class:"image-upload-area"},mi={key:0,class:"img-uploadbox"},gi={class:"upload-options"},pi=["disabled"],fi={class:"img-icons"},yi=$(()=>a("circle",{cx:"34.4999",cy:"34.9999",r:"33.5624",stroke:"white"},null,-1)),bi=$(()=>a("path",{d:"M35.5 44H26.1C25.9409 44 25.7883 43.9368 25.6757 43.8243C25.5632 43.7117 25.5 43.5591 25.5 43.4V26.6C25.5 26.4409 25.5632 26.2883 25.6757 26.1757C25.7883 26.0632 25.9409 26 26.1 26H42.9C43.0591 26 43.2117 26.0632 43.3243 26.1757C43.4368 26.2883 43.5 26.4409 43.5 26.6V36",stroke:"white","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)),wi=$(()=>a("path",{d:"M25.5 39L32.5 36L38 38.5M38.5 42H41.5M44.5 42H41.5M41.5 42V39M41.5 42V45M38.5 33C37.9696 33 37.4609 32.7893 37.0858 32.4142C36.7107 32.0391 36.5 31.5304 36.5 31C36.5 30.4696 36.7107 29.9609 37.0858 29.5858C37.4609 29.2107 37.9696 29 38.5 29C39.0304 29 39.5391 29.2107 39.9142 29.5858C40.2893 29.9609 40.5 30.4696 40.5 31C40.5 31.5304 40.2893 32.0391 39.9142 32.4142C39.5391 32.7893 39.0304 33 38.5 33V33Z",stroke:"white","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)),ki=[yi,bi,wi],Ci={key:1,class:"img-editbox"},Ii={class:"img-display-area"},Li=["src"],Mi={class:"img-icon"},Di=["disabled"],Ti=$(()=>a("svg",{width:"69",height:"70",viewBox:"0 0 69 70",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("circle",{cx:"34.4999",cy:"34.9999",r:"33.0624",stroke:"white","stroke-width":"2"}),a("path",{d:"M41.7075 27.7911L41.7076 27.7912C42.3745 28.4581 42.6336 29.0162 42.7348 29.3775C42.7795 29.5368 42.7947 29.6625 42.7989 29.7479L36.8837 35.6631L36.8836 35.6631L31.1109 41.4334C31.0866 41.317 31.0477 41.172 30.9854 41.0055C30.8321 40.5959 30.5401 40.064 29.9886 39.513C29.4368 38.9612 28.905 38.6693 28.4956 38.5161C28.3269 38.453 28.1803 38.414 28.0633 38.3898L33.8377 32.6163L33.8377 32.6162L39.7534 26.7006C39.8386 26.7048 39.964 26.72 40.123 26.7645C40.4841 26.8657 41.0417 27.1248 41.7075 27.7911ZM30.6512 41.7477C30.7066 41.7465 30.7558 41.7454 30.7996 41.7445L30.7996 41.7445L30.6512 41.7477ZM27.5158 41.9903C27.7506 42.221 27.9484 42.4864 28.1025 42.7772L26.3489 43.149L26.7208 41.3954C27.0122 41.5504 27.2782 41.749 27.5097 41.9843L27.5097 41.9844L27.5158 41.9903ZM27.7542 38.8507L27.7574 38.6957L27.7574 38.6957C27.7564 38.7411 27.7554 38.7925 27.7542 38.8507Z",stroke:"white"})],-1)),Si={class:"note"},Ei=$(()=>a("br",null,null,-1)),Ni={class:"title-area"},Vi={class:"images-grid-area"},qi={key:1,class:"tv-no-data"},Ai={class:"image-upload-show-area nomargin"},ji={class:"title-area inner-sub-heading"},Bi={class:"poster-grid-area"},Oi={key:1,class:"tv-no-data"},Pi={class:"new-cast-modal"},Fi={class:"cast-details"},Ui={class:"right"},Ri={class:"form-grp"},zi={class:"video-error-heading"},Ji={for:""},Hi=$(()=>a("span",null,"*",-1)),Zi={key:0,class:"error"},Wi={key:1,class:"error"},Ki={class:"form-grp"},Gi={for:""},Yi=$(()=>a("span",null,"*",-1)),xi=["placeholder"],Qi={class:"add-check"},Xi={for:"official-trailer"},$i=$(()=>a("div",{class:"checkbox"},[a("img",{src:st,alt:"",class:"unchecked-icon"}),a("img",{src:at,alt:"",class:"checked-icon"})],-1)),es={class:"check-text"},ts={class:"button-group"},is=["disabled"],ss={class:"new-cast-modal add-img-modal"},as={class:"upload-img-btn"},ls={class:"image-grid"},os=["src"],ds=["onClick"],rs={class:"button-group"},ns=["disabled"],_s={class:"new-cast-modal"},cs={class:"add-poster-image"},us={class:"image-picker"},hs=$(()=>a("label",{for:"poster-pick"},[a("span",{class:"upload-img-btn"},[a("img",{src:li})])],-1)),vs={class:"image-show"},ms=["src"],gs={key:1,src:ee},ps={class:"add-check"},fs={for:"official-trailer"},ys=$(()=>a("div",{class:"checkbox"},[a("img",{src:st,alt:"",class:"unchecked-icon"}),a("img",{src:at,alt:"",class:"checked-icon"})],-1)),bs={class:"check-text"},ws={class:"alert"},ks={class:"button-group"},Cs=["disabled"],Is={class:"new-cast-modal center-popup-modal"},Ls=["innerHTML"],Ms={class:"button-group"},Ds=["disabled"];function Ts(s,e,l,t,o,d){const g=G("SearchDropdown"),k=G("VideoThumb"),I=G("Tabs"),L=G("ImageThumb"),_=G("PosterThumb"),C=G("TabWrapper"),m=G("PopUpModal");return c(),u(U,null,[a("div",di,[a("div",{class:f(o.title_type=="tv"?"page-heading-area with-dropdown":"page-heading-area")},[a("h2",null,r(s.$t("addNewMoviesForm.media")),1),o.title_type=="tv"?(c(),u(U,{key:0},[b(` <select @change="getSeasonId($event)" class="select-style">\r
          <option\r
            v-for="(item, index) of seasonData"\r
            :key="index"\r
            :value="[item.draft_season_id, item.season_id]"\r
          >\r
            {{ $t("season.season") }} {{ item.season_no }}\r
          </option>\r
        </select> `),V(g,{onDropdownValue:d.getSeasonId,search_type:o.selectSeason,searchTitleListItem:o.seasonData,searchtitle:o.seasonData.length>0?h=>`${s.$t("credit.season")} ${h.season_no}`:"","return-object":"",clearable:!1},null,8,["onDropdownValue","search_type","searchTitleListItem","searchtitle"])],64)):b("v-if",!0)],2),a("div",ri,[V(C,null,{default:D(()=>[V(I,{title:"addNewPeople.mediadetails.videoTitle"},{default:D(()=>[a("div",ni,[a("h2",null,r(s.$t("addNewMoviesForm.video")),1),a("div",{class:f(o.isEdit?"isDisabled":"")},[a("a",{class:f(["advid-btn",o.isEdit?"pointer-events-none":""]),onClick:e[0]||(e[0]=h=>o.isVideoModal=!0)},r(s.$t("addNewMoviesForm.add"))+" +",3)],2)]),a("div",_i,[o.video_details.length>0?(c(!0),u(U,{key:0},Y(o.video_details,(h,z)=>(c(),u(U,{key:z},[h.action_type!="d"?(c(),Pe(k,{key:0,video:h,onRemoveVideoItem:d.removeVideoItem,onSetTrailer:d.setOfficialTrailer,isEdit:o.isEdit},null,8,["video","onRemoveVideoItem","onSetTrailer","isEdit"])):(c(),u("div",ci,r(s.$t("addNewMoviesForm.noData")),1))],64))),128)):(c(),u("div",ui,r(s.$t("addNewMoviesForm.noData")),1))]),o.title_type=="movie"?(c(),u("div",{key:0,class:f(o.video_details.length&&o.routeId==""&&s.$route.params.type!="internal"?"isDisabled":"")},[o.isEdit?(c(),u("a",{key:1,onClick:e[2]||(e[2]=(...h)=>d.isEditBtn&&d.isEditBtn(...h)),class:"saveBtn"},r(s.$t("button.edit")),1)):(c(),u("a",{key:0,onClick:e[1]||(e[1]=(...h)=>d.AddMediaDetails&&d.AddMediaDetails(...h)),class:f([o.video_details.length&&o.routeId==""&&s.$route.params.type!="internal"?"pointer-events-none":"","saveBtn"])},r(s.$t("button.save")),3))],2)):b("v-if",!0),o.title_type=="tv"?(c(),u("div",{key:1,class:f(o.video_details.length&&o.routeId!=""&&l.saveIdList.season_id!=""||s.$route.params.type=="internal"&&(l.saveIdList.season_id!=""||o.exist_season_id||o.season_id)?"":"isDisabled")},[o.isEdit?(c(),u("a",{key:1,class:"saveBtn",onClick:e[4]||(e[4]=(...h)=>d.isEditBtn&&d.isEditBtn(...h))},r(s.$t("button.edit")),1)):(c(),u("a",{key:0,onClick:e[3]||(e[3]=(...h)=>d.AddMediaDetails&&d.AddMediaDetails(...h)),class:f([o.video_details.length&&o.routeId!=""&&l.saveIdList.season_id!=""||s.$route.params.type=="internal"&&(l.saveIdList.season_id!=""||o.exist_season_id||o.season_id)?"":"pointer-events-none","saveBtn"])},r(s.$t("button.save")),3))],2)):b("v-if",!0)]),_:1}),V(I,{title:"mediaSection.images"},{default:D(()=>[a("div",hi,[a("div",vi,[a("h3",null,r(s.$t("addNewMoviesForm.backgroundImage")),1),o.background_image_url?b("v-if",!0):(c(),u("div",mi,[a("div",gi,[a("label",{class:f(o.routeId==""&&s.$route.params.type!="internal"||o.isEdit?"isDisabled":"")},[a("input",{type:"file",disabled:o.routeId==""&&s.$route.params.type!="internal"||o.isEdit,class:"image-upload",accept:"image/*",onChange:e[5]||(e[5]=(...h)=>d.onFileChange&&d.onFileChange(...h)),id:"bg-picker-1"},null,40,pi),a("span",fi,[(c(),u("svg",{width:"69",height:"70",viewBox:"0 0 69 70",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:f(o.routeId==""&&s.$route.params.type!="internal"?"isDisabled":"")},ki,2))])],2)])])),o.background_image_url?(c(),u("div",Ci,[a("div",Ii,[a("img",{src:o.background_image_url},null,8,Li)]),a("span",Mi,[a("input",{type:"file",class:"image-upload",accept:"image/*",onChange:e[6]||(e[6]=(...h)=>d.onFileChange&&d.onFileChange(...h)),id:"bg-picker-1",disabled:o.routeId==""&&s.$route.params.type!="internal"||o.isEdit},null,40,Di),Ti])])):b("v-if",!0),a("div",Si,[a("p",null,[he(r(s.$t("addNewMoviesForm.fileSize")),1),a("span",null,r(s.$t("addNewMoviesForm.lessthan25mb")),1),he(r(s.$t("addNewMoviesForm.imageSize")),1),a("span",null,r(s.$t("addNewMoviesForm.1920x946px")),1),Ei,he(r(s.$t("addNewMoviesForm.fileType")),1),a("span",null,r(s.$t("addNewMoviesForm.jpgPng")),1)])])]),a("div",Ni,[a("h2",null,r(s.$t("addNewMoviesForm.images")),1),a("div",{class:f(o.isEdit?"isDisabled":"")},[a("a",{class:f(["advid-btn",o.isEdit?"pointer-events-none":""]),onClick:e[7]||(e[7]=h=>o.isImageModal=!0)},r(s.$t("addNewMoviesForm.add"))+" +",3)],2)]),a("div",Vi,[o.image_details.length>0?(c(!0),u(U,{key:0},Y(o.image_details,(h,z)=>(c(),u(U,{key:z},[h.action_type!="d"?(c(),Pe(L,{key:0,image:h,onRemoveItem:d.removeImagesItem,isEdit:o.isEdit},null,8,["image","onRemoveItem","isEdit"])):b("v-if",!0)],64))),128)):(c(),u("div",qi,r(s.$t("addNewMoviesForm.noData")),1))]),o.title_type=="movie"?(c(),u("div",{key:0,class:f(o.image_list.length==0&&!o.background_image_url||o.routeId==""&&s.$route.params.type!="internal"?"isDisabled":"")},[o.isEdit?(c(),u("a",{key:1,onClick:e[9]||(e[9]=(...h)=>d.isEditBtn&&d.isEditBtn(...h)),class:"saveBtn"},r(s.$t("button.edit")),1)):(c(),u("a",{key:0,onClick:e[8]||(e[8]=(...h)=>d.AddMediaDetails&&d.AddMediaDetails(...h)),class:f([o.image_list.length==0&&!o.background_image_url||o.routeId==""&&s.$route.params.type!="internal"?"pointer-events-none":"","saveBtn"])},r(s.$t("button.save")),3))],2)):b("v-if",!0),o.title_type=="tv"?(c(),u("div",{key:1,class:f((o.image_list.length||o.background_image_url)&&(o.routeId!=""&&l.saveIdList.season_id!=""||s.$route.params.type=="internal"&&(l.saveIdList.season_id!=""||o.exist_season_id||o.season_id))?"":"isDisabled")},[o.isEdit?(c(),u("a",{key:1,class:"saveBtn",onClick:e[11]||(e[11]=(...h)=>d.isEditBtn&&d.isEditBtn(...h))},r(s.$t("button.edit")),1)):(c(),u("a",{key:0,onClick:e[10]||(e[10]=(...h)=>d.AddMediaDetails&&d.AddMediaDetails(...h)),class:f([(o.image_list.length||o.background_image_url)&&(o.routeId!=""&&l.saveIdList.season_id!=""||s.$route.params.type=="internal"&&(l.saveIdList.season_id!=""||o.exist_season_id||o.season_id))?"":"pointer-events-none","saveBtn"])},r(s.$t("button.save")),3))],2)):b("v-if",!0)])]),_:1}),V(I,{title:"addNewMoviesForm.poster"},{default:D(()=>[a("div",Ai,[a("div",ji,[a("h2",null,r(s.$t("addNewMoviesForm.poster")),1),a("div",{class:f(o.isEdit?"isDisabled":"")},[a("a",{href:"#",class:f(["advid-btn",o.isEdit?"pointer-events-none":""]),onClick:e[12]||(e[12]=h=>o.isPosterModal=!0)},r(s.$t("addNewMoviesForm.add"))+" +",3)],2)]),a("div",Bi,[o.poster_details.length>0?(c(!0),u(U,{key:0},Y(o.poster_details,(h,z)=>(c(),u(U,{key:z},[h.action_type!="d"?(c(),Pe(_,{key:0,poster:h,onRemoveItem:d.removePosterItem,onSetPoster:d.setMainPoster},null,8,["poster","onRemoveItem","onSetPoster"])):b("v-if",!0)],64))),128)):(c(),u("div",Oi,r(s.$t("addNewMoviesForm.noData")),1))]),o.title_type=="movie"?(c(),u("div",{key:0,class:f(o.poster_image_list.length==0?"isDisabled":"")},[o.isEdit?(c(),u("a",{key:1,class:"saveBtn",onClick:e[14]||(e[14]=(...h)=>d.isEditBtn&&d.isEditBtn(...h))},r(s.$t("button.edit")),1)):(c(),u("a",{key:0,onClick:e[13]||(e[13]=(...h)=>d.AddMediaDetails&&d.AddMediaDetails(...h)),class:f([o.poster_image_list.length==0?"pointer-events-none":"","saveBtn"])},r(s.$t("button.save")),3))],2)):b("v-if",!0),o.title_type=="tv"?(c(),u("div",{key:1,class:f(o.poster_image_list.length&&(o.routeId!=""&&l.saveIdList.season_id!=""||s.$route.params.type=="internal"&&(l.saveIdList.season_id!=""||o.exist_season_id||o.season_id))?"":"isDisabled")},[o.isEdit?(c(),u("a",{key:1,class:"saveBtn",onClick:e[16]||(e[16]=(...h)=>d.isEditBtn&&d.isEditBtn(...h))},r(s.$t("button.edit")),1)):(c(),u("a",{key:0,onClick:e[15]||(e[15]=(...h)=>d.AddMediaDetails&&d.AddMediaDetails(...h)),class:f([o.poster_image_list.length&&(o.routeId!=""&&l.saveIdList.season_id!=""||s.$route.params.type=="internal"&&(l.saveIdList.season_id!=""||o.exist_season_id||o.season_id))?"":"pointer-events-none","saveBtn"])},r(s.$t("button.save")),3))],2)):b("v-if",!0)])]),_:1})]),_:1})])]),a("div",Pi,[V(m,{isModal:o.isVideoModal},{header:D(()=>[a("h1",null,r(s.$t("addNewMoviesForm.AddNewVideo")),1),b(` <button @click="isVideoModal = false">\r
          <img src="@/assets/icons/modal-cross-icon.svg" alt="" />\r
        </button> `)]),body:D(()=>[a("div",Fi,[a("div",Ui,[a("div",Ri,[a("div",zi,[a("label",Ji,[he(r(s.$t("addNewMoviesForm.videoURL")),1),Hi]),o.error.isURLExist?(c(),u("span",Zi,r(s.$t("addNewMoviesForm.videoAlreadyUploaded")),1)):b("v-if",!0),o.error.isValidUrlName?(c(),u("span",Wi,r(o.error.isValidUrlName),1)):b("v-if",!0)]),R(a("input",{type:"text",placeholder:"https://","onUpdate:modelValue":e[17]||(e[17]=h=>o.video_url=h),onInput:e[18]||(e[18]=(o.error.isValidUrl=d.computed(()=>""),o.error.isUniqueUrl=d.computed(()=>""))),class:f(o.error.isValidUrl||o.error.isURLExist||o.error.isValidUrlName?"error-border":""),maxlength:"250"},null,34),[[ne,o.video_url]]),a("p",{class:f(["instruction",o.error.isValidUrl?"error-url":""])},r(s.$t("addNewMoviesForm.onlyYoutubeVimeo")),3)]),a("div",Ki,[a("label",Gi,[he(r(s.$t("addNewMoviesForm.videoTitle"))+" ",1),Yi]),R(a("input",{type:"text",placeholder:s.$t("addNewMoviesForm.entervideotitle"),"onUpdate:modelValue":e[19]||(e[19]=h=>o.video_title=h),maxlength:"250"},null,8,xi),[[ne,o.video_title]]),a("div",Qi,[a("label",Xi,[R(a("input",{type:"checkbox",id:"official-trailer","onUpdate:modelValue":e[20]||(e[20]=h=>o.is_official_trailer=h)},null,512),[[Ye,o.is_official_trailer]]),$i,a("p",es,r(s.$t("addNewMoviesForm.officialtrailer")),1)])])])])])]),footer:D(()=>[a("div",ts,[a("button",{class:f(["black-outline-btn",o.video_url==""||o.video_title==""?"isDisabled":""]),disabled:o.video_url==""||o.video_title=="",onClick:e[21]||(e[21]=(...h)=>d.AddVideo&&d.AddVideo(...h))},r(s.$t("addNewMoviesForm.save")),11,is),a("button",{class:"red-fill-btn",onClick:e[22]||(e[22]=(...h)=>d.cancelVideo&&d.cancelVideo(...h))},r(s.$t("button.cancel")),1)])]),_:1},8,["isModal"])]),b(" image modal "),a("div",ss,[V(m,{isModal:o.isImageModal},{header:D(()=>[a("h1",null,r(s.$t("addNewMoviesForm.addNewImage")),1),b(` <button @click="isImageModal = false">\r
          <img src="@/assets/icons/modal-cross-icon.svg" alt="" />\r
        </button> `)]),body:D(()=>[a("div",{class:f(["image-picker",o.images.length==5?"isDisabled":""])},[a("input",{type:"file",name:"",id:"image-pick",ref:"file",multiple:"multiple",onChange:e[23]||(e[23]=(...h)=>d.selectMultipleImages&&d.selectMultipleImages(...h))},null,544),a("label",{for:"image-pick",class:f(o.images.length==5?"pointer-events-none":"")},[a("h1",as,r(s.$t("addNewMoviesForm.uploadImages")),1)],2)],2),a("div",ls,[(c(!0),u(U,null,Y(o.multipleImages,(h,z)=>(c(),u("div",{class:"each-img",key:z},[a("img",{src:h.url,alt:"",class:"picked-img"},null,8,os),a("img",{onClick:te=>d.removeImages(h),src:qt,alt:"",class:"cross-icon"},null,8,ds)]))),128))])]),footer:D(()=>[a("div",rs,[a("button",{class:f(["black-outline-btn",o.images.length==0||o.isAddNewImages||o.routeId==""&&s.$route.params.type!="internal"?"isDisabled":""]),disabled:o.images.length==0||o.isAddNewImages||o.routeId==""&&s.$route.params.type!="internal",onClick:e[24]||(e[24]=(...h)=>d.addNewImages&&d.addNewImages(...h))},r(s.$t("addNewMoviesForm.add")),11,ns),a("button",{class:"red-fill-btn",onClick:e[25]||(e[25]=h=>(o.isImageModal=!1,o.multipleImages=[],o.images=[]))},r(s.$t("addNewMoviesForm.cancel")),1)])]),_:1},8,["isModal"])]),b(" poster modal "),a("div",_s,[V(m,{isModal:o.isPosterModal},{header:D(()=>[a("h1",null,r(s.$t("addNewMoviesForm.addNewPoster")),1),b(` <button @click="isImageModal = false">\r
          <img src="@/assets/icons/modal-cross-icon.svg" alt="" />\r
        </button> `)]),body:D(()=>[a("div",cs,[a("div",us,[a("input",{type:"file",name:"",id:"poster-pick",onChange:e[26]||(e[26]=(...h)=>d.selectPosterImage&&d.selectPosterImage(...h))},null,32),hs,a("div",vs,[o.poster_url?(c(),u("img",{key:0,src:o.poster_url},null,8,ms)):(c(),u("img",gs))])]),a("div",ps,[a("label",fs,[R(a("input",{type:"checkbox",id:"official-trailer","onUpdate:modelValue":e[27]||(e[27]=h=>o.is_main_poster=h)},null,512),[[Ye,o.is_main_poster]]),ys,a("p",bs,r(s.$t("addNewMoviesForm.addMainPoster")),1)])]),a("span",ws,r(s.$t("addNewMoviesForm.imageChange")),1)])]),footer:D(()=>[a("div",ks,[a("button",{class:"black-outline-btn",onClick:e[28]||(e[28]=(...h)=>d.cancelPoster&&d.cancelPoster(...h))},r(s.$t("addNewMoviesForm.cancel")),1),a("button",{class:f(["red-fill-btn",o.poster_image==""||o.isAddNewPoster||o.routeId==""&&s.$route.params.type!="internal"?"isDisabled":""]),disabled:o.poster_image==""||o.isAddNewPoster||o.routeId==""&&s.$route.params.type!="internal",onClick:e[29]||(e[29]=(...h)=>d.AddPoster&&d.AddPoster(...h))},r(s.$t("addNewMoviesForm.add")),11,Cs)])]),_:1},8,["isModal"])]),b(" submit modal "),a("div",Is,[V(m,{isModal:o.isSubmit},{header:D(()=>[a("h1",{class:"text-center",innerHTML:s.$t("addNewMoviesForm.youShouldSubmitToSendTheAdd")},null,8,Ls)]),body:D(()=>[]),footer:D(()=>[a("div",Ms,[a("button",{class:"black-outline-btn",onClick:e[30]||(e[30]=h=>(o.isOKOnceClick=!0,d.submitMediaDetails())),disabled:o.isOKOnceClick},r(s.$t("button.ok")),9,Ds),a("button",{class:"red-fill-btn",onClick:e[31]||(e[31]=h=>o.isSubmit=!1)},r(s.$t("addNewMoviesForm.cancel")),1)])]),_:1},8,["isModal"])])],64)}const sd=ye(oi,[["render",Ts],["__scopeId","data-v-163ee53d"],["__file","D:/workspace/11-db-frontend/11_db/src/components/AddNewmovie/MediaDetails.vue"]]);const{t:re}=Lt.global,Ss={name:"CreditDetails",components:{Tabs:Fe,TabWrapper:Ue,PopUpModal:Re,Modal:Je},data(){return{}},props:{site_language:{type:String},itemType:{type:String},saveIdList:{type:Object}},mixins:[xe,Qe],emits:["selectedId","isEditOn"],setup(s,{emit:e}){const l=Mt(),t=Dt(),o=w(l.params.id),d=l.params.type=="internal"?l.params.external_id:"",g=new ze,k=new He,I=new ot,L=new lt,_=w(""),C=w([]),m=w(""),h=w([]),z=w([]),te=w(""),j=w([]),O=w(""),be=w(!1),T=w(null),q=w(""),P=w(""),N=w([]);w("cast");const A=w([]),F=w([]),Z=w(""),ve=w(!1),me=w(!1),B=w([]),we=w(!1),ke=w(!1),Ce=w(!1),ie=w(""),_e=w(""),Be=w([]),J=w(s.itemType=="tv"?"tv":"movie"),Ie=w(!1),X=w(""),H=w(o),Le=w(!1),Me=w(!1),Oe=w(""),Q=w(!1),dt=w(""),W=w({}),Ze=w(/[`!@#$%^&*()_+\-=\[\]{};':"\\|.,<>\/?~]/),ce=w(""),De=w(""),Te=w(""),Se=w(!1),Ee=w("");Tt(()=>s.site_language,function(n,p){var y,v,M,se,ae,le,oe,ge;if(n&&n!=p){const de=JSON.parse(localStorage.getItem("draft_ids")||"[]");de[0]?(H.value=(v=(y=de[0])==null?void 0:y.primaryDetails[J.value][s.site_language])!=null&&v.draft_request_id?(se=(M=de[0])==null?void 0:M.primaryDetails[J.value][s.site_language])==null?void 0:se.draft_request_id:"",o.value=(le=(ae=de[0])==null?void 0:ae.primaryDetails[J.value][s.site_language])!=null&&le.draft_request_id?(ge=(oe=de[0])==null?void 0:oe.primaryDetails[J.value][s.site_language])==null?void 0:ge.draft_request_id:""):(H.value=H.value,o.value=o.value),j.value=[],B.value=[],s.itemType=="tv"&&We(),Ke(),setTimeout(()=>{Ne(),Ve()},1e3)}}),St(()=>{var p,y,v,M,se,ae,le,oe;l.params.type=="internal"&&(Se.value=!0),Ke();const n=JSON.parse(localStorage.getItem("draft_ids")||"[]");n[0]?(H.value=(y=(p=n[0])==null?void 0:p.primaryDetails[J.value][s.site_language])!=null&&y.draft_request_id?(M=(v=n[0])==null?void 0:v.primaryDetails[J.value][s.site_language])==null?void 0:M.draft_request_id:"",o.value=(ae=(se=n[0])==null?void 0:se.primaryDetails[J.value][s.site_language])!=null&&ae.draft_request_id?(oe=(le=n[0])==null?void 0:le.primaryDetails[J.value][s.site_language])==null?void 0:oe.draft_request_id:""):(H.value=H.value,o.value=o.value),s.itemType=="tv"&&We(),setTimeout(()=>{Ne(),Ve()},1e3)});const We=()=>{let n;l.params.type=="internal"?n=L.getEditSeasonList(d,o.value,s.site_language):n=I.getSeasonList(o.value,s.site_language),n.then(p=>{p.status==200?(Be.value=p.data.results,Ee.value=p.data.results[0],X.value=p.data.results[0].draft_season_id,ce.value=p.data.results[0].season_id?p.data.results[0].season_id:""):(Be.value=[],Ee.value="",X.value="",ce.value="",j.value=[],B.value=[])}).catch(p=>{})},rt=n=>{Ee.value=n,X.value=n.draft_season_id?n.draft_season_id:"",ce.value=n.season_id?n.season_id:"",j.value=[],B.value=[],Ne(),Ve()},Ne=()=>{let n;l.params.type=="internal"?n=k.creditRequestList(d,H.value||o.value,J.value,s.site_language,"cast",ce.value,X.value):o.value&&(n=g.creditRequestList(H.value||o.value,s.site_language,J.value,"cast",X.value)),n.then(p=>{if(p.status==200){A.value=p.data.cast_details||p.data.result,te.value=p.data.draft_credit_id;for(let y=0;y<A.value.length;y++)A.value[y].id=y+1,j.value.push({id:y+1,people_id:A.value[y].people_id,character_name:A.value[y].character_name,job:A.value[y].job,is_guest:A.value[y].is_guest?A.value[y].is_guest:0,cast_name:A.value[y].cast_name,poster:A.value[y].poster,action_type:"e",tmdb_id:A.value[y].tmdb_id?A.value[y].tmdb_id:""})}}).catch(p=>{})},Ve=()=>{let n;l.params.type=="internal"?n=k.creditRequestList(d,H.value||o.value,J.value,s.site_language,"crew",ce.value,X.value):o.value&&(n=g.creditRequestList(H.value||o.value,s.site_language,J.value,"crew",X.value)),n.then(p=>{var y;if(p.status==200){F.value=p.data.crew_details||p.data.result||((y=p.data)==null?void 0:y.cast_details),te.value=p.data.draft_credit_id;for(let v=0;v<F.value.length;v++)F.value[v].id=v+1,B.value.push({id:v+1,people_id:F.value[v].people_id,job:F.value[v].job,cast_name:F.value[v].cast_name,poster:F.value[v].poster,action_type:"e",tmdb_id:F.value[i].tmdb_id?F.value[i].tmdb_id:""})}}).catch(p=>{})},nt=()=>{g.creditPeopleSearchList(s.site_language,_.value).then(n=>{n.status==200?(C.value=[],C.value=n.data.results,ve.value=!0):C.value=[]}).catch(n=>{})},_t=()=>{g.creditPeopleSearchList(s.site_language,m.value).then(n=>{n.status==200?(h.value=[],me.value=!0,h.value=n.data.results):h.value=[]}).catch(n=>{})},Ke=()=>{g.creditJobTitleList(s.site_language).then(n=>{n.status==200&&(z.value=n.data.results,z.value.forEach(p=>{p.department_value=p.department_name}))}).catch(n=>{})},ct=n=>{T.value=n},ut=(n,p,y)=>{be.value=!0,q.value=n.character_name?n.character_name:"",T.value=n.job?n.job:null,P.value=n.is_guest==1||n.is_guest==0?n.is_guest:"",O.value=n.people_id,N.value=n,Oe.value=p,Te.value=y;const v=localStorage.getItem("theme-colour"),M=document.body;v==="theme-dark"&&M.classList.add("dark-modal-open")},ht=(n,p,y)=>{we.value=!0,O.value=n.people_id,N.value=n,T.value=n.job?n.job:null,Oe.value=p,De.value=y;const v=localStorage.getItem("theme-colour"),M=document.body;v==="theme-dark"&&M.classList.add("dark-modal-open")},vt=n=>{N.value=n,A.value.find(v=>v.id==N.value.id)&&A.value.splice(A.value.indexOf(n),1);let y=j.value.find(v=>v.id==N.value.id);y&&(s.itemType=="tv"?y.action_type=="a"?j.value.splice(j.value.indexOf(y),1):y.action_type="d":j.value.splice(j.value.indexOf(y),1))},mt=()=>{if(q.value){if(/[0-9]+/.test(q.value))return W.value.character_name=fe(()=>re("Error.numberNotAll")),!0;W.value.character_name=w("")}else W.value.character_name=w("");if(q.value==""||T.value==""||P.value.toString()=="")return!0;let n=A.value.find(v=>v.people_id==O.value&&v.id==N.value.id);if(n){let v=A.value.find(M=>M.people_id==O.value&&M.job==T.value&&M.character_name==q.value);v?(v.id!==N.value.id&&(Q.value=!1),v&&Q.value?n.is_guest=P.value:Te.value=="add"&&A.value.splice(A.value.indexOf(n),1)):(n.job=T.value,n.character_name=q.value,n.is_guest=P.value)}else{let v=A.value.find(M=>M.people_id==O.value&&M.job==T.value&&M.character_name==q.value);v?(v.job=T.value,v.character_name=q.value,v.is_guest=P.value):A.value.push({people_id:O.value,character_name:q.value,job:T.value,is_guest:P.value,cast_name:N.value.people_name||N.value.cast_name,poster:N.value.people_poster||N.value.poster,id:A.value.length+1,action_type:"a"})}let p=j.value.find(v=>v.people_id==O.value&&v.id==N.value.id);if(p){let v=j.value.find(M=>M.people_id==O.value&&M.job==T.value&&M.character_name==q.value);v?s.itemType=="tv"?(v.id!==N.value.id&&(Q.value=!1),v&&Q.value?p.is_guest=P.value:p.action_type=="a"?j.value.splice(j.value.indexOf(p),1):Te.value=="add"&&(p.action_type="d")):(v.id!==N.value.id&&(Q.value=!1),v&&Q.value?p.is_guest=P.value:Te.value=="add"&&j.value.splice(j.value.indexOf(p),1)):(p.job=T.value,p.character_name=q.value,p.is_guest=P.value,p.action_type=="a"?p.action_type="a":p.action_type="e")}else{let v=j.value.find(M=>M.people_id==O.value&&M.job==T.value&&M.character_name==q.value);v?(v.job=T.value,v.character_name=q.value,v.is_guest=P.value,v.action_type=="a"?v.action_type="a":v.action_type="e"):j.value.push({people_id:O.value,character_name:q.value,job:T.value,is_guest:P.value,id:j.value.length+1,action_type:"a"})}be.value=!1,ve.value=!1,q.value="",T.value=null,P.value="",O.value="",_.value="",C.value=[],Q.value=!1,document.body.classList.remove("dark-modal-open")},gt=n=>{N.value=n,F.value.find(v=>v.id==N.value.id)&&F.value.splice(F.value.indexOf(n),1);let y=B.value.find(v=>v.id==N.value.id);y&&(s.itemType=="tv"?y.action_type=="a"?B.value.splice(B.value.indexOf(y),1):y.action_type="d":B.value.splice(B.value.indexOf(y),1))},pt=()=>{if(T.value==null)return!0;let n=F.value.find(v=>v.people_id==O.value&&v.id==N.value.id);if(n){let v=F.value.find(M=>M.people_id==O.value&&M.job==T.value);console.log(v),v?De.value=="add"&&F.value.splice(F.value.indexOf(n),1):n.job=T.value}else{let v=F.value.find(M=>M.people_id==O.value&&M.job==T.value);v?v.job=T.value:F.value.push({people_id:O.value,job:T.value,cast_name:N.value.people_name||N.value.cast_name,poster:N.value.people_poster||N.value.poster,id:F.value.length+1,action_type:"a"})}let p=B.value.find(v=>v.people_id==O.value&&v.id==N.value.id);if(p)B.value.find(M=>M.people_id==O.value&&M.job==T.value)?s.itemType=="tv"?p.action_type=="a"?B.value.splice(B.value.indexOf(p),1):De.value=="add"&&(p.action_type="d"):De.value=="add"&&B.value.splice(B.value.indexOf(p),1):(p.job=T.value,p.action_type=="a"?p.action_type="a":p.action_type="e");else{let v=B.value.find(M=>M.people_id==O.value&&M.job==T.value);v?(v.job=T.value,v.action_type=="a"?v.action_type="a":v.action_type="e"):B.value.push({people_id:O.value,job:T.value,id:B.value.length+1,action_type:"a",poster:N.value.people_poster||N.value.poster,cast_name:N.value.people_name||N.value.cast_name})}we.value=!1,me.value=!1,q.value="",T.value=null,P.value="",O.value="",m.value="",h.value=[],document.body.classList.remove("dark-modal-open")},ft=()=>{wt()},yt=()=>{Ie.value=!0},bt=()=>{Se.value=!1,e("isEditOn",!1)},wt=()=>{var se,ae,le,oe,ge,de;let n=[],p=[];Array.from(j.value).forEach((E,qe)=>{n.push({action_type:E.action_type,character_name:E.character_name,people_id:E.people_id,job:E.job,is_guest:E.is_guest,cast_name:E.cast_name,poster:E.poster,temp_id:E.id,tmdb_id:E.tmdb_id?E.tmdb_id:null})}),Array.from(B.value).forEach((E,qe)=>{p.push({action_type:E.action_type,people_id:E.people_id,job:E.job,cast_name:E.cast_name,poster:E.poster,temp_id:E.id,tmdb_id:E.tmdb_id?E.tmdb_id:null})});const y=JSON.parse(localStorage.getItem("draft_ids")||"[]");y[0]&&l.params.type=="internal"&&(H.value=(ae=(se=y[0])==null?void 0:se.primaryDetails[J.value][s.site_language])!=null&&ae.draft_request_id?(oe=(le=y[0])==null?void 0:le.primaryDetails[J.value][s.site_language])==null?void 0:oe.draft_request_id:(ge=y[0])!=null&&ge.primaryDetails[J.value].draft_relation_id?(de=y[0])==null?void 0:de.primaryDetails[J.value].draft_relation_id:"");let v={draft_request_id:H.value||o.value,draft_credit_id:te.value,title_type:s.itemType=="tv"?"tv":"movie",site_language:s.site_language,cast_details:n,crew_details:p,season_id:X.value||""},M;l.params.type=="internal"?(v.title_id=d,s.itemType=="tv"&&(v.season_id=ce.value,v.draft_season_id=X.value),M=k.editCreditDetails(v)):M=g.addCreditDetails(v),M.then(E=>{var qe;if(E.status==200){if(te.value=E.data.data[0].draft_credit_id,s.saveIdList.credit_request_id=E.data.data[0].draft_credit_id,e("selectedId",s.saveIdList),j.value=[],B.value=[],Ie.value=!1,n=[],p=[],l.params.type=="internal"){Se.value=!0,e("isEditOn",!0);const pe=JSON.parse(localStorage.getItem("draft_ids")||"[]");if(pe[0])((qe=pe[0].primaryDetails[s.itemType][s.site_language])==null?void 0:qe.draft_request_id)||(pe[0].primaryDetails[s.itemType][s.site_language]=E.data.data[0]);else{const Ge={primaryDetails:{[s.itemType]:{[s.site_language]:{draft_request_id:E.data.data[0].draft_request_id},draft_relation_id:E.data.data[0].draft_request_id}}};pe.push(Ge)}localStorage.setItem("draft_ids",JSON.stringify(pe)),s.itemType=="movie"?t.push(`/AddNewMovieForm/${d}/internal/${E.data.data[0].draft_request_id}`):t.push(`/add-tv-details/${d}/internal/${E.data.data[0].draft_request_id}`)}Ne(),Ve(),x.fire({title:re("Error.success")})}else Ie.value=!1}).catch(E=>{console.log(E)})};return{search_text:_,getCreditList:nt,creditList:C,search_crew_text:m,getCreditCrewList:_t,crewList:h,jobTitleList:z,addCastInformation:mt,AddInfoModal:ut,isAddInfoModal:be,job:T,character_name:q,is_guest:P,people:N,getTabName:n=>{n=="Cast"&&(m.value="",_.value="",C.value=[],ve.value=!1),n=="Crew"&&(m.value="",_.value="",h.value=[],me.value=!1)},castRequestList:A,crewRequestList:F,shows:ve,shows1:me,addCreditDetails:yt,isCrewInfoModal:we,AddCrewInfoModal:ht,addCrewInformation:pt,removeInfoModal:vt,removeCrewInfoModal:gt,isCreateInfoModal:ke,isCrewCreateInfoModal:Ce,cast_name:Z,onFileChange:n=>{let p=n.target.files||n.dataTransfer.files;if(!p.length)return;ie.value=p[0];let y=n.target.files[0].size,v=/(\.jpg|\.jpeg|\.png)$/i;if(v.exec(ie.value.name)){if(y>1024*1024*25)return x.fire({title:re("Error.uploadFileSize")}),_e.value="",document.querySelector("#img-picker-1").value="",!1;v.exec(ie.value.name)&&(ie.value.name,_e.value=URL.createObjectURL(n.target.files[0]))}else return x.fire({title:re("Error.onlyJpg")}),_e.value="",document.querySelector("#img-picker-1").value="",!1},url:_e,createCastInfo:()=>{if(Z.value){if(Ze.value.test(Z.value))return W.value.cast_name=fe(()=>re("Error.specialCharacter")),!0;if(/[0-9]+/.test(Z.value))return W.value.cast_name=fe(()=>re("Error.numberNotAll")),!0;W.value.cast_name=w("")}else W.value.cast_name=w("");if(q.value){if(/[0-9]+/.test(q.value))return W.value.character_name=fe(()=>re("Error.numberNotAll")),!0;W.value.character_name=w("")}else W.value.character_name=w("");if(q.value==""||T.value==null||P.value==""||Z.value==""||ie.value=="")return!0;Le.value=!0;let n=new FormData;n.append("draft_request_id",H.value||o.value?H.value||o.value:""),n.append("site_language",s.site_language),n.append("image",ie.value),n.append("credit_type","cast"),n.append("cast_name",Z.value),n.append("job_title",T.value),n.append("character_name",q.value),n.append("is_guest",P.value);let p;l.params.type=="internal"?(n.append("title_id",d),p=k.createNewCredit(n)):p=g.createNewCredit(n),p.then(y=>{y.status==200?(Le.value=!1,A.value.push({people_id:"",character_name:q.value,job:T.value,is_guest:P.value,cast_name:Z.value,poster:y.data.credit_details.image_location,id:A.value.length+1}),j.value.push({people_id:"",character_name:q.value,job:T.value,is_guest:P.value,cast_name:y.data.credit_details.cast_name,poster:y.data.credit_details.image_location,id:j.value.length+1,action_type:"a"}),ke.value=!1,ve.value=!1,q.value="",T.value=null,P.value="",O.value="",Z.value="",_.value="",C.value=[],Q.value=!1,document.body.classList.remove("dark-modal-open")):Le.value=!1}).catch(y=>{})},createCrewInfo:()=>{if(Z.value){if(/[0-9]+/.test(Z.value))return W.value.cast_name=fe(()=>re("Error.numberNotAll")),!0;W.value.cast_name=w("")}else W.value.cast_name=w("");if(T.value==null||Z.value==""||ie.value=="")return!0;Me.value=!0;let n=new FormData;n.append("draft_request_id",H.value||o.value?H.value||o.value:""),n.append("site_language",s.site_language),n.append("credit_type","crew"),n.append("cast_name",Z.value),n.append("job_title",T.value),n.append("image",ie.value);let p;l.params.type=="internal"?(n.append("title_id",d),p=k.createNewCredit(n)):p=g.createNewCredit(n),p.then(y=>{y.status==200?(Me.value=!1,F.value.push({people_id:"",job:T.value,cast_name:Z.value,poster:y.data.credit_details.image_location,id:F.value.length+1}),B.value.push({people_id:"",job:T.value,cast_name:y.data.credit_details.cast_name,poster:y.data.credit_details.image_location,id:B.value.length+1,action_type:"a"}),Ce.value=!1,me.value=!1,q.value="",T.value=null,P.value="",Z.value="",O.value="",m.value="",h.value=[],document.body.classList.remove("dark-modal-open")):Me.value=!1}).catch(y=>{})},cast_details:j,crew_details:B,routeId:o,isSubmit:Ie,submitCreditDetails:ft,seasonData:Be,getSeasonId:rt,isCreateNewCast:Le,isCreateNewCrew:Me,addType:Oe,isGuestClick:()=>{Q.value=!0,setTimeout(()=>{dt.value=P.value},500)},guestClick:Q,isChar:xe,isCharWithSpeailChar:Qe,specialChars:Ze,error:W,title_id:d,season_id:X,exist_season_id:ce,isEdit:Se,isEditBtn:bt,getJobId:ct,selectSeason:Ee,closeModal:()=>{be.value=!1,T.value=null,q.value="",P.value="",Q.value=!1,ke.value=!1,_e.value="",Z.value="",we.value=!1,Ce.value=!1,document.body.classList.remove("dark-modal-open")},createInfoModal:()=>{ke.value=!0,_e.value="",document.body.classList.add("dark-modal-open")},createCrewInfoModal:()=>{Ce.value=!0,_e.value="",document.body.classList.add("dark-modal-open")}}}},K=s=>(et("data-v-46d3806b"),s=s(),tt(),s),Es={class:"credit-from-details"},Ns={class:"credit-tabber-area"},Vs={class:"credit-cast-area"},qs={class:"login-wrap"},As={class:"box"},js={class:"form-group search-area"},Bs=["placeholder"],Os=K(()=>a("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.60039 2.67979C4.94942 2.67979 2.80039 4.82882 2.80039 7.47979C2.80039 10.1308 4.94942 12.2798 7.60039 12.2798C10.2514 12.2798 12.4004 10.1308 12.4004 7.47979C12.4004 4.82882 10.2514 2.67979 7.60039 2.67979ZM0.400391 7.47979C0.400391 3.50334 3.62394 0.279785 7.60039 0.279785C11.5768 0.279785 14.8004 3.50334 14.8004 7.47979C14.8004 9.03478 14.3074 10.4746 13.4693 11.6516L19.2489 17.4313C19.7175 17.8999 19.7175 18.6597 19.2489 19.1283C18.7803 19.5969 18.0205 19.5969 17.5519 19.1283L11.7722 13.3487C10.5953 14.1868 9.15539 14.6798 7.60039 14.6798C3.62394 14.6798 0.400391 11.4562 0.400391 7.47979Z",fill:"white"})],-1)),Ps=[Os],Fs={class:"search-wrap-area"},Us={key:0},Rs={class:"tags-img"},zs=["src"],Js={key:1,src:ee},Hs=["onClick"],Zs={key:1},Ws={class:"credit-list-area"},Ks={class:"divrow"},Gs=K(()=>a("span",{class:"icons"},[a("svg",{width:"18",height:"12",viewBox:"0 0 18 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("path",{d:"M0 12H18V10H0V12ZM0 7H18V5H0V7ZM0 0V2H18V0H0Z",fill:"white"})])],-1)),Ys={class:"thumbimg"},xs=["src"],Qs={key:1,src:ee},Xs={class:"inner-pt-area"},$s={class:"divrow name-wrap"},ea={class:"divrow center"},ta={class:"divrow center"},ia={class:"end-part"},sa={class:"divrow center"},aa={key:0,class:"gustBtn"},la=["onClick"],oa=K(()=>a("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("path",{d:"M11.688 1.4033C12.4914 0.59994 13.7939 0.59994 14.5973 1.4033C15.4006 2.20667 15.4006 3.50918 14.5973 4.31254L13.7817 5.12809L10.8725 2.21885L11.688 1.4033Z",fill:"white"}),a("path",{d:"M9.41788 3.67347L0.799805 12.2915V15.2008H3.70904L12.3271 6.58271L9.41788 3.67347Z",fill:"white"})],-1)),da=[oa],ra=["onClick"],na=K(()=>a("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("path",{d:"M13.2997 0.70875C12.9097 0.31875 12.2797 0.31875 11.8897 0.70875L6.99973 5.58875L2.10973 0.69875C1.71973 0.30875 1.08973 0.30875 0.699727 0.69875C0.309727 1.08875 0.309727 1.71875 0.699727 2.10875L5.58973 6.99875L0.699727 11.8887C0.309727 12.2787 0.309727 12.9087 0.699727 13.2987C1.08973 13.6887 1.71973 13.6887 2.10973 13.2987L6.99973 8.40875L11.8897 13.2987C12.2797 13.6887 12.9097 13.6887 13.2997 13.2987C13.6897 12.9087 13.6897 12.2787 13.2997 11.8887L8.40973 6.99875L13.2997 2.10875C13.6797 1.72875 13.6797 1.08875 13.2997 0.70875Z",fill:"white"})],-1)),_a=[na],ca={key:1,class:"no-data-wrapper"},ua={class:"credit-crew-area"},ha={class:"login-wrap"},va={class:"box"},ma={class:"form-group search-area"},ga=["placeholder"],pa=K(()=>a("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.60039 2.67979C4.94942 2.67979 2.80039 4.82882 2.80039 7.47979C2.80039 10.1308 4.94942 12.2798 7.60039 12.2798C10.2514 12.2798 12.4004 10.1308 12.4004 7.47979C12.4004 4.82882 10.2514 2.67979 7.60039 2.67979ZM0.400391 7.47979C0.400391 3.50334 3.62394 0.279785 7.60039 0.279785C11.5768 0.279785 14.8004 3.50334 14.8004 7.47979C14.8004 9.03478 14.3074 10.4746 13.4693 11.6516L19.2489 17.4313C19.7175 17.8999 19.7175 18.6597 19.2489 19.1283C18.7803 19.5969 18.0205 19.5969 17.5519 19.1283L11.7722 13.3487C10.5953 14.1868 9.15539 14.6798 7.60039 14.6798C3.62394 14.6798 0.400391 11.4562 0.400391 7.47979Z",fill:"white"})],-1)),fa=[pa],ya={class:"search-wrap-area"},ba={key:0},wa={class:"tags-img"},ka=["src"],Ca={key:1,src:ee},Ia=["onClick"],La={key:1},Ma={class:"credit-list-area"},Da={class:"divrow"},Ta=K(()=>a("span",{class:"icons"},[a("svg",{width:"18",height:"12",viewBox:"0 0 18 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("path",{d:"M0 12H18V10H0V12ZM0 7H18V5H0V7ZM0 0V2H18V0H0Z",fill:"white"})])],-1)),Sa={class:"thumbimg"},Ea=["src"],Na={key:1,src:ee},Va={class:"inner-pt-area"},qa={class:"divrow name-wrap"},Aa=K(()=>a("div",{class:"divrow center"},[a("p")],-1)),ja={class:"divrow center"},Ba={class:"end-part"},Oa=K(()=>a("div",{class:"divrow center"},null,-1)),Pa=["onClick"],Fa=K(()=>a("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("path",{d:"M11.688 1.4033C12.4914 0.59994 13.7939 0.59994 14.5973 1.4033C15.4006 2.20667 15.4006 3.50918 14.5973 4.31254L13.7817 5.12809L10.8725 2.21885L11.688 1.4033Z",fill:"white"}),a("path",{d:"M9.41788 3.67347L0.799805 12.2915V15.2008H3.70904L12.3271 6.58271L9.41788 3.67347Z",fill:"white"})],-1)),Ua=[Fa],Ra=["onClick"],za=K(()=>a("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("path",{d:"M13.2997 0.70875C12.9097 0.31875 12.2797 0.31875 11.8897 0.70875L6.99973 5.58875L2.10973 0.69875C1.71973 0.30875 1.08973 0.30875 0.699727 0.69875C0.309727 1.08875 0.309727 1.71875 0.699727 2.10875L5.58973 6.99875L0.699727 11.8887C0.309727 12.2787 0.309727 12.9087 0.699727 13.2987C1.08973 13.6887 1.71973 13.6887 2.10973 13.2987L6.99973 8.40875L11.8897 13.2987C12.2797 13.6887 12.9097 13.6887 13.2997 13.2987C13.6897 12.9087 13.6897 12.2787 13.2997 11.8887L8.40973 6.99875L13.2997 2.10875C13.6797 1.72875 13.6797 1.08875 13.2997 0.70875Z",fill:"white"})],-1)),Ja=[za],Ha={key:1,class:"no-data-wrapper"},Za={class:"new-cast-modal"},Wa={class:"cast-details"},Ka={class:"cast-left-profile"},Ga=["src"],Ya={key:1,src:ee,class:"cast-img"},xa={class:"right"},Qa={class:"form-grp"},Xa={for:""},$a={class:"form-grp"},el={for:""},tl=["placeholder"],il={key:0,class:"error-txt"},sl={class:"form-grp"},al={for:""},ll={class:"radio-grp"},ol={for:"yes"},dl={class:"check-circle"},rl=K(()=>a("div",{class:"radio-circle"},[a("div",{class:"inner-circle"})],-1)),nl={for:"no"},_l={class:"check-circle"},cl=K(()=>a("div",{class:"radio-circle"},[a("div",{class:"inner-circle"})],-1)),ul={class:"button-group"},hl=["disabled"],vl={class:"cast-details"},ml={class:"img-picker"},gl={for:"img-picker-1"},pl={key:0,src:ee,alt:"",class:"cast-img"},fl=["src"],yl={class:"right"},bl={class:"form-grp"},wl={for:""},kl=["placeholder"],Cl={key:0,class:"error-txt"},Il={class:"form-grp"},Ll={for:""},Ml={class:"form-grp"},Dl={for:""},Tl=["placeholder"],Sl={key:0,class:"error-txt"},El={class:"form-grp"},Nl={for:""},Vl={class:"radio-grp"},ql={for:"yes"},Al={class:"check-circle"},jl=K(()=>a("div",{class:"radio-circle"},[a("div",{class:"inner-circle"})],-1)),Bl={for:"no"},Ol={class:"check-circle"},Pl=K(()=>a("div",{class:"radio-circle"},[a("div",{class:"inner-circle"})],-1)),Fl={class:"button-group"},Ul=["disabled"],Rl={class:"cast-details"},zl={class:"cast-left-profile"},Jl=["src"],Hl={key:1,src:ee,class:"cast-img"},Zl={class:"right"},Wl={class:"form-grp"},Kl={for:""},Gl={class:"button-group"},Yl=["disabled"],xl={class:"cast-details"},Ql={class:"img-picker"},Xl={for:"img-picker-1"},$l={key:0,src:ee,alt:"",class:"cast-img"},eo=["src"],to={class:"right"},io={class:"form-grp"},so={for:""},ao={class:"form-grp"},lo={for:""},oo=["placeholder"],ro={key:0,class:"error-txt"},no={class:"button-group"},_o=["disabled"],co={class:"new-cast-modal center-popup-modal"},uo=["innerHTML"],ho={class:"button-group"};function vo(s,e,l,t,o,d){const g=G("SearchDropdown"),k=G("Tabs"),I=G("TabWrapper"),L=G("PopUpModal");return c(),u(U,null,[a("div",Es,[a("div",{class:f(l.itemType=="tv"?"page-heading-area with-dropdown":"page-heading-area")},[a("h2",null,r(s.$t("credit.credit")),1),l.itemType=="tv"?(c(),u(U,{key:0},[b(` <select @change="getSeasonId($event)">\r
          <option\r
            v-for="(item, index) of seasonData"\r
            :key="index"\r
            :value="[item.draft_season_id, item.season_id]"\r
          >\r
            {{ $t("credit.season") }} {{ item.season_no }}\r
          </option>\r
        </select> `),V(g,{onDropdownValue:t.getSeasonId,search_type:t.selectSeason,searchTitleListItem:t.seasonData,searchtitle:t.seasonData.length>0?_=>`${s.$t("credit.season")} ${_.season_no}`:"","return-object":"",clearable:!1},null,8,["onDropdownValue","search_type","searchTitleListItem","searchtitle"])],64)):b("v-if",!0)],2),a("div",Ns,[V(I,{onSelectedTab:t.getTabName},{default:D(()=>[V(k,{title:"addNewPeople.cast"},{default:D(()=>[a("div",Vs,[a("div",qs,[a("div",As,[a("div",js,[R(a("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=_=>t.search_text=_),class:"form-control",onKeyup:e[1]||(e[1]=(..._)=>t.getCreditList&&t.getCreditList(..._)),onClick:e[2]||(e[2]=_=>t.shows=!t.shows),placeholder:s.$t("button.search")},null,40,Bs),[[ne,t.search_text]]),a("span",{class:"searchBtn",onClick:e[3]||(e[3]=(..._)=>t.getCreditList&&t.getCreditList(..._))},Ps)]),R(a("div",Fs,[t.creditList.length>0?(c(),u("ul",Us,[(c(!0),u(U,null,Y(t.creditList,(_,C)=>(c(),u("li",{key:C,class:f(t.isEdit?"isDisabled":"")},[a("div",Rs,[_.people_poster?(c(),u("img",{key:0,src:_.people_poster,alt:""},null,8,zs)):(c(),u("img",Js))]),a("span",null,r(_.people_name),1),a("a",{class:f(t.isEdit?"pointer-events-none":""),onClick:m=>t.AddInfoModal(_,s.$t("addNewPeople.mediadetails.addButton"),"add")},r(s.$t("addNewPeople.mediadetails.add+")),11,Hs)],2))),128))])):(c(),u("ul",Zs,[a("li",{class:f(t.isEdit?"isDisabled":"")},[a("span",null,r(s.$t("credit.notfound")),1),a("a",{class:f(t.isEdit?"pointer-events-none":""),onClick:e[4]||(e[4]=(..._)=>t.createInfoModal&&t.createInfoModal(..._))},r(s.$t("credit.create"))+" +",3)],2)]))],512),[[je,t.shows]])])]),a("div",Ws,[t.castRequestList.length>0?(c(!0),u(U,{key:0},Y(t.castRequestList,(_,C)=>(c(),u("div",{class:"single-credit-list",key:C},[a("div",Ks,[Gs,a("div",Ys,[_.poster?(c(),u("img",{key:0,src:_.poster},null,8,xs)):(c(),u("img",Qs))])]),a("div",Xs,[a("div",$s,[a("h3",null,r(_.cast_name),1)]),a("div",ea,[a("p",null,r(_.character_name),1)]),a("div",ta,[a("p",null,r(_.job),1)])]),a("div",ia,[a("div",sa,[_.is_guest=="1"?(c(),u("span",aa,r(s.$t("credit.guest")),1)):b("v-if",!0)]),a("div",{class:f(["divrow actions",t.isEdit?"isDisabled":""])},[a("a",{onClick:m=>t.AddInfoModal(_,s.$t("button.edit"),"edit"),class:f(t.isEdit?"pointer-events-none":"")},da,10,la),a("a",{onClick:m=>t.removeInfoModal(_),class:f(t.isEdit?"pointer-events-none":"")},_a,10,ra)],2)])]))),128)):(c(),u("div",ca,[a("p",null,r(s.$t("searchResults.noData")),1)]))])]),l.itemType=="movie"?(c(),u("div",{key:0,class:f(t.routeId!=""||s.$route.params.type=="internal"?"":"isDisabled")},[a("a",{class:f(["saveBtn",t.routeId!=""||s.$route.params.type=="internal"?"":"pointer-events-none"]),onClick:e[5]||(e[5]=_=>t.isEdit==!0?t.isEditBtn():t.addCreditDetails())},r(t.isEdit?s.$t("button.edit"):s.$t("button.save")),3)],2)):b("v-if",!0),l.itemType=="tv"?(c(),u("div",{key:1,class:f(l.saveIdList.season_id!=""&&t.routeId!=""||s.$route.params.type=="internal"&&(l.saveIdList.season_id!=""||t.exist_season_id||t.season_id)?"":"isDisabled")},[a("a",{class:f(["saveBtn",l.saveIdList.season_id!=""&&t.routeId!=""||s.$route.params.type=="internal"&&(l.saveIdList.season_id!=""||t.exist_season_id||t.season_id)?"":"pointer-events-none"]),onClick:e[6]||(e[6]=_=>t.isEdit==!0?t.isEditBtn():t.addCreditDetails())},r(t.isEdit?s.$t("button.edit"):s.$t("button.save")),3)],2)):b("v-if",!0)]),_:1}),V(k,{title:"addNewPeople.crew"},{default:D(()=>{var _;return[a("div",ua,[a("div",ha,[a("div",va,[a("div",ma,[R(a("input",{type:"text","onUpdate:modelValue":e[7]||(e[7]=C=>t.search_crew_text=C),class:"form-control",onKeyup:e[8]||(e[8]=(...C)=>t.getCreditCrewList&&t.getCreditCrewList(...C)),onClick:e[9]||(e[9]=C=>t.shows1=!t.shows1),placeholder:s.$t("button.search")},null,40,ga),[[ne,t.search_crew_text]]),a("span",{class:"searchBtn",onClick:e[10]||(e[10]=(...C)=>t.getCreditCrewList&&t.getCreditCrewList(...C))},fa)]),R(a("div",ya,[t.crewList.length>0?(c(),u("ul",ba,[(c(!0),u(U,null,Y(t.crewList,(C,m)=>(c(),u("li",{key:m,class:f(t.isEdit?"isDisabled":"")},[a("div",wa,[C.people_poster?(c(),u("img",{key:0,src:C.people_poster,alt:""},null,8,ka)):(c(),u("img",Ca))]),a("span",null,r(C.people_name),1),a("a",{class:f(t.isEdit?"pointer-events-none":""),onClick:h=>t.AddCrewInfoModal(C,s.$t("addNewPeople.mediadetails.addButton"),"add")},r(s.$t("addNewPeople.mediadetails.add+")),11,Ia)],2))),128))])):(c(),u("ul",La,[a("li",{class:f(t.isEdit?"isDisabled":"")},[a("span",null,r(s.$t("credit.notfound")),1),a("a",{class:f(t.isEdit?"pointer-events-none":""),onClick:e[11]||(e[11]=(...C)=>t.createCrewInfoModal&&t.createCrewInfoModal(...C))},r(s.$t("credit.create"))+" +",3)],2)]))],512),[[je,t.shows1]])])]),a("div",Ma,[((_=t.crewRequestList)==null?void 0:_.length)>0?(c(!0),u(U,{key:0},Y(t.crewRequestList,(C,m)=>(c(),u("div",{class:"single-credit-list",key:m},[a("div",Da,[Ta,a("div",Sa,[C.poster?(c(),u("img",{key:0,src:C.poster},null,8,Ea)):(c(),u("img",Na))])]),a("div",Va,[a("div",qa,[a("h3",null,r(C.cast_name),1)]),Aa,a("div",ja,[a("p",null,r(C.job),1)])]),a("div",Ba,[Oa,a("div",{class:f(["divrow actions",t.isEdit?"isDisabled":""])},[a("a",{class:f(t.isEdit?"pointer-events-none":""),onClick:h=>t.AddCrewInfoModal(C,s.$t("button.edit"),"edit")},Ua,10,Pa),a("a",{onClick:h=>t.removeCrewInfoModal(C),class:f(t.isEdit?"pointer-events-none":"")},Ja,10,Ra)],2)])]))),128)):(c(),u("div",Ha,[a("p",null,r(s.$t("searchResults.noData")),1)]))]),l.itemType=="movie"?(c(),u("div",{key:0,class:f(t.routeId!=""||s.$route.params.type=="internal"?"":"isDisabled")},[a("a",{onClick:e[12]||(e[12]=C=>t.isEdit==!0?t.isEditBtn():t.addCreditDetails()),class:f(["saveBtn",t.routeId!=""||s.$route.params.type=="internal"?"":"pointer-events-none"])},r(t.isEdit?s.$t("button.edit"):s.$t("button.save")),3)],2)):b("v-if",!0),l.itemType=="tv"?(c(),u("div",{key:1,class:f(l.saveIdList.season_id!=""&&t.routeId!=""||s.$route.params.type=="internal"&&(l.saveIdList.season_id!=""||t.exist_season_id||t.season_id)?"":"isDisabled")},[a("a",{class:f(["saveBtn",l.saveIdList.season_id!=""&&t.routeId!=""||s.$route.params.type=="internal"&&(l.saveIdList.season_id!=""||t.exist_season_id||t.season_id)?"":"pointer-events-none"]),onClick:e[13]||(e[13]=C=>t.isEdit==!0?t.isEditBtn():t.addCreditDetails())},r(t.isEdit?s.$t("button.edit"):s.$t("button.save")),3)],2)):b("v-if",!0)])]}),_:1})]),_:1},8,["onSelectedTab"])])]),a("div",Za,[b(" add info modal "),V(L,{isModal:t.isAddInfoModal},{header:D(()=>[a("h1",null,r(t.addType)+" "+r(s.$t("credit.information")),1),b(` <button @click="isAddInfoModal = false">\r
          <img src="@/assets/icons/modal-cross-icon.svg" alt="" />\r
        </button> `)]),body:D(()=>[a("div",Wa,[a("div",Ka,[t.people.people_poster||t.people.poster?(c(),u("img",{key:0,src:t.people.people_poster||t.people.poster,alt:"",class:"cast-img"},null,8,Ga)):(c(),u("img",Ya))]),a("div",xa,[a("div",Qa,[a("label",Xa,r(s.$t("credit.jobTitle")),1),V(g,{onDropdownValue:t.getJobId,search_type:t.job,searchTitleListItem:t.jobTitleList,searchtitle:"department_name",searchvalue:"department_value",labelItem:s.$t("credit.selectJobTitle"),clearable:!1},null,8,["onDropdownValue","search_type","searchTitleListItem","labelItem"])]),a("div",$a,[a("label",el,r(s.$t("credit.characterName")),1),R(a("input",{type:"text","onUpdate:modelValue":e[14]||(e[14]=_=>t.character_name=_),placeholder:s.$t("credit.enterCharacterName"),maxlength:"150",onKeypress:e[15]||(e[15]=_=>t.isCharWithSpeailChar(_)),class:f(t.error.character_name?"error-border":"")},null,42,tl),[[ne,t.character_name]]),t.error.character_name?(c(),u("span",il,r(t.error.character_name),1)):b("v-if",!0)]),a("div",sl,[a("label",al,r(s.$t("credit.guest")),1),a("div",ll,[a("label",ol,[a("div",dl,[R(a("input",{type:"radio",name:"each-radio-movie","onUpdate:modelValue":e[16]||(e[16]=_=>t.is_guest=_),id:"yes",value:"1",onClick:e[17]||(e[17]=(..._)=>t.isGuestClick&&t.isGuestClick(..._))},null,512),[[Ae,t.is_guest]]),rl,a("span",null,r(s.$t("addNewMoviesForm.yes")),1)])]),a("label",nl,[a("div",_l,[R(a("input",{type:"radio",name:"each-radio-movie","onUpdate:modelValue":e[18]||(e[18]=_=>t.is_guest=_),id:"no",value:"0",onClick:e[19]||(e[19]=(..._)=>t.isGuestClick&&t.isGuestClick(..._))},null,512),[[Ae,t.is_guest]]),cl,a("span",null,r(s.$t("addNewMoviesForm.no")),1)])])])])])])]),footer:D(()=>[a("div",ul,[a("button",{class:f(["black-outline-btn",t.character_name==""||t.job==null||t.is_guest.toString()==""?"isDisabled":""]),disabled:t.character_name==""||t.job==null||t.is_guest.toString()=="",onClick:e[20]||(e[20]=(..._)=>t.addCastInformation&&t.addCastInformation(..._))},r(s.$t("button.save")),11,hl),a("button",{class:"red-fill-btn",onClick:e[21]||(e[21]=(..._)=>t.closeModal&&t.closeModal(..._))},r(s.$t("button.cancel")),1)])]),_:1},8,["isModal"]),b(" create info modal "),V(L,{isModal:t.isCreateInfoModal},{header:D(()=>[a("h1",null,r(s.$t("credit.createInformation")),1),b(` <button @click="isCreateInfoModal = false">\r
          <img src="@/assets/icons/modal-cross-icon.svg" alt="" />\r
        </button> `)]),body:D(()=>[a("div",vl,[a("div",ml,[a("input",{type:"file",onChange:e[22]||(e[22]=(..._)=>t.onFileChange&&t.onFileChange(..._)),id:"img-picker-1",accept:"image/*"},null,32),a("label",gl,[t.url?b("v-if",!0):(c(),u("img",pl)),t.url?(c(),u("img",{key:1,src:t.url,alt:"",class:"cast-img"},null,8,fl)):b("v-if",!0)])]),a("div",yl,[a("div",bl,[a("label",wl,r(s.$t("credit.castName")),1),R(a("input",{type:"text","onUpdate:modelValue":e[23]||(e[23]=_=>t.cast_name=_),placeholder:s.$t("credit.enterCastName"),maxlength:"150",onKeypress:e[24]||(e[24]=_=>t.isCharWithSpeailChar(_)),class:f(t.error.cast_name?"error-border":"")},null,42,kl),[[ne,t.cast_name]]),t.error.cast_name?(c(),u("span",Cl,r(t.error.cast_name),1)):b("v-if",!0)]),a("div",Il,[a("label",Ll,r(s.$t("credit.jobTitle")),1),V(g,{onDropdownValue:t.getJobId,search_type:t.job,searchTitleListItem:t.jobTitleList,searchtitle:"department_name",searchvalue:"department_value",labelItem:s.$t("credit.selectJobTitle"),clearable:!1},null,8,["onDropdownValue","search_type","searchTitleListItem","labelItem"])]),a("div",Ml,[a("label",Dl,r(s.$t("credit.characterName")),1),R(a("input",{"onUpdate:modelValue":e[25]||(e[25]=_=>t.character_name=_),type:"text",name:"",id:"",maxlength:"150",placeholder:s.$t("credit.characterName"),onKeypress:e[26]||(e[26]=_=>t.isCharWithSpeailChar(_)),class:f(t.error.character_name?"error-border":"")},null,42,Tl),[[ne,t.character_name]]),t.error.character_name?(c(),u("span",Sl,r(t.error.character_name),1)):b("v-if",!0)]),a("div",El,[a("label",Nl,r(s.$t("credit.guest")),1),a("div",Vl,[a("label",ql,[a("div",Al,[R(a("input",{type:"radio",name:"each-radio-movie",id:"yes","onUpdate:modelValue":e[27]||(e[27]=_=>t.is_guest=_),value:"1"},null,512),[[Ae,t.is_guest]]),jl,a("span",null,r(s.$t("addNewMoviesForm.yes")),1)])]),a("label",Bl,[a("div",Ol,[R(a("input",{type:"radio",name:"each-radio-movie",id:"no","onUpdate:modelValue":e[28]||(e[28]=_=>t.is_guest=_),value:"0"},null,512),[[Ae,t.is_guest]]),Pl,a("span",null,r(s.$t("addNewMoviesForm.no")),1)])])])])])])]),footer:D(()=>[a("div",Fl,[a("button",{class:f(["black-outline-btn",t.character_name==""||t.job==null||t.is_guest==""||t.cast_name==""||t.url==""||t.isCreateNewCast?"isDisabled":""]),disabled:t.character_name==""||t.job==null||t.is_guest==""||t.cast_name==""||t.url==""||t.isCreateNewCast,onClick:e[29]||(e[29]=(..._)=>t.createCastInfo&&t.createCastInfo(..._))},r(s.$t("button.save")),11,Ul),a("button",{class:"red-fill-btn",onClick:e[30]||(e[30]=(..._)=>t.closeModal&&t.closeModal(..._))},r(s.$t("button.cancel")),1)])]),_:1},8,["isModal"]),b("add crew info modal "),V(L,{isModal:t.isCrewInfoModal},{header:D(()=>[a("h1",null,r(t.addType)+" "+r(s.$t("credit.information")),1),b(` <button @click="isCrewInfoModal = false">\r
          <img src="@/assets/icons/modal-cross-icon.svg" alt="" />\r
        </button> `)]),body:D(()=>[a("div",Rl,[a("div",zl,[t.people.people_poster||t.people.poster?(c(),u("img",{key:0,src:t.people.people_poster||t.people.poster,alt:"",class:"cast-img"},null,8,Jl)):(c(),u("img",Hl))]),a("div",Zl,[a("div",Wl,[a("label",Kl,r(s.$t("credit.jobTitle")),1),V(g,{onDropdownValue:t.getJobId,search_type:t.job,searchTitleListItem:t.jobTitleList,searchtitle:"department_name",searchvalue:"department_value",labelItem:s.$t("credit.selectJobTitle"),clearable:!1},null,8,["onDropdownValue","search_type","searchTitleListItem","labelItem"])])])])]),footer:D(()=>[a("div",Gl,[a("button",{class:f(["black-outline-btn",t.job==null?"isDisabled":""]),disabled:t.job==null,onClick:e[31]||(e[31]=(..._)=>t.addCrewInformation&&t.addCrewInformation(..._))},r(s.$t("button.save")),11,Yl),a("button",{class:"red-fill-btn",onClick:e[32]||(e[32]=(..._)=>t.closeModal&&t.closeModal(..._))},r(s.$t("button.cancel")),1)])]),_:1},8,["isModal"]),b(" crew create info modal "),V(L,{isModal:t.isCrewCreateInfoModal},{header:D(()=>[a("h1",null,r(s.$t("credit.createInformation")),1),b(` <button @click="isCrewCreateInfoModal = false">\r
          <img src="@/assets/icons/modal-cross-icon.svg" alt="" />\r
        </button> `)]),body:D(()=>[a("div",xl,[a("div",Ql,[a("input",{type:"file",onChange:e[33]||(e[33]=(..._)=>t.onFileChange&&t.onFileChange(..._)),id:"img-picker-1",accept:"image/*"},null,32),a("label",Xl,[t.url?b("v-if",!0):(c(),u("img",$l)),t.url?(c(),u("img",{key:1,src:t.url,alt:"",class:"cast-img"},null,8,eo)):b("v-if",!0)])]),a("div",to,[a("div",io,[a("label",so,r(s.$t("credit.jobTitle")),1),V(g,{onDropdownValue:t.getJobId,search_type:t.job,searchTitleListItem:t.jobTitleList,searchtitle:"department_name",searchvalue:"department_value",labelItem:s.$t("credit.selectJobTitle"),clearable:!1},null,8,["onDropdownValue","search_type","searchTitleListItem","labelItem"])]),a("div",ao,[a("label",lo,r(s.$t("credit.crewName")),1),R(a("input",{type:"text",name:"",id:"",placeholder:s.$t("credit.enterCrewName"),"onUpdate:modelValue":e[34]||(e[34]=_=>t.cast_name=_),onKeypress:e[35]||(e[35]=_=>t.isCharWithSpeailChar(_)),maxlength:"150",class:f(t.error.cast_name?"error-border":"")},null,42,oo),[[ne,t.cast_name]]),t.error.cast_name?(c(),u("span",ro,r(t.error.cast_name),1)):b("v-if",!0)])])])]),footer:D(()=>[a("div",no,[a("button",{class:f(["black-outline-btn",t.job==null||t.cast_name==""||t.url==""||t.isCreateNewCrew?"isDisabled":""]),disabled:t.job==null||t.cast_name==""||t.url==""||t.isCreateNewCrew,onClick:e[36]||(e[36]=(..._)=>t.createCrewInfo&&t.createCrewInfo(..._))},r(s.$t("button.save")),11,_o),a("button",{class:"red-fill-btn",onClick:e[37]||(e[37]=(..._)=>t.closeModal&&t.closeModal(..._))},r(s.$t("button.cancel")),1)])]),_:1},8,["isModal"])]),b(" submit modal "),a("div",co,[V(L,{isModal:t.isSubmit},{header:D(()=>[a("h1",{class:"text-center",innerHTML:s.$t("addNewMoviesForm.youShouldSubmitToSendTheAdd")},null,8,uo)]),body:D(()=>[]),footer:D(()=>[a("div",ho,[a("button",{class:"black-outline-btn",onClick:e[38]||(e[38]=(..._)=>t.submitCreditDetails&&t.submitCreditDetails(..._))},r(s.$t("button.ok")),1),a("button",{class:"red-fill-btn",onClick:e[39]||(e[39]=_=>t.isSubmit=!1)},r(s.$t("button.cancel")),1)])]),_:1},8,["isModal"])])],64)}const ad=ye(Ss,[["render",vo],["__scopeId","data-v-46d3806b"],["__file","D:/workspace/11-db-frontend/11_db/src/components/AddNewmovie/CreditDetails.vue"]]),mo="/assets/cross-black.3ec943c0.svg",go={name:"TagsDetails",components:{Tabs:Fe,TabWrapper:Ue,PopUpModal:Re,Modal:Je},data(){return{shows:!1,shows1:!1,isTagModal:!1,tagDetails:[],routeId:this.$route.params.id,category_id:"",sub_category_list:[],tag_search_list:[],sub_cat_id:null,score:1,tagBelowList:[],genre_details:[],tag_details:[],type:"",isSubmit:!1,tag_search_id:null,title_id:this.$route.params.type=="internal"?this.$route.params.external_id:"",isEdit:!1,score_list:[1,2,3,4,5,6,7,8,9,10]}},props:{site_language:{type:String},saveIdList:{type:Object},itemType:{type:String}},emits:["selectedId","isEditOn"],created(){this.AddNewMovieService=new ze,this.EditMovieService=new He},watch:{site_language:function(s,e){var l,t,o,d;if(s&&s!=e){const g=JSON.parse(localStorage.getItem("draft_ids")||"[]");g[0]?this.routeId=(t=(l=g[0])==null?void 0:l.primaryDetails[this.itemType][this.site_language])!=null&&t.draft_request_id?(d=(o=g[0])==null?void 0:o.primaryDetails[this.itemType][this.site_language])==null?void 0:d.draft_request_id:"":this.routeId=this.routeId,this.genre_details=[],this.tag_details=[],this.tagRequestList()}}},mounted(){var e,l,t,o;this.$route.params.type=="internal"&&(this.isEdit=!0);const s=JSON.parse(localStorage.getItem("draft_ids")||"[]");s[0]?this.routeId=(l=(e=s[0])==null?void 0:e.primaryDetails[this.itemType][this.site_language])!=null&&l.draft_request_id?(o=(t=s[0])==null?void 0:t.primaryDetails[this.itemType][this.site_language])==null?void 0:o.draft_request_id:"":this.routeId=this.routeId,this.tagRequestList()},methods:{tagRequestList(){let s;this.$route.params.type=="internal"?s=this.EditMovieService.getTagDetails(this.routeId,this.site_language,this.title_id):s=this.AddNewMovieService.getTagDetails(this.routeId,this.site_language),s.then(e=>{e.status==200&&(this.tagDetails=e.data.results,this.$route.params.type=="internal"?Array.from(this.tagDetails).forEach(l=>{l.type=="genre"?Array.from(l.tags).forEach(t=>{this.genre_details.push({tag_id:t.tag_id,id:t.id?t.id:"",title:t.display_name,score:t.score})}):Array.from(l.tags).forEach(t=>{this.tag_details.push({tag_id:t.tag_id,id:t.id?t.id:"",title:t.display_name,score:t.score})})}):Array.from(this.tagDetails).forEach(l=>{l.type=="genre"?Array.from(l.tags).forEach(t=>{this.genre_details.push({id:t.tag_id,title:t.display_name,score:t.score})}):Array.from(l.tags).forEach(t=>{this.tag_details.push({id:t.tag_id,title:t.display_name,score:t.score})})}))}).catch(e=>{})},openTagModal(s){this.isTagModal=!0,this.category_id=s.category_id,this.type=s.type,this.sub_cat_id=null,this.tag_search_id=null,this.getSubcategoryList();const e=localStorage.getItem("theme-colour"),l=document.body;e==="theme-dark"&&l.classList.add("dark-modal-open")},getSubcategoryList(){this.AddNewMovieService.getSubcategoryList(this.category_id,this.site_language).then(s=>{s.status==200&&(this.sub_category_list=s.data.results)}).catch(s=>{})},getSubCateId(s){this.sub_cat_id=s,this.tag_search_id=null,this.tag_search_list=[],this.sub_cat_id&&this.getTagSearchList()},getTagSearchList(){this.AddNewMovieService.getTagSearchList(this.category_id,this.sub_cat_id,this.site_language,"").then(s=>{s.status==200&&(this.tag_search_list=s.data.results)}).catch(s=>{})},addScore(){if(this.score==10)return!1;this.score++},removeScore(){if(this.score==1)return!1;this.score--},chooseTag(s){this.tag_search_id=s;let e=this.tagBelowList.find(t=>t.id==s),l=this.tag_search_list.find(t=>t.id==s);!e&&s&&this.tagBelowList.push({id:s,title:l.title,score:this.score})},removeTagSearch(s){this.tagBelowList.find(l=>l.id==s.id)&&this.tagBelowList.splice(this.tagBelowList.indexOf(s),1)},addTags(){Array.from(this.tagBelowList).forEach(s=>{s.score=this.score;let e=this.tagDetails.find(t=>t.category_id==this.category_id);e&&(e.tags.find(o=>o.tag_id==s.id&&o.score==this.score)||e.tags.push({tag_id:s.id,score:this.score,display_name:s.title})),document.body.classList.remove("dark-modal-open")}),this.genre_details=[],this.tag_details=[],Array.from(this.tagDetails).forEach(s=>{s.type=="genre"?Array.from(s.tags).forEach(e=>{this.genre_details.push({id:e.id?e.id:"",tag_id:e.tag_id,title:e.display_name,score:e.score})}):Array.from(s.tags).forEach(e=>{this.tag_details.push({tag_id:e.tag_id,id:e.id?e.id:"",title:e.display_name,score:e.score})})}),this.isTagModal=!1,this.category_id="",this.type="",this.score=1,this.tagBelowList=[],this.sub_cat_id="",this.tag_search_list=[]},findUnique(s,e){var l={};return s.forEach(t=>{l[e(t)]=t}),Object.keys(l).map(t=>l[t])},closeModal(){this.isTagModal=!1,this.category_id="",this.type="",this.score=1,this.tagBelowList=[],this.sub_cat_id="",this.tag_search_list=[],document.body.classList.remove("dark-modal-open")},removeTagList(s,e){let l=this.tagDetails.find(t=>t.category_id==e.category_id);if(l){let t=l.tags.find(o=>o.tag_id==s.tag_id);t&&l.tags.splice(l.tags.indexOf(t),1)}if(e.type=="genre"){let t;this.$route.params.type=="internal"?t=this.genre_details.find(o=>o.tag_id==s.tag_id):t=this.genre_details.find(o=>o.id==s.tag_id),t&&this.genre_details.splice(this.genre_details.indexOf(t),1)}else{let t;this.$route.params.type=="internal"?t=this.tag_details.find(o=>o.tag_id==s.tag_id):t=this.tag_details.find(o=>o.id==s.tag_id),t&&this.tag_details.splice(this.tag_details.indexOf(t),1)}},saveTagDetails(){this.isSubmit=!0},submitTagDetails(){this.addTagDetails()},isEditBtn(){this.isEdit=!1,this.$emit("isEditOn",!1)},addTagDetails(){var t,o,d,g,k,I;let s;const e=JSON.parse(localStorage.getItem("draft_ids")||"[]");e[0]&&this.$route.params.type=="internal"&&(this.routeId=(o=(t=e[0])==null?void 0:t.primaryDetails[this.itemType][this.site_language])!=null&&o.draft_request_id?(g=(d=e[0])==null?void 0:d.primaryDetails[this.itemType][this.site_language])==null?void 0:g.draft_request_id:(k=e[0])!=null&&k.primaryDetails[this.itemType].draft_relation_id?(I=e[0])==null?void 0:I.primaryDetails[this.itemType].draft_relation_id:"");let l={draft_request_id:this.routeId,site_language:this.site_language,draft_tag_id:this.saveIdList.tag_request_id,genre_details:this.genre_details,tag_details:this.tag_details};this.$route.params.type=="internal"?(l.title_id=this.title_id,l.title_type=this.itemType,s=this.EditMovieService.saveTag(l)):(l.tag_details=l.tag_details.map(L=>(L.id=L.id?L.id:L.tag_id,L)),l.genre_details=l.genre_details.map(L=>(L.id=L.id?L.id:L.tag_id,L)),s=this.AddNewMovieService.saveTag(l)),s.then(L=>{var _;if(L.status==200){if(this.genre_details=[],this.tag_details=[],this.isSubmit=!1,this.saveIdList.tag_request_id=L.data.data[0].draft_tag_id,this.$route.params.type=="internal")if(this.isEdit=!0,this.itemType=="movie"){const C=JSON.parse(localStorage.getItem("draft_ids")||"[]");if(C[0])((_=C[0].primaryDetails[this.itemType][this.site_language])==null?void 0:_.draft_request_id)||(C[0].primaryDetails[this.itemType][this.site_language]=L.data.data[0]);else{const m={primaryDetails:{[this.itemType]:{[this.site_language]:{draft_request_id:L.data.data[0].draft_request_id},draft_relation_id:L.data.data[0].draft_request_id}}};C.push(m)}localStorage.setItem("draft_ids",JSON.stringify(C)),this.$router.push(`/AddNewMovieForm/${this.title_id}/internal/${L.data.data[0].draft_request_id}`)}else this.$router.push(`/add-tv-details/${this.title_id}/internal/${L.data.data[0].draft_request_id}`);this.$emit("selectedId",this.saveIdList),this.tagRequestList(),x.fire({title:this.$t("Error.success")})}}).catch(L=>{})}}},po={class:"tags-from-details"},fo={class:"page-heading-area page-main-heading"},yo={class:"tag-content-area"},bo=["onClick"],wo=a("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("path",{d:"M15.9993 10.668V21.3346M21.3327 16.0013L10.666 16.0013",stroke:"white","stroke-linecap":"round","stroke-linejoin":"round"}),a("rect",{x:"0.5",y:"0.5",width:"31",height:"31",rx:"3.5",stroke:"#41444C"})],-1),ko=[wo],Co={class:"tags-listings"},Io=["onClick"],Lo=a("img",{src:it},null,-1),Mo=[Lo],Do={class:"new-cast-modal"},To={class:"add-tag-popbody"},So={class:"form-group"},Eo={class:"form-group martop16"},No={key:0,class:"tags-listings"},Vo=["onClick"],qo=a("img",{src:mo,alt:""},null,-1),Ao=[qo],jo={class:"form-group martop24"},Bo={class:"button-group"},Oo=["disabled"],Po={class:"new-cast-modal center-popup-modal"},Fo=["innerHTML"],Uo={class:"button-group"};function Ro(s,e,l,t,o,d){const g=G("SearchDropdown"),k=G("PopUpModal");return c(),u(U,null,[a("div",po,[a("div",fo,[a("h2",null,r(s.$t("tagDetails.tags")),1)]),a("div",yo,[(c(!0),u(U,null,Y(o.tagDetails,(I,L)=>(c(),u("div",{class:"tag-content-list",key:L},[a("div",{class:f(["tags-upper-area",o.isEdit?"isDisabled":""])},[a("h4",null,r(I.category_name),1),a("span",{class:f(["plusicon",o.isEdit?"pointer-events-none":""]),onClick:_=>d.openTagModal(I)},ko,10,bo)],2),a("div",Co,[(c(!0),u(U,null,Y(I.tags,(_,C)=>(c(),u("div",{class:f(["single-tag",o.isEdit?"isDisabled":""]),key:C},[he(r(_.display_name)+" ("+r(_.score)+") ",1),a("span",{onClick:m=>d.removeTagList(_,I),class:f(o.isEdit?"pointer-events-none":"")},Mo,10,Io)],2))),128))])]))),128)),a("div",{class:f([(o.genre_details.length==0&&o.tag_details.length==0,""),"tag-btn"])},[a("a",{class:f([(o.genre_details.length==0&&o.tag_details.length==0,""),"saveBtn"]),onClick:e[0]||(e[0]=I=>o.isEdit==!0?d.isEditBtn():d.saveTagDetails())},r(o.isEdit?s.$t("button.edit"):s.$t("button.save")),3)],2)])]),b(" add tag modal "),a("div",Do,[V(k,{isModal:o.isTagModal},{header:D(()=>[a("h1",null,r(s.$t("tagDetails.addNewTag")),1),b(` <button @click="isVideoModal = false">\r
          <img src="@/assets/icons/modal-cross-icon.svg" alt="" />\r
        </button> `)]),body:D(()=>[a("div",To,[a("div",So,[a("label",null,r(s.$t("filterCard.subCategory")),1),V(g,{onDropdownValue:d.getSubCateId,search_type:o.sub_cat_id,searchTitleListItem:o.sub_category_list,searchtitle:"category_name",searchvalue:"id",labelItem:s.$t("dictionary.select")},null,8,["onDropdownValue","search_type","searchTitleListItem","labelItem"])]),a("div",Eo,[a("label",null,r(s.$t("filterCard.tags")),1),V(g,{onDropdownValue:d.chooseTag,search_type:o.tag_search_id,searchTitleListItem:o.tag_search_list,searchtitle:"title",searchvalue:"id",labelItem:s.$t("tagDetails.searchTags")},null,8,["onDropdownValue","search_type","searchTitleListItem","labelItem"])]),o.tagBelowList.length>0?(c(),u("div",No,[(c(!0),u(U,null,Y(o.tagBelowList,(I,L)=>(c(),u("div",{class:"single-tag",key:L},[he(r(I.title)+" ",1),a("span",{onClick:_=>d.removeTagSearch(I)},Ao,8,Vo)]))),128))])):b("v-if",!0),a("div",jo,[a("label",null,r(s.$t("tagDetails.score")),1),b(` <div class="score-board">\r
              <a @click="removeScore" class="minusbtn"\r
                ><img src="../../assets/icons/minus-sm.svg" alt=""\r
              /></a>\r
              <input type="text" v-model="score" readonly />\r
              <a @click="addScore" class="plusbtn"\r
                ><img src="../../assets/icons/plus-sm.svg" alt=""\r
              /></a>\r
            </div> `),V(g,{onDropdownValue:e[1]||(e[1]=I=>{o.score=I}),search_type:o.score,searchTitleListItem:o.score_list,labelItem:s.$t("tagDetails.score"),clearable:!1},null,8,["search_type","searchTitleListItem","labelItem"])])])]),footer:D(()=>[a("div",Bo,[a("button",{class:f(["black-outline-btn",o.tagBelowList.length==0?"isDisabled":""]),disabled:o.tagBelowList.length==0,onClick:e[2]||(e[2]=(...I)=>d.addTags&&d.addTags(...I))},r(s.$t("button.save")),11,Oo),a("button",{class:"red-fill-btn",onClick:e[3]||(e[3]=(...I)=>d.closeModal&&d.closeModal(...I))},r(s.$t("button.cancel")),1)])]),_:1},8,["isModal"])]),b(" submit modal "),a("div",Po,[V(k,{isModal:o.isSubmit},{header:D(()=>[a("h1",{class:"text-center",innerHTML:s.$t("addNewMoviesForm.youShouldSubmitToSendTheAdd")},null,8,Fo)]),body:D(()=>[]),footer:D(()=>[a("div",Uo,[a("button",{class:"black-outline-btn",onClick:e[4]||(e[4]=(...I)=>d.submitTagDetails&&d.submitTagDetails(...I))},r(s.$t("button.ok")),1),a("button",{class:"red-fill-btn",onClick:e[5]||(e[5]=I=>o.isSubmit=!1)},r(s.$t("button.cancel")),1)])]),_:1},8,["isModal"])])],64)}const ld=ye(go,[["render",Ro],["__file","D:/workspace/11-db-frontend/11_db/src/components/AddNewmovie/TagsDetails.vue"]]);export{ot as A,ad as C,He as E,sd as M,ld as T,id as W,lt as a};
