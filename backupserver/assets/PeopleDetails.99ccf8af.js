import{_ as R,y as B,z as V,P as q,T as E,U as K,V as G,J as z,r as _,o,c as a,a as s,t as l,F as k,b as d,s as w,W as H,l as b,p as u,q as p,B as O,X as Y}from"./index.3434c1c6.js";import{S as j}from"./share-icon.30a1319f.js";import{C as J,M as X}from"./MediaSection.0ef55c5f.js";import{S as Q}from"./SocialIconCard.c172961d.js";import{G as Z,_ as x,a as $}from"./settings.bf8e6a91.js";import{R as ee}from"./RelatedArticle.06a83a19.js";import{C as te}from"./CastCrewCard.d3888d41.js";import{C as se}from"./CastCrewSection.2f7685c1.js";import{P as f}from"./PeopleDetailsService.d234aa75.js";import{M}from"./MoviesDetailsService.b2bdc6d0.js";import{_ as ie,a as oe,b as le,c as re,d as ae}from"./link.6f5ec47b.js";import{_ as ne,a as de}from"./blk-icon3.23aad102.js";import"./user-icon-gray.c8f7d18d.js";import"./ImageCard.55740cc2.js";import"./play-btn.b7dd2e78.js";import"./PosterCard.d9647535.js";const ce={name:"PeopleDetails",emits:["on-current-theme-change"],inject:["common"],components:{Tabs:B,TabWrapper:V,Slider:j,CommunityCard:J,SocialIconCard:Q,GoogleAdd:Z,RelatedArticle:ee,MediaSection:X,CastCrewCard:te,CastCrewSection:se,PopUpModal:q},watch:{"common.state.SelectedLang":function(t,i){(t=="KO"&&i=="EN"||t=="EN"&&i=="KO")&&(this.page=1,this.getPeopleDetails(),this.getRelatedArticles(this.person_id,this.page,this.limit),this.getKnownForList(),this.getPeopleWorkList("movie","crew"))}},data(){return{componentType:"people",workTab:"crew",background_image:"",person_id:this.$route.params.id,name:"",birth_day:"",role:[],gender:"",countries:[],likeNumber:0,biography:"",aka:"",poster_image:"",isFavourite:!1,isShare:!1,is_like:"",baseUrl:"https://elvndb-frnt.dvconsulting.org",videos:[],images:[],facebookLink:"",instagramLink:"",twitterLink:"",article:[],knownForList:[],workList:[],page:1,limit:3,crewLength:0,castLength:0,crewList:[],castList:[],related_articles_details_url:""}},mounted(){localStorage.removeItem("site_language"),localStorage.removeItem("draft_ids"),this.getPeopleDetails(),this.getRelatedArticles(this.person_id,this.page,this.limit),this.getKnownForList(),this.getPeopleWorkList("movie","crew"),this.userLog()},methods:{getPeopleDetails(){f.getPeopleDetails(this.$route.params.id).then(t=>{t.status==200&&(this.background_image=t.data.bg_image?t.data.bg_image:t.data.poster_image?t.data.poster_image:"",this.name=t.data.name,this.birth_day=t.data.dob,this.role=t.data.profession,this.gender=t.data.gender,this.countries=t.data.countries,this.likeNumber=t.data.no_of_likes,this.biography=t.data.biography,this.aka=t.data.aka,this.poster_image=t.data.poster_image,this.is_like=t.data.is_liked,this.videos=t.data.media.videos,this.videos=this.videos.map(i=>({link:i.path,title:i.title,id:i.video_id})),Array.from(this.videos).forEach((i,m)=>{this.videos[m].videoid=this.validateVimeoURL(i.link)||this.matchYoutubeUrl(i.link),this.validateVimeoURL(i.link)?this.videos[m].type="vimeo":this.videos[m].type="youtube"}),this.images=t.data.media.images,this.images=this.images.map(i=>({link:i.path,title:i.title,id:i.image_id})),this.facebookLink=t.data.social_media.facebook,this.instagramLink=t.data.social_media.instagram,this.twitterLink=t.data.social_media.twitter)}).catch(t=>{})},toEditPeople(){this.$router.push({name:"AddNewPeopleForm",params:{external_id:this.$route.params.id,type:"internal"}}),localStorage.setItem("peopleBackPage","/people/details/"+this.$route.params.id)},addToFavorite(){M.addToFavorite(this.$route.params.id,"people").then(t=>{t.status==200&&(this.isFavourite=!1,this.getPeopleDetails())}).catch(t=>{})},onClick(t){const i=this.$refs.myHiddenInput;i.value=t,i.style.display="block",i.select(),document.execCommand("copy"),i.style.display="none",E.fire({title:this.$t("addNewPeople.primaryDetails.linkCopied")})},navigate(t){this.$router.push({name:t,params:{person_id:this.$route.params.id}})},getRelatedArticles(t,i,m){f.getRelatedArticles(t,i,m).then(c=>{c.status==200&&(this.article=c.data.results,this.related_articles_details_url=c.data.related_articles_details_url)}).catch(c=>{})},getKnownForList(){f.getKnownForList(this.person_id).then(t=>{t.status==200&&(this.knownForList=t.data.results.map(i=>({image:i.poster_image,title:i.title_name,id:i.title_id,title_type:i.title_type})))}).catch(t=>{})},async getPeopleWorkList(t,i){this.workTab=i;let m={person_id:this.person_id,title_type:t,list_type:"crew"};await f.getWorkList(m).then(c=>{if(c.status==200){this.crewList=c.data.results.map(r=>{let g=r.list;return r.list=g.map(h=>({image:h.poster_image,name:h.title_name,id:h.title_id,designation:h.character_name})),r});let e=c.data.results.reduce((r,g)=>(r=r+g.list.length,r),0);this.crewLength=e}}).catch(c=>{}),m={person_id:this.person_id,title_type:t,list_type:"cast"},await f.getWorkList(m).then(c=>{if(c.status==200){this.castList=c.data.results.map(r=>{let g=r.list;return r.list=g.map(h=>({image:h.poster_image,name:h.title_name,id:h.title_id,designation:h.character_name})),r});let e=c.data.results.reduce((r,g)=>(r=r+g.list.length,r),0);this.castLength=e,i=="crew"?this.workList=this.crewList:this.workList=this.castList}}).catch(c=>{})},selectedTab(t){t=="header.mainMenu.Movies"?this.getPeopleWorkList("movie",this.workTab):this.getPeopleWorkList("tv",this.workTab)},userLog(){M.userLog(this.$route.params.id,"people",this.$cookies.get("userCookie")).then(t=>{t.status==200}).catch(t=>{})},matchYoutubeUrl:K,validateVimeoURL:G,dateformat:z}},he={class:"container"},pe={class:"people-dtl-otr"},ue={class:"people-dtl-left"},me=["src"],_e={key:1,src:O,alt:""},ge={class:"people-dtl-right flex-dr"},ke={class:"edit-otr"},ve={class:"big-hdr"},we={class:"edit-innr"},be={key:0,src:ie},fe=s("img",{src:x,alt:"",class:"dark-th"},null,-1),ye=s("img",{src:ne,alt:"",class:"light-th"},null,-1),Le=s("img",{src:$,alt:"",class:"dark-th"},null,-1),Pe=s("img",{src:de,alt:"",class:"light-th"},null,-1),Ne=[Le,Pe],Ce={class:"people-date-list"},Te={key:0},Se={key:1},Fe={key:2},De={key:3},Me={class:"detl-bt-content"},Ue={class:"people-details-btm-sec"},We={class:"container"},Ie={class:"people-details-btm-otr"},Ae={class:"people-details-btm-left"},Re={key:0,class:"mb-10 small-hdr"},Be={class:"work-otr mr-bb2"},Ve={class:"mb-10 small-hdr"},qe={class:"tab-outr small"},Ee=s("div",{class:"divider"},null,-1),Ke={key:0},Ge={class:"works-list-sec-innr"},ze={class:"image-otr cast-crew"},He=s("div",{class:"divider"},null,-1),Oe={key:1,class:"no-data-wrapper"},Ye=s("div",{class:"divider"},null,-1),je={key:0},Je={class:"works-list-sec-innr"},Xe={class:"image-otr cast-crew"},Qe={key:1,class:"no-data-wrapper"},Ze={class:"people-details-btm-right"},xe={key:0,class:"mb-10 small-hdr"},$e={key:2,class:"mb-10 small-hdr"},et={key:3,class:"slider-otr"},tt={key:4,class:"mb-10 small-hdr"},st={class:"new-cast-modal center-popup-modal"},it={class:"cast-details"},ot={class:"button-group"},lt={class:"new-cast-modal center-popup-modal smallbx-modal"},rt={class:"cast-details"},at=s("img",{src:oe,alt:""},null,-1),nt=s("img",{src:le,alt:""},null,-1),dt=s("img",{src:re,alt:""},null,-1),ct=["href"],ht=s("img",{src:ae,alt:""},null,-1),pt=[ht],ut={type:"text",hidden:"",ref:"myHiddenInput"},mt={class:"button-group"};function _t(t,i,m,c,e,r){var T,S,F,D;const g=_("MediaSection"),h=_("Dropdown"),P=_("CastCrewCard"),N=_("Tabs"),U=_("TabWrapper"),W=_("SocialIconCard"),I=_("Slider"),A=_("RelatedArticle"),C=_("PopUpModal"),y=_("ShareNetwork");return o(),a("div",null,[s("div",{class:"people-details-sec",style:H({backgroundImage:"url("+e.background_image+")"})},[s("div",he,[s("div",pe,[s("div",ue,[s("figure",null,[e.poster_image?(o(),a("img",{key:0,src:e.poster_image,alt:""},null,8,me)):(o(),a("img",_e))])]),s("div",ge,[s("div",ke,[s("h2",ve,l(e.name),1),s("div",we,[s("a",{onClick:i[0]||(i[0]=(...n)=>r.toEditPeople&&r.toEditPeople(...n)),class:"btn solid"},l(t.$t("addNewPeople.editButton")),1),s("a",{onClick:i[1]||(i[1]=n=>e.isFavourite=!0),class:"sc-icon"},[e.is_like=="y"?(o(),a("img",be)):(o(),a(k,{key:1},[fe,ye],64))]),s("a",{onClick:i[2]||(i[2]=n=>e.isShare=!0),class:"sc-icon"},Ne)])]),s("ul",Ce,[e.birth_day?(o(),a("li",Te,l(r.dateformat(e.birth_day)),1)):d("v-if",!0),e.role.length?(o(),a("li",Se,[s("ul",null,[(o(!0),a(k,null,w(e.role,n=>(o(),a("li",{key:n},l(n),1))),128))])])):d("v-if",!0),e.gender?(o(),a("li",Fe,l(t.$t(e.gender)),1)):d("v-if",!0),e.countries.length?(o(),a("li",De,l(e.countries.toString()),1)):d("v-if",!0),s("li",null,l(t.$t("addNewPeople.likes"))+" : "+l(e.likeNumber),1)]),s("div",Me,[s("h5",null,l(t.$t("addNewPeople.primaryDetails.biography")),1),s("p",null,l(e.biography?e.biography:"-"),1),s("h5",null,l(t.$t("addNewPeople.aka")),1),s("p",null,l(e.aka?e.aka:"-"),1),d(` <div class="awd-list-outr">\r
                <ul class="award-list">\r
                  <li>\r
                    <span><img src="@/assets/icons/award.svg" alt="" /></span>\r
                    <em>{{ $t("addNewPeople.award") }}</em>\r
                  </li>\r
                  <li>\r
                    <ul>\r
                      <li>0 {{ $t("addNewPeople.wins") }}</li>\r
                      <li>0 {{ $t("addNewPeople.nominations") }}</li>\r
                    </ul>\r
                  </li>\r
                </ul>\r
                <a href="#">\r
                  <img\r
                    src="@/assets/icons/arrow-right-wh.svg"\r
                    class="dark-th"\r
                    alt=""\r
                  />\r
                  <img\r
                    src="@/assets/icons/arrow-right-blk.svg"\r
                    class="light-th"\r
                    alt=""\r
                  />\r
                </a>\r
              </div> `)])])])])],4),s("div",Ue,[s("div",We,[s("div",Ie,[s("div",Ae,[((T=e.videos)==null?void 0:T.length)>0||((S=e.images)==null?void 0:S.length)>0?(o(),a("h2",Re,l(t.$t("addNewPeople.media")),1)):d("v-if",!0),((F=e.videos)==null?void 0:F.length)>0||((D=e.images)==null?void 0:D.length)>0?(o(),b(g,{key:1,videos:e.videos,images:e.images,isPeoplePoster:!0,onNavigation:i[3]||(i[3]=n=>r.navigate("PeopleMedia"))},null,8,["videos","images"])):d("v-if",!0),s("div",Be,[s("h2",Ve,l(t.$t("addNewPeople.works")),1),s("div",qe,[u(U,{onSelectedTab:r.selectedTab},{default:p(()=>[u(N,{title:"header.mainMenu.Movies"},{default:p(()=>[u(h,{search_type:e.workTab,onDropdownValue:i[4]||(i[4]=n=>r.getPeopleWorkList("movie",n)),searchTitleListItem:[{key:"crew",value:t.$t("addNewPeople.crew")+"("+e.crewLength+")"},{key:"cast",value:t.$t("addNewPeople.cast")+"("+e.castLength+")"}],searchtitle:"value",searchvalue:"key"},null,8,["search_type","searchTitleListItem"]),Ee,e.workList.length?(o(),a("div",Ke,[(o(!0),a(k,null,w(e.workList,n=>(o(),a("div",{class:"works-list-sec",key:n},[s("div",Ge,[s("h5",null,l(n.year),1),s("div",ze,[(o(!0),a(k,null,w(n.list,(v,L)=>(o(),b(P,{key:L,castList:v,redirectLink:`/movies/details/${v.id}`},null,8,["castList","redirectLink"]))),128))])]),He]))),128))])):(o(),a("div",Oe,[s("p",null,l(t.$t("addNewPeople.noData")),1)]))]),_:1}),u(N,{title:"header.mainMenu.TVShows"},{default:p(()=>[u(h,{search_type:e.workTab,onDropdownValue:i[5]||(i[5]=n=>r.getPeopleWorkList("tv",n)),searchTitleListItem:[{key:"crew",value:t.$t("addNewPeople.crew")+"("+e.crewLength+")"},{key:"cast",value:t.$t("addNewPeople.cast")+"("+e.castLength+")"}],searchtitle:"value",searchvalue:"key"},null,8,["search_type","searchTitleListItem"]),Ye,e.workList.length?(o(),a("div",je,[(o(!0),a(k,null,w(e.workList,n=>(o(),a("div",{class:"works-list-sec",key:n},[s("div",Je,[s("h5",null,l(n.year),1),s("div",Xe,[(o(!0),a(k,null,w(n.list,(v,L)=>(o(),b(P,{key:L,castList:v,redirectLink:`/tvshows/details/${v.id}`},null,8,["castList","redirectLink"]))),128))])])]))),128))])):(o(),a("div",Qe,[s("p",null,l(t.$t("addNewPeople.noData")),1)]))]),_:1})]),_:1},8,["onSelectedTab"])]),d(` <h2 class="mb-10 small-hdr">\r
                {{ $t("addNewPeople.community") }}\r
              </h2>\r
              <CommunityCard type="people" famous_line_type="title" :season_id="0" /> `)])]),s("div",Ze,[e.facebookLink||e.instagramLink||e.twitterLink?(o(),a("h2",xe,l(t.$t("addNewPeople.socialMedia")),1)):d("v-if",!0),e.facebookLink||e.instagramLink||e.twitterLink?(o(),b(W,{key:1,facebookLink:e.facebookLink,instagramLink:e.instagramLink,twitterLink:e.twitterLink},null,8,["facebookLink","instagramLink","twitterLink"])):d("v-if",!0),e.knownForList.length?(o(),a("h2",$e,l(t.$t("addNewPeople.knownFor")),1)):d("v-if",!0),e.knownForList.length?(o(),a("div",et,[u(I,{connection_list:e.knownForList,componentType:e.componentType},null,8,["connection_list","componentType"])])):d("v-if",!0),d(" <GoogleAdd /> "),e.article.length?(o(),a("h2",tt,l(t.$t("addNewPeople.relatedArticles")),1)):d("v-if",!0),e.article.length?(o(),b(A,{key:5,article:e.article,related_articles_details_url:e.related_articles_details_url},null,8,["article","related_articles_details_url"])):d("v-if",!0)])])])]),d(" favorite modal "),s("div",st,[u(C,{isModal:e.isFavourite},{header:p(()=>[s("h1",null,l(t.$t("addNewPeople.favorite")),1)]),body:p(()=>[s("div",it,[s("p",null,l(t.$t("addNewPeople.goWishlist")),1)])]),footer:p(()=>[s("div",ot,[s("button",{class:"black-outline-btn",onClick:i[6]||(i[6]=n=>e.isFavourite=!1)},l(t.$t("addNewPeople.mediadetails.cancelButton")),1),s("button",{class:"red-fill-btn",onClick:i[7]||(i[7]=(...n)=>r.addToFavorite&&r.addToFavorite(...n))},l(t.$t("button.ok")),1)])]),_:1},8,["isModal"])]),d(" share modal "),s("div",lt,[u(C,{isModal:e.isShare},{header:p(()=>[s("h1",null,l(t.$t("addNewPeople.share")),1)]),body:p(()=>[s("div",rt,[u(y,{network:"facebook",url:e.baseUrl+t.$route.fullPath,title:e.name,description:e.biography,quote:e.aka},{default:p(()=>[at]),_:1},8,["url","title","description","quote"]),u(y,{network:"twitter",url:e.baseUrl+t.$route.fullPath,title:e.name,description:e.biography,quote:e.aka},{default:p(()=>[nt]),_:1},8,["url","title","description","quote"]),u(y,{network:"email",url:e.baseUrl+t.$route.fullPath,title:e.name,description:e.biography,quote:e.aka},{default:p(()=>[dt]),_:1},8,["url","title","description","quote"]),s("a",{href:e.baseUrl+t.$route.fullPath,onClick:i[8]||(i[8]=Y(n=>r.onClick(e.baseUrl+t.$route.fullPath),["prevent","stop"]))},pt,8,ct),s("input",ut,null,512)])]),footer:p(()=>[s("div",mt,[s("button",{class:"black-outline-btn",onClick:i[9]||(i[9]=n=>e.isShare=!1)},l(t.$t("addNewPeople.mediadetails.cancelButton")),1)])]),_:1},8,["isModal"])])])}const Ut=R(ce,[["render",_t],["__file","D:/workspace/11-db-frontend/11_db/src/views/People/PeopleDetails.vue"]]);export{Ut as default};
