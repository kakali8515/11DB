import{_ as Ei,V as Si,I as Li,b as Vi,c as Ui,L as Ti}from"./modal-img-cross.dc10eb7b.js";import{R as ve,i as Ai,_ as Be,P as Re,aD as oi,aA as di,aB as Oe,aC as ri,az as ni,E as n,N as mi,O as ui,G as qi,K as Oi,aG as E,r as O,o as p,c as g,a as i,t as l,X as Bi,n as f,b as v,p as L,F as me,s as fe,k as te,w as S,v as A,q as w,T as F,y as Ri,z as ji,V as Fi,U as zi,l as Ie,a3 as Ki,ab as xi,ac as Hi,C as Ji}from"./index.d6ed331f.js";import{C as Yi}from"./Calender.32f04616.js";import{A as Wi}from"./AddNewMovieService.a6b28c14.js";import{A as je}from"./AddNewPeopleService.895a6a56.js";import{_ as Zi}from"./no-data-image.951252b7.js";import{_ as Gi}from"./camera.e2780d91.js";import{_ as _i}from"./close.0afef835.js";import{_ as Xi}from"./checkbox-checked.c6ca7d68.js";class Fe{async editPrimaryDetails(a){return await ve.post("/people/edit/edit-people-primary-details",a,{headers:{"Content-Type":"multipart/form-data"}}).then(m=>m).catch(m=>m)}async getPrimaryDetails(a,m,e){return await ve.get("/people/edit/show-people-primary-details",{params:{site_language:m,relation_id:a,people_id:e}}).then(s=>s).catch(s=>s)}async mediaRequestList(a,m,e,s){return await ve.post("/people/edit/people-media-request-list",{people_id:a,draft_request_id:m,site_language:e,media_type:s}).then(o=>o).catch(o=>o)}async addMediaDetails(a){return await ve.post("/people/edit/edit-people-media-details",{...a}).then(m=>m).catch(m=>m)}async submitData(a,m){return await ve.post("/people/edit/submit-all-save-people",{draft_relation_id:a,people_id:m}).then(e=>e).catch(e=>e)}}const{t:j}=Ai.global,Qi={name:"PeoplePrimaryDetails",components:{Calender:Yi,PopUpModal:Re},mixins:[oi,di,Oe,ri,ni],props:{site_language:{type:String}},emits:["selectedId","isEditOn"],setup(t,{emit:a}){const m=n(!1),e=mi(),s=ui(),o=n("people"),y=new Wi,N=new je,q=new Fe,M=n(""),_=n(""),d=n(""),k=n([]),C=n(""),Q=n(""),be=n(""),le=n(""),Pe=n(""),Ne=n(""),ye=e.params.type=="internal"?n(e.params.external_id):n(""),Ce=n(e.params.id)?n(e.params.id):n(""),ee=e.params.type=="tmdb"?n(e.params.external_id):n(""),oe=n(""),ue=n(""),b=e.params.type=="kobis"?n(e.params.external_id):n(""),V=n(Ce.value),de=n([]),z=n([]),U=n([]),re=n([]),K=n([]),R=n([]),ne=n(""),ze=n(""),Ke=n(""),ke=n(""),xe=n(""),He=n(""),_e=n(""),Je=n(""),Ye=n(""),we=n(""),We=n(""),Ze=n(""),Me=n(""),Ee=n(""),Se=n(""),Le=n([]),Ve=n([]),x=n(""),D=n({}),ce=n(!1),Ue=n(0),ci=n(!1),pi=n(!1),gi=n("MM.DD.YYYY"),ae=n(!1),hi=n(/[`!@#$%^&*()_+\-=\[\]{};':"\\|.<>\/?~]/),Te=n(null),Ae=n(null),pe=n("");qi(()=>{var u,h,P,I,H,J,Y,c,B,W,Z,G;e.params.type=="internal"&&(m.value=!0);const r=JSON.parse(localStorage.getItem("draft_ids")||"[]");r[0]?(V.value=((u=r[0])==null?void 0:u.primaryDetails[o.value])&&((P=(h=r[0])==null?void 0:h.primaryDetails[o.value][t.site_language])==null?void 0:P.draft_request_id)?(H=(I=r[0])==null?void 0:I.primaryDetails[o.value][t.site_language])==null?void 0:H.draft_request_id:"",x.value=((J=r[0])==null?void 0:J.primaryDetails[o.value])&&((c=(Y=r[0])==null?void 0:Y.primaryDetails[o.value][t.site_language])==null?void 0:c.draft_relation_id)?(W=(B=r[0])==null?void 0:B.primaryDetails[o.value][t.site_language])==null?void 0:W.draft_relation_id:(Z=r[0])!=null&&Z.primaryDetails[o.value].draft_relation_id?(G=r[0])==null?void 0:G.primaryDetails[o.value].draft_relation_id:""):(V.value=V.value,x.value=x.value),qe(),Ge(),Xe(),De()}),Oi(()=>t.site_language,function(r,u){var h,P,I,H,J,Y,c,B,W,Z,G,ie;if(r&&r!=u){const T=JSON.parse(localStorage.getItem("draft_ids")||"[]");T[0]?(V.value=((h=T[0])==null?void 0:h.primaryDetails[o.value])&&((I=(P=T[0])==null?void 0:P.primaryDetails[o.value][t.site_language])==null?void 0:I.draft_request_id)?(J=(H=T[0])==null?void 0:H.primaryDetails[o.value][t.site_language])==null?void 0:J.draft_request_id:"",x.value=((Y=T[0])==null?void 0:Y.primaryDetails[o.value])&&((B=(c=T[0])==null?void 0:c.primaryDetails[o.value][t.site_language])==null?void 0:B.draft_relation_id)?(Z=(W=T[0])==null?void 0:W.primaryDetails[o.value][t.site_language])==null?void 0:Z.draft_relation_id:(G=T[0])!=null&&G.primaryDetails[o.value].draft_relation_id?(ie=T[0])==null?void 0:ie.primaryDetails[o.value].draft_relation_id:""):(V.value=V.value,x.value=x.value),U.value=[],R.value=[],ne.value="",ke.value="",_e.value="",we.value="",setTimeout(()=>{De(),qe(),Ge(),Xe()},500)}});const qe=()=>{t.site_language!=""&&y.creditJobTitleList(t.site_language).then(r=>{r.status==200&&(de.value=r.data.results)}).catch(r=>{})},vi=r=>{var P;Ae.value=r;let u=(P=U==null?void 0:U.value)==null?void 0:P.find(I=>I.id==r),h=de.value.find(I=>I.department_id==r);!u&&z.value.indexOf(r)===-1&&r!=null&&(z.value.push(r),U.value.push({department_id:r,department_name:h.department_name}))},fi=r=>{U.value.find(h=>h.id==r.id)&&(U.value.splice(U.value.indexOf(r),1),z.value.splice(z.value.indexOf(r.id),1)),U.value.length==0&&(Ae.value=null)},Ge=()=>{y.getCountryList().then(r=>{r.status==200&&(re.value=r.data.results)}).catch(r=>{})},bi=r=>{var P;Te.value=r;let u=(P=R==null?void 0:R.value)==null?void 0:P.find(I=>I.id==r||I.country_id==r),h=re.value.find(I=>I.id==r);u||R.value.push({id:r,country_name:h.country_name}),K.value.indexOf(r)===-1&&r!=null&&K.value.push(Number(r))},yi=r=>{R.value.find(h=>h.id==r.id||h.country_id==r.id)&&(R.value.splice(R.value.indexOf(r),1),K.value.splice(K.value.indexOf(r.id),1)),R.value.length==0&&(Te.value=null)},Xe=()=>{N.getGenderList().then(r=>{r.status==200&&(k.value=r.data.gender_list)}).catch(r=>{})},ki=r=>{let u=r.target.files||r.dataTransfer.files;if(!u.length)return;M.value=u[0];let h=r.target.files[0].size,P=/(\.jpg|\.jpeg|\.png)$/i;if(P.exec(M.value.name)){if(h>1024*1024*25)return F.fire({title:j("Error.uploadFileSize")}),document.querySelector("#poster-pick").value="",_.value="",!1;P.exec(M.value.name)&&(_.value=URL.createObjectURL(r.target.files[0]))}else return F.fire({title:j("Error.onlyJpg")}),document.querySelector("#poster-pick").value="",_.value="",!1},wi=r=>{C.value=r},Di=r=>{le.value=r},Ii=()=>{Ue.value=_e.value.length},Pi=()=>{Qe()},Ni=E(()=>new Date(new Date(C.value).setFullYear(new Date(C.value).getFullYear()+1))),Ci=()=>{if(oe.value?/[`!@#$%^&*()_+\-=\[\]{};':"\\|.<>\/?~]/.test(oe.value)?D.value.imdb_id=E(()=>j("Error.specialCharacter")):D.value.imdb_id=n(""):D.value.tiving_id=n(""),ee.value?isNaN(ee.value)?D.value.tmdb_id=E(()=>j("Error.onlyNumber")):D.value.tmdb_id=n(""):D.value.tmdb_id=n(""),b.value?/[`!@#$%^&*()_+\-=\[\]{};':"\\|.<>\/?~]/.test(b.value)?D.value.kobis_id=E(()=>j("Error.specialCharacter")):D.value.kobis_id=n(""):D.value.kobis_id=n(""),pe.value?/[`!@#$%^&*()_+\-=\[\]{};':"\\|.<>\/?~]/.test(pe.value)?D.value.odk_id=E(()=>j("Error.specialCharacter")):D.value.odk_id=n(""):D.value.odk_id=n(""),ne.value==""?D.value.people_name=E(()=>j("Error.requiredInput")):/[0-9]+/.test(ne.value)?D.value.people_name=E(()=>j("Error.numberNotAll")):D.value.people_name=n(""),Object.values(D.value).filter(r=>r.length>0).length!=0)return window.scroll({top:0,left:0,behavior:"smooth"}),!1;ce.value=!0},Mi=()=>{m.value=!1,a("isEditOn",!1)},Qe=()=>{var I,H,J,Y;const r=JSON.parse(localStorage.getItem("draft_ids")||"[]");let u,h=new FormData,P=x.value?x.value:(H=(I=r[0])==null?void 0:I.primaryDetails[o.value])!=null&&H.draft_relation_id?(Y=(J=r[0])==null?void 0:J.primaryDetails[o.value])==null?void 0:Y.draft_relation_id:"";h.append("relation_id",P),h.append("name",ne.value),h.append("site_language",t.site_language),h.append("aka",ke.value),h.append("biography",_e.value),h.append("gender",d.value),h.append("birth_date",C.value),h.append("kobis_id",b.value),h.append("tmdb_id",ee.value),h.append("imdb_id",oe.value),h.append("odk_id",pe.value),h.append("tiving_id",ue.value),h.append("official_site",we.value),h.append("facebook",Me.value),h.append("instagram",Ee.value),h.append("twitter",Se.value),h.append("death_date",le.value),h.delete("country[]"),K.value.forEach((c,B)=>h.append("country[]",c)),z.value.forEach((c,B)=>h.append("job[]",c)),h.append("search_keyword",Ve.value),h.append("news_keyword",Le.value),M.value!=""&&h.append("image",M.value),ae.value==!0&&e.params.type=="internal"?(h.append("people_id",ye.value),u=q.editPrimaryDetails(h)):ae.value==!0&&(u=N.addPrimaryDetails(h)),u.then(c=>{var B,W,Z,G,ie,T,ge,he;if(c.status==200){if(F.fire({title:j("Error.success")}),c.data.data&&c.data.data.length==1&&s.push("/AddNewPeopleForm/"+e.params.external_id+"/"+e.params.type+"/"+c.data.data[0].draft_request_id),c.data.data&&c.data.data.length==2&&(t.site_language==c.data.data[0].draft_site_language&&s.push("/AddNewPeopleForm/"+e.params.external_id+"/"+e.params.type+"/"+c.data.data[0].draft_request_id),t.site_language==c.data.data[1].draft_site_language&&s.push("/AddNewPeopleForm/"+e.params.external_id+"/"+e.params.type+"/"+c.data.data[1].draft_request_id)),c.data.data&&c.data.data.length==1)if(r[0])r[0].primaryDetails[o.value][t.site_language]||(r[0].primaryDetails[o.value][t.site_language]=c.data.data[0]);else{const X={primaryDetails:{[o.value]:{[t.site_language]:c.data.data[0],draft_relation_id:c.data.data[0].draft_relation_id}}};r.push(X)}if(c.data.data&&c.data.data.length==2){if(r[0])r[0].primaryDetails[o.value][c.data.data[0].draft_site_language]||(r[0].primaryDetails[o.value][c.data.data[0].draft_site_language]=c.data.data[0]);else{const X={primaryDetails:{[o.value]:{[c.data.data[0].draft_site_language]:c.data.data[0],draft_relation_id:c.data.data[0].draft_relation_id}}};r.push(X)}if(r[0])r[0].primaryDetails[o.value][c.data.data[1].draft_site_language]||(r[0].primaryDetails[o.value][c.data.data[1].draft_site_language]=c.data.data[1]);else{const X={primaryDetails:{[o.value]:{[c.data.data[1].draft_site_language]:c.data.data[1],draft_relation_id:c.data.data[1].draft_relation_id}}};r.push(X)}r[0].primaryDetails[o.value]&&!r[0].primaryDetails[o.value].draft_relation_id&&(r[0].primaryDetails[o.value].draft_relation_id=c.data.data[0].draft_relation_id)}localStorage.setItem("draft_ids",JSON.stringify(r)),ce.value=!1,ae.value=!1,e.params.type=="internal"&&(m.value=!0,a("isEditOn",!0)),De()}else c.response.data.statusCode==400?((G=(Z=(W=(B=c==null?void 0:c.response)==null?void 0:B.data)==null?void 0:W.validation)==null?void 0:Z.body)==null?void 0:G.keys)=="kobis_id"?(F.fire({title:j("Error.kobisValid")}),ae.value=!1,ce.value=!1):((he=(ge=(T=(ie=c==null?void 0:c.response)==null?void 0:ie.data)==null?void 0:T.validation)==null?void 0:ge.body)==null?void 0:he.keys)=="tmdb_id"&&(F.fire({title:j("Error.tmdbValid")}),ae.value=!1,ce.value=!1):(ae.value=!1,F.fire({title:c.response.data.error}))}).catch(c=>{})},De=()=>{document.querySelector("#poster-pick").value="";let r;(ee.value||b.value||Ce.value||e.params.type=="new")&&e.params.type!="internal"?r=N.getPrimaryDetails(x.value,t.site_language,ee.value,b.value):e.params.type=="internal"&&(r=q.getPrimaryDetails(x.value,t.site_language,ye.value)),r.then(u=>{var h,P,I,H,J,Y,c,B,W,Z,G,ie,T,ge,he,X,$e,ei,ii,ai,ti,si,li;u.status==200&&(a("selectedId",{request_id:u.data.request_id,media_request_id:u.data.media_request_id}),ze.value=u.data.tmdb_name,Ke.value=u.data.kobis_name,ne.value=(h=u.data)==null?void 0:h.name,xe.value=((P=u.data)==null?void 0:P.tmdb_aka)||"",He.value=((I=u.data)==null?void 0:I.kobis_aka)||"",ke.value=(H=u.data)==null?void 0:H.aka,Je.value=((J=u.data)==null?void 0:J.tmdb_biography)||"",Ye.value=((Y=u.data)==null?void 0:Y.kobis_biography)||"",_e.value=(c=u.data)==null?void 0:c.biography.substring(0,230),Ue.value=_e.value.length,_.value=(B=u.data)==null?void 0:B.poster,x.value=u.data.relation_id?u.data.relation_id:"",oe.value=u.data.imdb_id,ue.value=((W=u.data)==null?void 0:W.tiving_id)||ue.value,b.value=u.data.kobis_id||b.value,ee.value=((Z=u.data)==null?void 0:Z.tmdb_id)||ee.value,pe.value=u.data.odk_id,we.value=(G=u.data)==null?void 0:G.official_site,We.value=(ie=u.data)==null?void 0:ie.tmdb_official_site,Ze.value=(T=u.data)==null?void 0:T.kobis_official_site,C.value=u.data.birth_date,Q.value=u.data.tmdb_birth_date,be.value=u.data.kobis_birth_date,le.value=(ge=u.data)==null?void 0:ge.death_date,Pe.value=((he=u.data)==null?void 0:he.tmdb_death_date)||"",Ne.value=((X=u.data)==null?void 0:X.kobis_death_date)||"",d.value=u.data.gender?u.data.gender:d.value,($e=u.data)!=null&&$e.countrylist.length&&(R.value=[],K.value=[],Array.from(u.data.countrylist).forEach($=>{K.value.push($.id),R.value.push($)})),(ei=u.data)!=null&&ei.job.length&&(U.value=[],z.value=[],Array.from(u.data.job).forEach($=>{z.value.push($.id),U.value.push({id:$.id,department_name:$.job})})),Me.value=((ii=u.data)==null?void 0:ii.facebook)||"",Ee.value=((ai=u.data)==null?void 0:ai.instagram)||"",Se.value=((ti=u.data)==null?void 0:ti.twitter)||"",Ve.value=(si=u.data)==null?void 0:si.search_keyword_details.map($=>$.search_keyword).join(","),Le.value=(li=u.data)==null?void 0:li.news_keyword_details.map($=>$.news_keyword).join(","))}).catch(u=>{})};return{profile_image:M,profile_image_url:_,gender:d,genderPeopleList:k,birth_date:C,tmdb_birth_date:Q,kobis_birth_date:be,death_date:le,tmdb_death_date:Pe,kobis_death_date:Ne,getDeathDate:Di,getBirthDate:wi,routeId:ye,kobis_id:b,imdb_id:oe,tiving_id:ue,tmdb_id:ee,draft_request_id:V,creditJobTitleList:qe,jobTitleList:de,job:z,jobBelowList:U,chooseJob:vi,removeJob:fi,countryList:re,country:K,countryBelowList:R,chooseCountry:bi,removeCountry:yi,people_name:ne,tmdb_people_name:ze,kobis_people_name:Ke,biography:_e,tmdb_biography:Je,kobis_biography:Ye,aka:ke,tmdb_aka:xe,kobis_aka:He,official_site:we,tmdb_official_site:We,kobis_official_site:Ze,facebook:Me,instagram:Ee,twitter:Se,news_keyword:Le,search_keyword:Ve,savePrimaryPeopleDetails:Qe,selectPosterImage:ki,error:D,checkURL:(r,u)=>{if(r=="")return D.value[u]=n(""),!0;if(Oe(r))D.value[u]=n("");else return D.value[u]=E(()=>j("Error.validUrl")),!1},isSaveBtn:Ci,isSubmit:ce,submitPrimaryDetails:Pi,countdown:Ii,remainingCount:Ue,istmDBIdClick:ci,iskobisIdClick:pi,route:e,getPrimaryDetails:De,isNumChar:ni,isIntegerNumber:oi,isCharWithComma:di,isCharWithSpeailChar:ri,datePlaceholder:gi,isOkClicked:ae,specialChars:hi,ref:n,isEdit:m,isEditBtn:Mi,afterOneYear:Ni,country_id:Te,department:Ae,odk_id:pe}}},$i={class:"primary-details-from"},ea={class:"page-heading-area page-main-heading"},ia={class:"login-wrap"},aa={class:"box"},ta={class:"people-top-area"},sa={class:"people-pic"},la=["src"],oa={key:1,src:Zi,alt:"people"},da={class:"camera-btn"},ra=i("img",{src:Gi,alt:"camera"},null,-1),na={class:"people-form-area"},_a={class:"divRows"},ma={class:"div3colmns gap32res"},ua={class:"select-item"},ca={class:"form-group"},pa={class:"select-item"},ga={class:"date-picker"},ha={class:"text-hint"},va={key:0,class:"tmdb-details-class"},fa={key:1,class:"kobis-details-class"},ba={class:"select-item"},ya={class:"form-group"},ka={class:"text-hint"},wa={key:0,class:"tmdb-details-class"},Da={key:1,class:"kobis-details-class"},Ia={class:"divRows"},Pa={class:"div2colmns smgap"},Na={class:"select-item"},Ca={class:"form-group"},Ma={key:0,class:"country-list"},Ea=["onClick"],Sa={class:"divRows"},La={class:"div2colmns smgap country-select-outer"},Va={class:"select-item"},Ua={class:"form-group"},Ta={key:0,class:"country-list"},Aa=["onClick"],qa=i("div",{class:"divider"},null,-1),Oa={class:"divRows"},Ba={class:"heads-area"},Ra=i("img",{src:Ei,alt:"question"},null,-1),ja=[Ra],Fa={class:"div3colmns"},za={class:"form-group"},Ka=["disabled"],xa={key:0,class:"error-txt"},Ha={class:"form-group"},Ja=["disabled"],Ya={key:0,class:"error-txt"},Wa={class:"form-group"},Za=["disabled"],Ga={key:0,class:"error-txt"},Xa=i("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[i("path",{d:"M1 1V6H1.58152M16.9381 8C16.446 4.05369 13.0796 1 9 1C5.64262 1 2.76829 3.06817 1.58152 6M1.58152 6H6M17 17V12H16.4185M16.4185 12C15.2317 14.9318 12.3574 17 9 17C4.92038 17 1.55399 13.9463 1.06189 10M16.4185 12H12",stroke:"white"})],-1),Qa=[Xa],$a={class:"form-group"},et=["disabled"],it={key:0,class:"error-txt"},at=i("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[i("path",{d:"M1 1V6H1.58152M16.9381 8C16.446 4.05369 13.0796 1 9 1C5.64262 1 2.76829 3.06817 1.58152 6M1.58152 6H6M17 17V12H16.4185M16.4185 12C15.2317 14.9318 12.3574 17 9 17C4.92038 17 1.55399 13.9463 1.06189 10M16.4185 12H12",stroke:"white"})],-1),tt=[at],st={class:"divRows"},lt=i("span",null,"*",-1),ot={class:"div1colmns"},dt={class:"form-group"},rt=["placeholder","disabled"],nt={key:0,class:"error-txt"},_t={class:"text-hint"},mt={key:0},ut={key:1},ct={class:"divRows"},pt={class:"div1colmns"},gt={class:"form-group"},ht=["placeholder","disabled"],vt={class:"text-hint"},ft={key:0},bt={key:1},yt={class:"divRows"},kt={class:"div1colmns"},wt={class:"form-group"},Dt=["placeholder","disabled"],It={key:0,class:"error-txt"},Pt={class:"numbers"},Nt={class:"text-hint"},Ct={key:0},Mt={key:1},Et={class:"divRows"},St={class:"div1colmns"},Lt={class:"form-group"},Vt=["disabled"],Ut={key:0,class:"error-txt"},Tt={class:"text-hint"},At={key:0},qt={key:1},Ot={class:"divRows"},Bt={class:"div1colmns mar32"},Rt={class:"form-group"},jt=["disabled"],Ft={key:0,class:"error-txt"},zt={class:"div1colmns mar32"},Kt={class:"form-group"},xt=["disabled"],Ht={key:0,class:"error-txt"},Jt={class:"div1colmns"},Yt={class:"form-group"},Wt=["disabled"],Zt={key:0,class:"error-txt"},Gt={class:"divRows"},Xt={class:"div1colmns"},Qt={class:"form-group"},$t=["placeholder","disabled"],es={class:"divRows"},is={class:"div1colmns"},as={class:"form-group"},ts=["placeholder","disabled"],ss={class:"saveBtn"},ls={class:"new-cast-modal center-popup-modal"},os=["innerHTML"],ds={class:"button-group"},rs=["disabled"];function ns(t,a,m,e,s,o){const y=O("Dropdown"),N=O("Calender"),q=O("SearchDropdown"),M=O("PopUpModal");return p(),g("div",null,[i("div",$i,[i("div",ea,[i("h2",null,l(t.$t("addNewPeople.primaryDetails.header")),1)]),i("div",ia,[i("div",aa,[i("form",{onSubmit:a[31]||(a[31]=Bi(()=>{},["prevent"]))},[i("div",ta,[i("div",sa,[e.profile_image_url?(p(),g("img",{key:0,src:e.profile_image_url,alt:"people"},null,8,la)):(p(),g("img",oa)),i("div",da,[i("a",{href:"javascript:void(0);",class:f(e.isEdit?"isDisabled":"")},[i("input",{type:"file",onChange:a[0]||(a[0]=(..._)=>e.selectPosterImage&&e.selectPosterImage(..._)),class:f(["file-btn",e.isEdit?"pointer-events-none":""]),id:"poster-pick"},null,34),ra],2)])]),i("div",na,[i("div",_a,[i("div",ma,[i("div",ua,[i("h3",null,l(t.$t("addNewPeople.primaryDetails.gender")),1),i("div",ca,[v(` <select class="form-control" v-model="gender">\r
                          <option value="" disabled selected>\r
                            {{\r
                              $t("addNewPeople.primaryDetails.genderDefault")\r
                            }}\r
                          </option>\r
                          <option\r
                            :value="index"\r
                            v-for="(gender, index) in genderPeopleList"\r
                            :key="index"\r
                            :disabled="isEdit"\r
                          >\r
                            {{ gender }}\r
                          </option>\r
                        </select> `),L(y,{search_type:e.gender,onDropdownValue:a[1]||(a[1]=_=>{e.gender=_}),"item-disabled":"disabled",disabled:e.isEdit,searchTitleListItem:[{key:"",value:t.$t("addNewPeople.primaryDetails.genderDefault"),disabled:!0},...Object.keys(e.genderPeopleList).map(_=>({key:_,value:e.genderPeopleList[_]}))],searchtitle:"value",searchvalue:"key"},null,8,["search_type","disabled","searchTitleListItem"])])]),i("div",pa,[i("h3",null,l(t.$t("addNewPeople.primaryDetails.birthdate")),1),i("div",ga,[L(N,{onDate:e.getBirthDate,input_date:new Date(e.birth_date),max_date:e.death_date,datePlaceholder:e.datePlaceholder,disabled:e.isEdit},null,8,["onDate","input_date","max_date","datePlaceholder","disabled"]),i("div",ha,[e.route.params.type=="tmdb"||e.istmDBIdClick||e.route.params.type=="internal"?(p(),g("p",va,l(t.$t("addNewPeople.primaryDetails.tmdb"))+" : "+l(e.tmdb_birth_date),1)):v("v-if",!0),e.route.params.type=="kobis"||e.iskobisIdClick||e.route.params.type=="internal"?(p(),g("p",fa,l(t.$t("addNewPeople.primaryDetails.kobis"))+" : "+l(e.kobis_birth_date),1)):v("v-if",!0)])])]),i("div",ba,[i("h3",null,l(t.$t("addNewPeople.primaryDetails.deathdate")),1),i("div",ya,[L(N,{onDate:e.getDeathDate,input_date:new Date(e.death_date),min_date:e.afterOneYear,datePlaceholder:e.datePlaceholder,disabled:e.isEdit},null,8,["onDate","input_date","min_date","datePlaceholder","disabled"]),i("div",ka,[e.route.params.type=="tmdb"||e.istmDBIdClick||e.route.params.type=="internal"?(p(),g("p",wa,l(t.$t("addNewPeople.primaryDetails.tmdb"))+" : "+l(e.tmdb_death_date),1)):v("v-if",!0),e.route.params.type=="kobis"||e.iskobisIdClick||e.route.params.type=="internal"?(p(),g("p",Da,l(t.$t("addNewPeople.primaryDetails.kobis"))+" : "+l(e.kobis_death_date),1)):v("v-if",!0)])])])])]),i("div",Ia,[i("h3",null,l(t.$t("addNewPeople.primaryDetails.job")),1),i("div",Pa,[i("div",Na,[i("div",Ca,[v(` <select @change="chooseJob" class="form-control">\r
                          <option selected disabled>\r
                            {{ $t("addNewPeople.primaryDetails.jobDefault") }}\r
                          </option>\r
                          <option\r
                            v-for="(job, index) in jobTitleList"\r
                            :value="job.department_id"\r
                            :key="index"\r
                            :disabled="isEdit"\r
                          >\r
                            {{ job.department_name }}\r
                          </option>\r
                        </select> `),L(q,{onDropdownValue:e.chooseJob,search_type:e.department,searchTitleListItem:e.jobTitleList,searchtitle:"department_name",searchvalue:"department_id",disabled:e.isEdit,labelItem:t.$t("addNewPeople.primaryDetails.jobDefault")},null,8,["onDropdownValue","search_type","searchTitleListItem","disabled","labelItem"])]),e.jobBelowList.length>0?(p(),g("div",Ma,[(p(!0),g(me,null,fe(e.jobBelowList,(_,d)=>(p(),g("div",{class:"count-list-tag",key:d},[te(l(_.department_name)+" ",1),i("span",{class:f(["corss",e.isEdit?"isDisabled":""])},[i("img",{src:_i,onClick:k=>e.removeJob(_),class:f(e.isEdit?"pointer-events-none":"")},null,10,Ea)],2)]))),128))])):v("v-if",!0)])])]),i("div",Sa,[i("h3",null,l(t.$t("addNewPeople.primaryDetails.country")),1),i("div",La,[i("div",Va,[i("div",Ua,[v(` <select\r
                          class="form-control"\r
                          @change="chooseCountry"\r
                          :class="error.country ? 'error-border' : ''"\r
                        >\r
                          <option disabled selected>\r
                            {{\r
                              $t("addNewPeople.primaryDetails.countryDefault")\r
                            }}\r
                          </option>\r
                          <option\r
                            v-for="(country, index) in countryList"\r
                            :key="index"\r
                            :value="country.id"\r
                            :disabled="isEdit"\r
                          >\r
                            {{ country.country_name }}\r
                          </option>\r
                        </select> `),L(q,{onDropdownValue:e.chooseCountry,search_type:e.country_id,searchTitleListItem:e.countryList,searchtitle:"country_name",searchvalue:"id",disabled:e.countryBelowList.length>5||e.isEdit,labelItem:t.$t("filterCard.selectCountry")},null,8,["onDropdownValue","search_type","searchTitleListItem","disabled","labelItem"])]),e.countryBelowList.length>0?(p(),g("div",Ta,[(p(!0),g(me,null,fe(e.countryBelowList,(_,d)=>(p(),g("div",{class:f(["count-list-tag",e.isEdit?"isDisabled":""]),key:d},[te(l(_.country_name)+" ",1),i("span",{class:f(["corss",e.isEdit?"pointer-events-none":""])},[i("img",{src:_i,onClick:k=>e.removeCountry(_)},null,8,Aa)],2)],2))),128))])):v("v-if",!0)])])])])]),qa,i("div",Oa,[i("div",Ba,[i("h3",null,l(t.$t("addNewPeople.primaryDetails.extenalData")),1),i("span",{onMouseover:a[2]||(a[2]=_=>t.hover=!0),onMouseleave:a[3]||(a[3]=_=>t.hover=!1)},ja,32)]),i("div",Fa,[i("div",za,[i("label",null,l(t.$t("addNewPeople.primaryDetails.tivingId")),1),S(i("input",{type:"text",class:f(["form-control",e.error.imdb_id?"error-border":""]),placeholder:"","onUpdate:modelValue":a[4]||(a[4]=_=>e.imdb_id=_),onKeypress:a[5]||(a[5]=_=>e.isNumChar(_)),maxlength:"255",disabled:e.isEdit},null,42,Ka),[[A,e.imdb_id]]),e.error.imdb_id?(p(),g("span",xa,l(e.error.imdb_id),1)):v("v-if",!0)]),i("div",Ha,[i("label",null,l(t.$t("addNewMoviesForm.ODKID")),1),S(i("input",{type:"text","onUpdate:modelValue":a[6]||(a[6]=_=>e.odk_id=_),class:f(["form-control",e.error.odk_id?"error-border":""]),placeholder:"",onKeypress:a[7]||(a[7]=_=>e.isNumChar(_)),maxlength:"255",disabled:e.isEdit},null,42,Ja),[[A,e.odk_id]]),e.error.odk_id?(p(),g("span",Ya,l(e.error.odk_id),1)):v("v-if",!0)]),i("div",Wa,[i("label",null,l(t.$t("addNewPeople.primaryDetails.tmdbId")),1),S(i("input",{type:"text","onUpdate:modelValue":a[8]||(a[8]=_=>e.tmdb_id=_),class:f(["form-control",e.error.tmdb_id?"error-border":""]),placeholder:"",onKeypress:a[9]||(a[9]=_=>e.isIntegerNumber(_)),disabled:e.isEdit},null,42,Za),[[A,e.tmdb_id]]),e.error.tmdb_id?(p(),g("span",Ga,l(e.error.tmdb_id),1)):v("v-if",!0),i("span",{class:f(["refreshBtn",e.isEdit?"pointer-events-none":""]),onClick:a[10]||(a[10]=_=>(e.getPrimaryDetails(),e.istmDBIdClick=!0))},Qa,2)]),i("div",$a,[i("label",null,l(t.$t("addNewPeople.primaryDetails.kobisId")),1),S(i("input",{type:"text","onUpdate:modelValue":a[11]||(a[11]=_=>e.kobis_id=_),class:f(["form-control",e.error.kobis_id?"error-border":""]),placeholder:"",onKeypress:a[12]||(a[12]=_=>e.isNumChar(_)),maxlength:"255",disabled:e.isEdit},null,42,et),[[A,e.kobis_id]]),e.error.kobis_id?(p(),g("span",it,l(e.error.kobis_id),1)):v("v-if",!0),i("span",{class:f(["refreshBtn",e.isEdit?"pointer-events-none":""]),onClick:a[13]||(a[13]=_=>(e.getPrimaryDetails(),e.iskobisIdClick=!0))},tt,2)])])]),i("div",st,[i("h3",null,[te(l(t.$t("addNewPeople.primaryDetails.name"))+" ",1),lt]),i("div",ot,[i("div",dt,[S(i("input",{"onUpdate:modelValue":a[14]||(a[14]=_=>e.people_name=_),type:"text",class:f(["form-control",e.error.people_name?"error-border":""]),placeholder:t.$t("addNewPeople.primaryDetails.typeName"),maxlength:"150",onKeyup:a[15]||(a[15]=_=>e.error.people_name=e.ref("")),onKeypress:a[16]||(a[16]=_=>e.isCharWithSpeailChar(_)),disabled:e.isEdit},null,42,rt),[[A,e.people_name]]),e.error.people_name?(p(),g("span",nt,l(e.error.people_name),1)):v("v-if",!0)]),i("div",_t,[e.route.params.type=="tmdb"||e.istmDBIdClick||e.route.params.type=="internal"?(p(),g("p",mt,l(t.$t("addNewPeople.primaryDetails.tmdb"))+" : "+l(e.tmdb_people_name),1)):v("v-if",!0),e.route.params.type=="kobis"||e.iskobisIdClick||e.route.params.type=="internal"?(p(),g("p",ut,l(t.$t("addNewPeople.primaryDetails.kobis"))+" : "+l(e.kobis_people_name),1)):v("v-if",!0)])])]),i("div",ct,[i("h3",null,l(t.$t("addNewPeople.primaryDetails.aka")),1),i("div",pt,[i("div",gt,[S(i("input",{"onUpdate:modelValue":a[17]||(a[17]=_=>e.aka=_),type:"text",class:"form-control",placeholder:t.$t("addNewPeople.primaryDetails.typeAKA"),maxlength:"150",disabled:e.isEdit},null,8,ht),[[A,e.aka]])]),i("div",vt,[e.route.params.type=="tmdb"||e.istmDBIdClick||e.route.params.type=="internal"?(p(),g("p",ft,l(t.$t("addNewPeople.primaryDetails.tmdb"))+" : "+l(e.tmdb_aka.toString()),1)):v("v-if",!0),e.route.params.type=="kobis"||e.iskobisIdClick||e.route.params.type=="internal"?(p(),g("p",bt,l(t.$t("addNewPeople.primaryDetails.kobis"))+" : "+l(e.kobis_aka.toString()),1)):v("v-if",!0)])])]),i("div",yt,[i("h3",null,l(t.$t("addNewPeople.primaryDetails.biography")),1),i("div",kt,[i("div",wt,[S(i("textarea",{onKeyup:a[18]||(a[18]=(..._)=>e.countdown&&e.countdown(..._)),"onUpdate:modelValue":a[19]||(a[19]=_=>e.biography=_),rows:"5",class:f(["form-control",e.error.biography?"error-border":""]),placeholder:t.$t("addNewPeople.primaryDetails.typeBiography"),maxlength:"230",disabled:e.isEdit},null,42,Dt),[[A,e.biography]]),e.error.biography?(p(),g("span",It,l(e.error.biography),1)):v("v-if",!0),i("span",Pt,l(e.remainingCount)+"/230",1)]),i("div",Nt,[e.route.params.type=="tmdb"||e.istmDBIdClick||e.route.params.type=="internal"?(p(),g("p",Ct,l(t.$t("addNewPeople.primaryDetails.tmdb"))+" : "+l(e.tmdb_biography),1)):v("v-if",!0),e.route.params.type=="kobis"||e.iskobisIdClick||e.route.params.type=="internal"?(p(),g("p",Mt,l(t.$t("addNewPeople.primaryDetails.kobis"))+" : "+l(e.kobis_biography),1)):v("v-if",!0)])])]),i("div",Et,[i("h3",null,l(t.$t("addNewPeople.primaryDetails.officialSite")),1),i("div",St,[i("div",Lt,[S(i("input",{type:"text","onUpdate:modelValue":a[20]||(a[20]=_=>e.official_site=_),class:f(["form-control",e.error.official_site?"error-border":""]),placeholder:"http//",onKeyup:a[21]||(a[21]=_=>e.checkURL(e.official_site,"official_site")),disabled:e.isEdit},null,42,Vt),[[A,e.official_site]]),e.error.official_site?(p(),g("span",Ut,l(e.error.official_site),1)):v("v-if",!0)]),i("div",Tt,[e.route.params.type=="tmdb"||e.istmDBIdClick||e.route.params.type=="internal"?(p(),g("p",At,l(t.$t("addNewPeople.primaryDetails.tmdb"))+": "+l(e.tmdb_official_site),1)):v("v-if",!0),e.route.params.type=="kobis"||e.iskobisIdClick||e.route.params.type=="internal"?(p(),g("p",qt,l(t.$t("addNewPeople.primaryDetails.kobis"))+" : "+l(e.kobis_official_site),1)):v("v-if",!0)])])]),i("div",Ot,[i("h3",null,l(t.$t("addNewPeople.primaryDetails.mediaLinks")),1),i("div",Bt,[i("label",null,l(t.$t("addNewPeople.primaryDetails.facebook")),1),i("div",Rt,[S(i("input",{type:"text","onUpdate:modelValue":a[22]||(a[22]=_=>e.facebook=_),class:f(["form-control",e.error.facebook?"error-border":""]),placeholder:"http//",onKeyup:a[23]||(a[23]=_=>e.checkURL(e.facebook,"facebook")),disabled:e.isEdit},null,42,jt),[[A,e.facebook]]),e.error.facebook?(p(),g("span",Ft,l(e.error.facebook),1)):v("v-if",!0)])]),i("div",zt,[i("label",null,l(t.$t("addNewPeople.primaryDetails.instagram")),1),i("div",Kt,[S(i("input",{type:"text","onUpdate:modelValue":a[24]||(a[24]=_=>e.instagram=_),class:f(["form-control",e.error.instagram?"error-border":""]),placeholder:"http//",onKeyup:a[25]||(a[25]=_=>e.checkURL(e.instagram,"instagram")),disabled:e.isEdit},null,42,xt),[[A,e.instagram]]),e.error.instagram?(p(),g("span",Ht,l(e.error.instagram),1)):v("v-if",!0)])]),i("div",Jt,[i("label",null,l(t.$t("addNewPeople.primaryDetails.twitter")),1),i("div",Yt,[S(i("input",{type:"text","onUpdate:modelValue":a[26]||(a[26]=_=>e.twitter=_),class:f(["form-control",e.error.twitter?"error-border":""]),placeholder:"http//",onKeyup:a[27]||(a[27]=_=>e.checkURL(e.twitter,"twitter")),disabled:e.isEdit},null,42,Wt),[[A,e.twitter]]),e.error.twitter?(p(),g("span",Zt,l(e.error.twitter),1)):v("v-if",!0)])])]),i("div",Gt,[i("h3",null,l(t.$t("addNewPeople.primaryDetails.newKeyword")),1),i("div",Xt,[i("div",Qt,[S(i("input",{type:"text","onUpdate:modelValue":a[28]||(a[28]=_=>e.news_keyword=_),class:"form-control",placeholder:t.$t("addNewPeople.primaryDetails.newKeywordPlacholder"),maxlength:"100",disabled:e.isEdit},null,8,$t),[[A,e.news_keyword]])])])]),i("div",es,[i("h3",null,l(t.$t("addNewPeople.primaryDetails.searchKeyword")),1),i("div",is,[i("div",as,[S(i("input",{type:"text","onUpdate:modelValue":a[29]||(a[29]=_=>e.search_keyword=_),class:"form-control",placeholder:t.$t("addNewPeople.primaryDetails.newKeywordPlacholder"),maxlength:"100",disabled:e.isEdit},null,8,ts),[[A,e.search_keyword]])])])]),i("div",{class:"divRows",onClick:a[30]||(a[30]=_=>e.isEdit==!0?e.isEditBtn():e.isSaveBtn())},[i("a",ss,l(e.isEdit?t.$t("button.edit"):t.$t("button.save")),1)])],32)])])]),v(" submit modal "),i("div",ls,[L(M,{isModal:e.isSubmit},{header:w(()=>[i("h1",{class:"text-center",innerHTML:t.$t("addNewMoviesForm.youShouldSubmitToSendTheAdd")},null,8,os)]),body:w(()=>[]),footer:w(()=>[i("div",ds,[i("button",{class:"black-outline-btn",disabled:e.isOkClicked,onClick:a[32]||(a[32]=_=>(e.isOkClicked=!0,e.submitPrimaryDetails()))},l(t.$t("button.ok")),9,rs),i("button",{class:"red-fill-btn",onClick:a[33]||(a[33]=_=>e.isSubmit=!1)},l(t.$t("button.cancel")),1)])]),_:1},8,["isModal"])])])}const _s=Be(Qi,[["render",ns],["__file","D:/11-db-frontend/11_db/src/components/AddNewPeople/PeoplePrimaryDetails.vue"]]);const ms={name:"MediaDetails",components:{Tabs:Ri,TabWrapper:ji,VideoThumb:Si,ImageThumb:Li,PopUpModal:Re},props:{site_language:{type:String},itemType:{type:String},saveIdList:{type:Object}},emits:["selectedId","isEditOn"],created(){this.AddNewPeopleService=new je,this.EditPeopleService=new Fe},data(){return{isEdit:!1,isVideoModal:!1,isImageModal:!1,video_url:"",video_title:"",is_official_trailer:"",error:{},video_list:[],background_image:"",background_image_url:"",background_image_filename:"",background_image_mime_type:"",background_image_originalname:"",background_image_size:"",background_image_path:"",background_error_msg:"",multipleImages:[],images:[],title_type:"people",video_details:[],image_details:[],routeId:this.$route.params.id,people_id:this.$route.params.external_id&&typeof this.$route.params.external_id=="string"?Number(this.$route.params.external_id):this.$route.params.external_id,draft_media_id:"",draft_request_id:"",image_list:[],isSubmit:!1,isAddNewImages:!1,isOKOnceClick:!1}},mounted(){var a,m,e,s;this.$route.params.type=="internal"&&(this.isEdit=!0);const t=JSON.parse(localStorage.getItem("draft_ids")||"[]");t[0]?this.routeId=(m=(a=t[0])==null?void 0:a.primaryDetails[this.title_type][this.site_language])!=null&&m.draft_request_id?(s=(e=t[0])==null?void 0:e.primaryDetails[this.title_type][this.site_language])==null?void 0:s.draft_request_id:"":this.routeId=this.routeId,setTimeout(()=>{this.getVideoList(),this.getImageList()},500)},watch:{site_language:function(t,a){var m,e,s,o;if(t&&t!=a){const y=JSON.parse(localStorage.getItem("draft_ids")||"[]");y[0]?this.routeId=(e=(m=y[0])==null?void 0:m.primaryDetails[this.title_type][this.site_language])!=null&&e.draft_request_id?(o=(s=y[0])==null?void 0:s.primaryDetails[this.title_type][this.site_language])==null?void 0:o.draft_request_id:"":this.routeId=this.routeId,this.video_details=[],this.background_image="",this.image_list=[],this.background_image_url="",setTimeout(()=>{this.getVideoList(),this.getImageList()},1e3)}}},methods:{isEditBtn(){this.isEdit=!1,this.$emit("isEditOn",!1)},getVideoList(){let t;this.$route.params.type=="internal"?t=this.EditPeopleService.mediaRequestList(this.$route.params.external_id,this.routeId,this.site_language,"video"):this.routeId&&(t=this.AddNewPeopleService.mediaRequestList(this.routeId,this.site_language,"video")),t.then(a=>{var m,e;a.status==200&&(this.video_details=a.data.video_details||a.data.result,this.draft_media_id=((m=a.data)==null?void 0:m.draft_media_id)||((e=a.data.video_details[0])==null?void 0:e.draft_media_id),Array.from(a.data.video_details).forEach((s,o)=>{s.video_id=s.id?s.id:"",this.video_details[o].id=this.validateVimeoURL(s.video_url)||this.matchYoutubeUrl(s.video_url),this.validateVimeoURL(s.video_url)?this.video_details[o].type="vimeo":this.video_details[o].type="youtube",this.video_list.push({id:s.video_id?s.video_id:"",video_url:s.video_url,video_title:s.video_title,is_official_trailer:s.is_official_trailer})}))}).catch(a=>{})},getImageList(){let t;this.$route.params.type=="internal"?t=this.EditPeopleService.mediaRequestList(this.$route.params.external_id,this.routeId,this.site_language,"image"):this.routeId&&(t=this.AddNewPeopleService.mediaRequestList(this.routeId,this.site_language,"image")),t.then(a=>{var m,e,s,o;a.status==200&&(this.image_details=a.data.image_details||a.data.result,this.draft_media_id=((m=a.data)==null?void 0:m.draft_media_id)||((e=a.data.bg_image_details[0])==null?void 0:e.draft_media_id),this.background_image_url=(s=a.data.bg_image_details[0])==null?void 0:s.image_path,this.background_image_originalname=(o=a.data.bg_image_details[0])==null?void 0:o.image_original_name,Array.from(a.data.image_details).forEach((y,N)=>{this.image_list.push({id:y.id?y.id:"",originalname:y.image_original_name,path:y.image_path})}))}).catch(a=>{console.log(a)})},AddVideo(){if(this.error.isUniqueUrl=E(()=>""),this.error.isUniqueTitle="",this.isValidUrl(this.video_url)){if(this.error.isValidUrlName=E(()=>""),this.video_details.filter(e=>this.video_url==e.video_url).length!=0){this.error.isUniqueUrl=this.$t("addNewMoviesForm.videoAlreadyUploaded");return}if(this.video_details.filter(e=>this.video_title==e.video_title).length!=0){this.error.isUniqueTitle=this.$t("addNewMoviesForm.videoTitleAlreadyUploaded");return}let a=this.matchYoutubeUrl(this.video_url),m=this.validateVimeoURL(this.video_url);if(m!=!1||a!=!1){this.error.isValidUrl=E(()=>"");let e=a?"youtube":"vimeo";this.video_details.push({video_url:this.video_url,video_title:this.video_title,is_official_trailer:this.is_official_trailer==!0?"y":"n",video_id:"",id:a||m,type:e}),this.isVideoModal=!1,this.video_url="",this.video_title="",this.is_official_trailer=!1}else this.error.isValidUrl=E(()=>this.$t("Error.youtubeVomeo"))}else this.error.isValidUrlName=E(()=>this.$t("Error.validEnterUrl"))},cancelVideo(){this.isVideoModal=!1,this.video_url="",this.video_title="",this.is_official_trailer="",this.error.isUniqueUrl=E(()=>""),this.error.isUniqueTitle="",this.error.isValidUrlName=E(()=>""),this.error.isValidUrl=E(()=>"")},onFileChange(t){let a=t.target.files||t.dataTransfer.files;if(!a.length)return;this.background_image=a[0];let m=t.target.files[0].size,e=/(\.jpg|\.jpeg|\.png)$/i;if(e.exec(this.background_image.name)){if(m>1024*1024*25)return this.background_error_msg="\uC5C5\uB85C\uB4DC \uD30C\uC77C \uC6A9\uB7C9\uC740 \uCD5C\uB300 25mb\uC785\uB2C8\uB2E4",F.fire({title:this.$t("Error.uploadFileSize")}),this.background_image_url="",document.querySelector("#bg-picker-1").value="",!1;if(e.exec(this.background_image.name)){this.background_error_msg="",this.background_image_url=URL.createObjectURL(t.target.files[0]);let s=new FormData;s.append("draft_request_id",this.routeId?this.routeId:""),s.append("site_language",this.site_language),s.append("image",this.background_image),this.AddNewPeopleService.uploadBackgroundImages(s).then(o=>{o.status==200&&(this.background_image_url=o.data.bg_image_details[0].location,this.background_image_size=o.data.bg_image_details[0].size,this.background_image_filename=o.data.bg_image_details[0].filename,this.background_image_mime_type=o.data.bg_image_details[0].mime_type,this.background_image_originalname=o.data.bg_image_details[0].originalname,this.background_image_path=o.data.bg_image_details[0].path)}).catch(o=>{})}}else return this.background_error_msg="jpg, jpeg, png \uD30C\uC77C\uB9CC \uC5C5\uB85C\uB4DC \uAC00\uB2A5\uD569\uB2C8\uB2E4",this.background_image_url="",F.fire({title:this.$t("Error.onlyJpg")}),document.querySelector("#bg-picker-1").value="",!1;this.background_error_msg=""},selectMultipleImages(t){let a=t.target.files||t.dataTransfer.files;if(!a.length)return;let m=a.length,e=this.multipleImages.length+m,s=/(\.jpg|\.jpeg|\.png)$/i;for(let o=0;o<m;o++)if(s.exec(a[o].name)){if(t.target.files[o].size>1024*1024*25)return F.fire({title:this.$t("Error.uploadFileSize")}),document.querySelector("#image-pick").value="",!1;s.exec(a[o].name)&&(e>5?(F.fire({title:this.$t("addNewPeople.mediadetails.Maximum5imagesuploaded")}),document.querySelector("#image-pick").value=""):(this.images.push(a[o]),this.multipleImages.push({url:URL.createObjectURL(t.target.files[o]),file:a[o]})))}else return F.fire({title:this.$t("Error.onlyJpg")}),document.querySelector("#image-pick").value="",!1},removeImages(t){let a=this.multipleImages.find(e=>e.url==t.url);a&&this.multipleImages.splice(this.multipleImages.indexOf(a),1);let m=this.images.find(e=>e==t.file);m&&this.images.splice(this.images.indexOf(m),1)},addNewImages(){this.isAddNewImages=!0;let t=new FormData;t.append("draft_request_id",this.routeId?this.routeId:""),t.append("site_language",this.site_language),this.images.forEach((a,m)=>t.append("images",a)),this.AddNewPeopleService.uploadMediaImages(t).then(a=>{a.status==200?(this.isAddNewImages=!1,Array.from(a.data.image_list).forEach((m,e)=>{this.image_list.push({id:"",filename:m.filename,originalname:m.originalname,path:m.location,size:m.size,mime_type:m.mime_type}),this.image_details.push({draft_request_id:m.request_id,image_original_name:m.originalname,image_path:m.location,draft_media_id:this.draft_media_id})}),this.isImageModal=!1,this.images=[],this.multipleImages=[]):this.isAddNewImages=!1}).catch(a=>{})},AddMediaDetails(){this.isSubmit=!0},submitMediaDetails(){this.saveMediaDetails()},saveMediaDetails(){var o,y,N,q,M,_;let t,a=[],m=[];this.$route.params.type=="internal"?(Array.from(this.video_details).forEach((d,k)=>{a.push({video_url:d.video_url,video_title:d.video_title,is_official_trailer:d.is_official_trailer,id:d.video_id?d.video_id:""})}),Array.from(this.image_list).forEach((d,k)=>{m.push({id:d.id?d.id:"",originalname:d.originalname,filename:d.filename?d.filename:d.originalname,path:d.path,size:d.size?d.size:0,mime_type:d.mime_type})})):(Array.from(this.video_details).forEach((d,k)=>{a.push({video_url:d.video_url,video_title:d.video_title,is_official_trailer:d.is_official_trailer})}),Array.from(this.image_list).forEach(d=>{m.push({originalname:d.originalname,filename:d.filename?d.filename:d.originalname,path:d.path,size:d.size,mime_type:d.mime_type})}));const e=JSON.parse(localStorage.getItem("draft_ids")||"[]");e[0]&&this.$route.params.type=="internal"&&(this.routeId=(y=(o=e[0])==null?void 0:o.primaryDetails[this.title_type][this.site_language])!=null&&y.draft_request_id?(q=(N=e[0])==null?void 0:N.primaryDetails[this.title_type][this.site_language])==null?void 0:q.draft_request_id:(M=e[0])!=null&&M.primaryDetails[this.title_type].draft_relation_id?(_=e[0])==null?void 0:_.primaryDetails[this.title_type].draft_relation_id:"");let s={draft_request_id:this.routeId,draft_media_id:this.draft_media_id,site_language:this.site_language,video_list:a,background_image:this.background_image_url?[{path:this.background_image_url,filename:this.background_image_filename?this.background_image_filename:this.background_image_originalname,mime_type:this.background_image_mime_type?this.background_image_mime_type:"",originalname:this.background_image_originalname,size:this.background_image_size?this.background_image_size:""}]:[],image_list:m};this.$route.params.type=="internal"?(s.people_id=this.people_id,t=this.EditPeopleService.addMediaDetails(s)):t=this.AddNewPeopleService.addMediaDetails(s),t.then(d=>{var k;if(d.status==200){if(this.saveIdList.media_request_id=d.data.data[0].draft_media_id,this.draft_request_id=d.data.data[0].draft_request_id,this.$emit("selectedId",this.saveIdList),this.isOKOnceClick=!1,this.$route.params.type=="internal"){const C=JSON.parse(localStorage.getItem("draft_ids")||"[]");if(C[0])((k=C[0].primaryDetails[this.itemType][this.site_language])==null?void 0:k.draft_request_id)||(C[0].primaryDetails[this.itemType][this.site_language]=d.data.data[0]);else{const Q={primaryDetails:{[this.itemType]:{[this.site_language]:d.data.data[0],draft_relation_id:d.data.data[0].draft_request_id}}};C.push(Q)}localStorage.setItem("draft_ids",JSON.stringify(C)),this.$router.push(`/AddNewPeopleForm/${this.people_id}/internal/${this.draft_request_id}`)}this.video_list=[],a=[],m=[],this.image_list=[],this.getVideoList(),this.getImageList(),this.isSubmit=!1,F.fire({title:this.$t("Error.success")})}else this.isOKOnceClick=!1}).catch(d=>{console.log(d)})},removeVideoItem(t){this.video_details.find(m=>m==t)&&this.video_details.splice(this.video_details.indexOf(t),1)},setOfficialTrailer(t){let a=this.video_details.find(m=>m==t);a&&(a.is_official_trailer="y")},removeImagesItem(t){this.image_details.find(m=>m==t)&&this.image_details.splice(this.image_details.indexOf(t),1),this.image_list=[],Array.from(this.image_details).forEach((m,e)=>{this.image_list.push({id:m.id,originalname:m.image_original_name,path:m.image_path})})},validateVimeoURL:Fi,matchYoutubeUrl:zi,isValidUrl:Oe,computed:E}},se=t=>(xi("data-v-cb95888c"),t=t(),Hi(),t),us={class:"media-from-details"},cs={class:"page-heading-area page-main-heading"},ps={class:"media-tabber-area"},gs={class:"title-area inner-sub-heading"},hs={class:"thumb-grid-area"},vs={key:1,class:"tv-no-data"},fs={class:"image-upload-show-area"},bs={class:"image-upload-area"},ys={key:0,class:"img-uploadbox"},ks={class:"upload-options"},ws=["disabled"],Ds={class:"img-icons"},Is=se(()=>i("circle",{cx:"34.4999",cy:"34.9999",r:"33.5624",stroke:"white"},null,-1)),Ps=se(()=>i("path",{d:"M35.5 44H26.1C25.9409 44 25.7883 43.9368 25.6757 43.8243C25.5632 43.7117 25.5 43.5591 25.5 43.4V26.6C25.5 26.4409 25.5632 26.2883 25.6757 26.1757C25.7883 26.0632 25.9409 26 26.1 26H42.9C43.0591 26 43.2117 26.0632 43.3243 26.1757C43.4368 26.2883 43.5 26.4409 43.5 26.6V36",stroke:"white","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)),Ns=se(()=>i("path",{d:"M25.5 39L32.5 36L38 38.5M38.5 42H41.5M44.5 42H41.5M41.5 42V39M41.5 42V45M38.5 33C37.9696 33 37.4609 32.7893 37.0858 32.4142C36.7107 32.0391 36.5 31.5304 36.5 31C36.5 30.4696 36.7107 29.9609 37.0858 29.5858C37.4609 29.2107 37.9696 29 38.5 29C39.0304 29 39.5391 29.2107 39.9142 29.5858C40.2893 29.9609 40.5 30.4696 40.5 31C40.5 31.5304 40.2893 32.0391 39.9142 32.4142C39.5391 32.7893 39.0304 33 38.5 33V33Z",stroke:"white","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)),Cs=[Is,Ps,Ns],Ms={key:1,class:"img-editbox"},Es={class:"img-display-area"},Ss=["src"],Ls={class:"img-icon"},Vs=["disabled"],Us=se(()=>i("svg",{width:"69",height:"70",viewBox:"0 0 69 70",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[i("circle",{cx:"34.4999",cy:"34.9999",r:"33.0624",stroke:"white","stroke-width":"2"}),i("path",{d:"M41.7075 27.7911L41.7076 27.7912C42.3745 28.4581 42.6336 29.0162 42.7348 29.3775C42.7795 29.5368 42.7947 29.6625 42.7989 29.7479L36.8837 35.6631L36.8836 35.6631L31.1109 41.4334C31.0866 41.317 31.0477 41.172 30.9854 41.0055C30.8321 40.5959 30.5401 40.064 29.9886 39.513C29.4368 38.9612 28.905 38.6693 28.4956 38.5161C28.3269 38.453 28.1803 38.414 28.0633 38.3898L33.8377 32.6163L33.8377 32.6162L39.7534 26.7006C39.8386 26.7048 39.964 26.72 40.123 26.7645C40.4841 26.8657 41.0417 27.1248 41.7075 27.7911ZM30.6512 41.7477C30.7066 41.7465 30.7558 41.7454 30.7996 41.7445L30.7996 41.7445L30.6512 41.7477ZM27.5158 41.9903C27.7506 42.221 27.9484 42.4864 28.1025 42.7772L26.3489 43.149L26.7208 41.3954C27.0122 41.5504 27.2782 41.749 27.5097 41.9843L27.5097 41.9844L27.5158 41.9903ZM27.7542 38.8507L27.7574 38.6957L27.7574 38.6957C27.7564 38.7411 27.7554 38.7925 27.7542 38.8507Z",stroke:"white"})],-1)),Ts={class:"note"},As=se(()=>i("br",null,null,-1)),qs={class:"title-area"},Os={class:"images-grid-area"},Bs={key:1,class:"tv-no-data"},Rs={class:"new-cast-modal"},js={class:"cast-details"},Fs={class:"right"},zs={class:"form-grp"},Ks={class:"video-error-heading"},xs={for:""},Hs=se(()=>i("span",null,"*",-1)),Js={key:0,class:"error"},Ys={key:1,class:"error"},Ws={class:"form-grp"},Zs={for:""},Gs=["placeholder"],Xs={key:0,class:"instruction error-url"},Qs={class:"add-check"},$s={for:"official-trailer"},el=se(()=>i("div",{class:"checkbox"},[i("img",{src:Ui,alt:"",class:"unchecked-icon"}),i("img",{src:Xi,alt:"",class:"checked-icon"})],-1)),il={class:"check-text"},al={class:"button-group"},tl=["disabled"],sl={class:"new-cast-modal add-img-modal"},ll={class:"upload-img-btn"},ol={class:"image-grid"},dl=["src"],rl=["onClick"],nl={class:"button-group"},_l=["disabled"],ml={class:"new-cast-modal center-popup-modal"},ul=["innerHTML"],cl={class:"button-group"},pl=["disabled"];function gl(t,a,m,e,s,o){const y=O("VideoThumb"),N=O("Tabs"),q=O("ImageThumb"),M=O("TabWrapper"),_=O("PopUpModal");return p(),g(me,null,[i("div",us,[i("div",cs,[i("h2",null,l(t.$t("addNewMoviesForm.media")),1)]),i("div",ps,[L(M,null,{default:w(()=>[L(N,{title:"addNewPeople.mediadetails.videoTitle"},{default:w(()=>[i("div",gs,[i("h2",null,l(t.$t("addNewPeople.mediadetails.videoTitle")),1),i("div",{class:f(s.isEdit?"isDisabled":"")},[i("a",{class:f(["advid-btn",s.isEdit?"pointer-events-none":""]),onClick:a[0]||(a[0]=d=>s.isVideoModal=!0)},l(t.$t("addNewPeople.mediadetails.add+")),3)],2)]),i("div",hs,[s.video_details.length>0?(p(!0),g(me,{key:0},fe(s.video_details,(d,k)=>(p(),Ie(y,{key:k,video:d,onRemoveVideoItem:o.removeVideoItem,onSetTrailer:o.setOfficialTrailer,isEdit:s.isEdit},null,8,["video","onRemoveVideoItem","onSetTrailer","isEdit"]))),128)):(p(),g("div",vs,l(t.$t("addNewPeople.noData")),1))]),i("div",{class:f(s.routeId==""&&t.$route.params.type!="internal"?"isDisabled":"")},[i("a",{onClick:a[1]||(a[1]=d=>s.isEdit==!0?o.isEditBtn():o.AddMediaDetails()),class:f([s.routeId==""&&t.$route.params.type!="internal"?"pointer-events-none":"","saveBtn"])},l(s.isEdit?t.$t("button.edit"):t.$t("button.save")),3)],2)]),_:1}),L(N,{title:"mediaSection.images"},{default:w(()=>[i("div",fs,[i("div",bs,[i("h3",null,l(t.$t("addNewPeople.mediadetails.backgroundTitle")),1),s.background_image_url?v("v-if",!0):(p(),g("div",ys,[i("div",ks,[i("label",{class:f(s.routeId==""&&t.$route.params.type!="internal"||s.isEdit?"isDisabled":"")},[i("input",{type:"file",class:"image-upload",accept:"image/*",onChange:a[2]||(a[2]=(...d)=>o.onFileChange&&o.onFileChange(...d)),id:"bg-picker-1",disabled:s.routeId==""&&t.$route.params.type!="internal"||s.isEdit},null,40,ws),i("span",Ds,[(p(),g("svg",{width:"69",height:"70",viewBox:"0 0 69 70",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:f(s.routeId==""&&t.$route.params.type!="internal"?"isDisabled":"")},Cs,2))])],2)])])),s.background_image_url?(p(),g("div",Ms,[i("div",Es,[i("img",{src:s.background_image_url},null,8,Ss)]),i("span",Ls,[i("input",{type:"file",class:"image-upload",accept:"image/*",onChange:a[3]||(a[3]=(...d)=>o.onFileChange&&o.onFileChange(...d)),id:"bg-picker-1",disabled:s.routeId==""&&t.$route.params.type!="internal"||s.isEdit},null,40,Vs),Us])])):v("v-if",!0),i("div",Ts,[i("p",null,[te(l(t.$t("addNewMoviesForm.fileSize")),1),i("span",null,l(t.$t("addNewMoviesForm.lessthan25mb")),1),te(l(t.$t("addNewMoviesForm.imageSize")),1),i("span",null,l(t.$t("addNewMoviesForm.1920x946px")),1),As,te(l(t.$t("addNewMoviesForm.fileType")),1),i("span",null,l(t.$t("addNewMoviesForm.jpgPng")),1)])])]),i("div",qs,[i("h2",null,l(t.$t("addNewPeople.mediadetails.imagesTitle")),1),i("div",{class:f(s.isEdit?"isDisabled":"")},[i("a",{class:f(["advid-btn",s.isEdit?"pointer-events-none":""]),onClick:a[4]||(a[4]=d=>s.isImageModal=!0)},l(t.$t("addNewPeople.mediadetails.add+")),3)],2)]),i("div",Os,[s.image_details.length>0?(p(!0),g(me,{key:0},fe(s.image_details,(d,k)=>(p(),Ie(q,{key:k,image:d,onRemoveItem:o.removeImagesItem,isEdit:s.isEdit},null,8,["image","onRemoveItem","isEdit"]))),128)):(p(),g("div",Bs,l(t.$t("addNewPeople.noData")),1))]),i("div",{class:f(s.image_list.length==0&&!s.background_image_url||s.routeId==""&&t.$route.params.type!="internal"?"isDisabled":"")},[i("a",{onClick:a[5]||(a[5]=d=>s.isEdit==!0?o.isEditBtn():o.AddMediaDetails()),class:f([s.routeId==""&&t.$route.params.type!="internal"?"pointer-events-none":"","saveBtn"])},l(s.isEdit?t.$t("button.edit"):t.$t("button.save")),3)],2)])]),_:1})]),_:1})])]),i("div",Rs,[L(_,{isModal:s.isVideoModal},{header:w(()=>[i("h1",null,l(t.$t("addNewPeople.mediadetails.videoDialogTitle")),1),v(` <button @click="isVideoModal = false">\r
            <img src="@/assets/icons/modal-cross-icon.svg" alt="" />\r
          </button> `)]),body:w(()=>[i("div",js,[i("div",Fs,[i("div",zs,[i("div",Ks,[i("label",xs,[te(l(t.$t("addNewPeople.mediadetails.videoURL")),1),Hs]),s.error.isUniqueUrl?(p(),g("span",Js,l(t.$t("addNewPeople.mediadetails.alreadyExistsURL")),1)):v("v-if",!0),s.error.isValidUrlName?(p(),g("span",Ys,l(s.error.isValidUrlName),1)):v("v-if",!0)]),S(i("input",{type:"text",placeholder:"https://","onUpdate:modelValue":a[6]||(a[6]=d=>s.video_url=d),onInput:a[7]||(a[7]=(s.error.isValidUrl=o.computed(()=>""),s.error.isUniqueUrl=o.computed(()=>""))),class:f(s.error.isValidUrl||s.error.isUniqueUrl||s.error.isValidUrlName?"error-border":""),maxlength:"250"},null,34),[[A,s.video_url]]),i("p",{class:f(["instruction",s.error.isValidUrl?"error-url":""])},l(t.$t("addNewPeople.mediadetails.videoValidation")),3)]),i("div",Ws,[i("label",Zs,l(t.$t("addNewPeople.mediadetails.videoName")),1),S(i("input",{type:"text",placeholder:t.$t("addNewPeople.mediadetails.enterVideoTitle"),"onUpdate:modelValue":a[8]||(a[8]=d=>s.video_title=d),class:f(s.error.isUniqueTitle?"error-border":""),maxlength:"250"},null,10,Gs),[[A,s.video_title]]),s.error.isUniqueTitle?(p(),g("p",Xs,l(t.$t("addNewPeople.mediadetails.alreadyExistsTitle")),1)):v("v-if",!0),i("div",Qs,[i("label",$s,[S(i("input",{type:"checkbox",id:"official-trailer","onUpdate:modelValue":a[9]||(a[9]=d=>s.is_official_trailer=d)},null,512),[[Ki,s.is_official_trailer]]),el,i("p",il,l(t.$t("addNewPeople.mediadetails.addAsTrailer")),1)])])])])])]),footer:w(()=>[i("div",al,[i("button",{class:f(["black-outline-btn",s.video_url==""||s.video_title==""?"isDisabled":""]),disabled:s.video_url==""||s.video_title=="",onClick:a[10]||(a[10]=(...d)=>o.AddVideo&&o.AddVideo(...d))},l(t.$t("addNewPeople.mediadetails.saveButton")),11,tl),i("button",{class:"red-fill-btn",onClick:a[11]||(a[11]=(...d)=>o.cancelVideo&&o.cancelVideo(...d))},l(t.$t("addNewPeople.mediadetails.cancelButton")),1)])]),_:1},8,["isModal"])]),i("div",sl,[L(_,{isModal:s.isImageModal},{header:w(()=>[i("h1",null,l(t.$t("addNewPeople.mediadetails.imageDialogTitle")),1),v(` <button @click="isImageModal = false">\r
            <img src="@/assets/icons/modal-cross-icon.svg" alt="" />\r
          </button> `)]),body:w(()=>[i("div",{class:f(["image-picker",s.images.length==5?"isDisabled":""])},[i("input",{type:"file",name:"",id:"image-pick",ref:"file",multiple:"multiple",onChange:a[12]||(a[12]=(...d)=>o.selectMultipleImages&&o.selectMultipleImages(...d))},null,544),i("label",{for:"image-pick",class:f(s.images.length==5?"pointer-events-none":"")},[i("h1",ll,l(t.$t("addNewPeople.mediadetails.uploadImages")),1)],2)],2),i("div",ol,[(p(!0),g(me,null,fe(s.multipleImages,(d,k)=>(p(),g("div",{class:"each-img",key:k},[i("img",{src:d.url,alt:"",class:"picked-img"},null,8,dl),i("img",{onClick:C=>o.removeImages(d),src:Vi,alt:"",class:"cross-icon"},null,8,rl)]))),128))])]),footer:w(()=>[i("div",nl,[i("button",{class:f(["black-outline-btn",s.images.length==0||s.isAddNewImages||s.routeId==""&&t.$route.params.type!="internal"?"isDisabled":""]),disabled:s.images.length==0||s.isAddNewImages||s.routeId==""&&t.$route.params.type!="internal",onClick:a[13]||(a[13]=(...d)=>o.addNewImages&&o.addNewImages(...d))},l(t.$t("addNewPeople.mediadetails.addButton")),11,_l),i("button",{class:"red-fill-btn",onClick:a[14]||(a[14]=d=>(s.isImageModal=!1,s.multipleImages=[],s.images=[]))},l(t.$t("addNewPeople.mediadetails.cancelButton")),1)])]),_:1},8,["isModal"])]),v(" submit modal "),i("div",ml,[L(_,{isModal:s.isSubmit},{header:w(()=>[i("h1",{class:"text-center",innerHTML:t.$t("addNewMoviesForm.youShouldSubmitToSendTheAdd")},null,8,ul)]),body:w(()=>[]),footer:w(()=>[i("div",cl,[i("button",{class:"black-outline-btn",onClick:a[15]||(a[15]=d=>(s.isOKOnceClick=!0,o.submitMediaDetails())),disabled:s.isOKOnceClick},l(t.$t("button.ok")),9,pl),i("button",{class:"red-fill-btn",onClick:a[16]||(a[16]=d=>s.isSubmit=!1)},l(t.$t("addNewPeople.mediadetails.cancelButton")),1)])]),_:1},8,["isModal"])])],64)}const hl=Be(ms,[["render",gl],["__scopeId","data-v-cb95888c"],["__file","D:/11-db-frontend/11_db/src/components/AddNewPeople/MediaDetails.vue"]]),vl={name:"AddNewPeople",emits:["on-current-theme-change"],components:{LeftMenuPanel:Ti,PeoplePrimaryDetails:_s,PopUpModal:Re,MediaDetails:hl},setup(){const t=mi(),a=ui(),m=n(!1),e=n([]),s=n(""),o=n("primary"),y=n("people"),N=n({}),q=new Ji,M=new je,_=new Fe,d=n(!1),k=n(t.params.id),C=n(!1),Q=n(!1),be=()=>{q.languageDropdown().then(b=>{b.status==200&&(e.value=b.data.results,s.value=localStorage.getItem("site_language")?localStorage.getItem("site_language"):e.value[0].language_code,e.value.forEach(V=>{V.language_name=V.language_name.charAt(0).toUpperCase()+V.language_name.slice(1)}),localStorage.setItem("site_language",s.value))}).catch(b=>{})},le=b=>{s.value=b,localStorage.setItem("site_language",s.value)};return be(),{languageList:e,language:s,saveIdList:N,menu:o,type:y,getId:b=>{N.value=b},getMenudata:b=>{o.value=b},submitAllData:()=>{var de,z,U,re;let b;Q.value=!0;const V=JSON.parse(localStorage.getItem("draft_ids")||"[]");V[0]?k.value=(z=(de=V[0])==null?void 0:de.primaryDetails.people)!=null&&z.draft_relation_id?(re=(U=V[0])==null?void 0:U.primaryDetails.people)==null?void 0:re.draft_relation_id:"":k.value=k.value,t.params.type=="internal"?b=_.submitData(k.value,t.params.external_id):b=M.submitData(k.value),b.then(K=>{K.status==200?(d.value=!1,C.value=!0,Q.value=!1,localStorage.removeItem("site_language"),localStorage.removeItem("draft_ids")):Q.value=!1}).catch(K=>{})},isSubmit:d,isSuccess:C,submitData:()=>{d.value=!0},closeModal:()=>{d.value=!1,C.value=!1},goPageBack:()=>{C.value=!1,a.push(localStorage.getItem("peopleBackPage")?localStorage.getItem("peopleBackPage"):"/AddNewPeople"),localStorage.removeItem("peopleBackPage")},issubmitAllData:Q,getSelctedLang:le,getEdit:b=>{m.value=!b},isEdittable:m}}},fl={class:"add-new-movie-form"},bl={class:"new-container"},yl={class:"page-heads-area"},kl=["innerHTML"],wl=["innerHTML"],Dl={class:"filter-section"},Il={class:"select-option"},Pl={class:"mypage-wrapper"},Nl={class:"mypage-rght"},Cl={class:"new-cast-modal center-popup-modal"},Ml={class:"cast-details"},El={class:"button-group"},Sl=["disabled"],Ll={class:"new-cast-modal center-popup-modal"},Vl={class:"text-center"},Ul={class:"button-group"};function Tl(t,a,m,e,s,o){const y=O("Dropdown"),N=O("LeftMenuPanel"),q=O("PeoplePrimaryDetails"),M=O("MediaDetails"),_=O("PopUpModal");return p(),g("div",null,[i("div",fl,[i("div",bl,[i("div",yl,[t.$route.params.type!=="internal"?(p(),g("h1",{key:0,class:"heading",innerHTML:t.$t("addNewPeople.header")},null,8,kl)):(p(),g("h1",{key:1,class:"heading",innerHTML:t.$t("addNewPeople.editPeople")},null,8,wl)),i("div",Dl,[i("div",Il,[v(` <select\r
                class="select-style"\r
                v-model="language"\r
                @change="getSelctedLang"\r
              >\r
                <option\r
                  v-for="(lang, index) in languageList"\r
                  :key="index"\r
                  :value="lang.language_code"\r
                >\r
                  {{\r
                    lang.language_name.charAt(0).toUpperCase() +\r
                    lang.language_name.slice(1)\r
                  }}\r
                </option>\r
              </select> `),L(y,{onDropdownValue:e.getSelctedLang,search_type:e.language,searchTitleListItem:e.languageList,searchtitle:"language_name",searchvalue:"language_code"},null,8,["onDropdownValue","search_type","searchTitleListItem"])])])]),i("div",Pl,[L(N,{onMovieMenudata:e.getMenudata,menuType:e.type,selectedMenu:e.menu,saveIdList:e.saveIdList,onSubmitData:e.submitData,onTabChanged:a[0]||(a[0]=d=>e.isEdittable=!1),isEdittable:e.isEdittable},null,8,["onMovieMenudata","menuType","selectedMenu","saveIdList","onSubmitData","isEdittable"]),i("div",Nl,[e.languageList.length>0&&e.menu=="primary"?(p(),Ie(q,{key:0,site_language:e.language,onSelectedId:e.getId,onIsEditOn:e.getEdit},null,8,["site_language","onSelectedId","onIsEditOn"])):v("v-if",!0),e.languageList.length>0&&e.menu=="media"?(p(),Ie(M,{key:1,site_language:e.language,saveIdList:e.saveIdList,onSelectedId:e.getId,itemType:e.type,onIsEditOn:e.getEdit},null,8,["site_language","saveIdList","onSelectedId","itemType","onIsEditOn"])):v("v-if",!0)])])])]),v(" submit modal "),i("div",Cl,[L(_,{isModal:e.isSubmit},{header:w(()=>[i("h1",null,l(t.$t("addNewMoviesForm.confirmationOfSubmit")),1)]),body:w(()=>[i("div",Ml,[i("p",null,l(t.$t("addNewMoviesForm.submitEditing")),1)])]),footer:w(()=>[i("div",El,[i("button",{class:f(["black-outline-btn",e.issubmitAllData?"isDisabled":""]),onClick:a[1]||(a[1]=(...d)=>e.submitAllData&&e.submitAllData(...d)),disabled:e.issubmitAllData},l(t.$t("button.ok")),11,Sl),i("button",{class:"red-fill-btn",onClick:a[2]||(a[2]=(...d)=>e.closeModal&&e.closeModal(...d))},l(t.$t("button.cancel")),1)])]),_:1},8,["isModal"])]),v(" success modal "),i("div",Ll,[L(_,{isModal:e.isSuccess},{header:w(()=>[i("h1",Vl,l(t.$t("addNewPeople.submitSuccess")),1)]),body:w(()=>[]),footer:w(()=>[i("div",Ul,[i("button",{class:"black-outline-btn",onClick:a[3]||(a[3]=(...d)=>e.goPageBack&&e.goPageBack(...d))},l(t.$t("button.ok")),1)])]),_:1},8,["isModal"])])])}const Hl=Be(vl,[["render",Tl],["__file","D:/11-db-frontend/11_db/src/views/AddPeople/AddNewPeopleForm.vue"]]);export{Hl as default};
