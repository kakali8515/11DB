import{F as _,P as w}from"./PopularCard.06f0979d.js";import{T as f}from"./TVShowsDetailsService.480c1ef2.js";import{_ as v,r as c,o,c as i,a,t as l,p as S,F as R,s as T,b as h,l as D}from"./index.d6ed331f.js";import"./AddNewMovieService.a6b28c14.js";import"./MoviesDetailsService.75e9ea61.js";import"./Calender.32f04616.js";const U={name:"TvShowsUpcoming",components:{FilterCard:_,PopularCard:w},inject:["common"],data(){return{type:"tv",page:1,limit:20,popular_list:[],totalRecords:0,newResult:[],search_params:{},isData:!1}},watch:{"common.state.SelectedLang":function(t,e){t&&t!=e&&(this.newResult=[],this.page=1,this.getUpcomingTVshows())}},mounted(){localStorage.removeItem("site_language"),localStorage.removeItem("draft_ids"),this.getUpcomingTVshows(),window.addEventListener("scroll",this.onScroll)},beforeUnmount(){window.removeEventListener("scroll",this.onScroll)},methods:{getUpcomingTVshows(){let t={page:this.page,limit:this.limit,search_params:this.search_params};f.getUpcomingTVshows(t).then(e=>{e.status==200&&(this.isData=!0,this.popular_list=e.data.results,this.totalRecords=e.data.total_records,this.popular_list.forEach(n=>{this.newResult.some(s=>s.id===n.id)||this.newResult.push(n)}))}).catch(e=>{})},searchData(t){this.search_params=t,this.newResult=[],this.page=1,this.getUpcomingTVshows()},onScroll(){document.documentElement.offsetHeight+document.documentElement.scrollTop>=document.documentElement.scrollHeight&&this.totalRecords>this.newResult.length&&(this.page=++this.page,setTimeout(()=>{this.getUpcomingTVshows()},100))}}},V={class:"movies-sec"},k={class:"container"},y={class:"movies-main"},C={class:"moives-list"},E={key:0,class:"outerside"},b={key:1,class:"list-no-data"};function F(t,e,n,m,s,p){const d=c("FilterCard"),u=c("PopularCard");return o(),i("section",V,[a("div",k,[a("h2",null,l(t.$t("tvShows.tvShowsUpcoming")),1),a("div",y,[S(d,{onGetSearchData:p.searchData,certificationtype:s.type},null,8,["onGetSearchData","certificationtype"]),a("div",C,[s.newResult.length>0?(o(),i("div",E,[(o(!0),i(R,null,T(s.newResult,(r,g)=>(o(),D(u,{key:g,popular:r,RedirectLink:`/tvshows/details/${r.id}`},null,8,["popular","RedirectLink"]))),128))])):h("v-if",!0),s.isData&&s.newResult.length==0?(o(),i("p",b,l(t.$t("searchResults.noData")),1)):h("v-if",!0)])])])])}const G=v(U,[["render",F],["__file","D:/11-db-frontend/11_db/src/views/TvShows/TvShowsUpcoming.vue"]]);export{G as default};
